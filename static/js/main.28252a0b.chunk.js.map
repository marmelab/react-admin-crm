{"version":3,"sources":["../../../packages/ra-ui-materialui/esm/defaultTheme.js","../../../packages/ra-core/esm/auth/AuthContext.js","../../../packages/ra-core/esm/core/dataFetchActions.js","../../../packages/ra-core/esm/dataProvider/convertLegacyDataProvider.js","../../../packages/ra-core/esm/dataProvider/DataProviderContext.js","../../../packages/ra-core/esm/actions/resourcesActions.js","../../../packages/ra-core/esm/actions/uiActions.js","../../../packages/ra-core/esm/actions/fetchActions.js","../../../packages/ra-core/esm/util/getFetchedAt.js","../../../packages/ra-core/esm/reducer/admin/resource/data.js","../../../packages/ra-core/esm/reducer/admin/resource/list/cachedRequests/ids.js","../../../packages/ra-core/esm/reducer/admin/resource/list/cachedRequests/total.js","../../../packages/ra-core/esm/reducer/admin/resource/list/cachedRequests/validity.js","../../../packages/ra-core/esm/reducer/admin/resource/list/cachedRequests.js","../../../packages/ra-core/esm/actions/listActions.js","../../../packages/ra-core/esm/reducer/admin/resource/list/expanded.js","../../../packages/ra-core/esm/actions/dataActions/crudGetList.js","../../../packages/ra-core/esm/actions/dataActions/crudCreate.js","../../../packages/ra-core/esm/reducer/admin/resource/list/ids.js","../../../packages/ra-core/esm/reducer/admin/resource/list/loadedOnce.js","../../../packages/ra-core/esm/reducer/admin/resource/list/params.js","../../../packages/ra-core/esm/actions/dataActions/crudDelete.js","../../../packages/ra-core/esm/reducer/admin/resource/list/selectedIds.js","../../../packages/ra-core/esm/reducer/admin/resource/list/total.js","../../../packages/ra-core/esm/reducer/admin/resource/list/index.js","../../../packages/ra-core/esm/reducer/admin/resource/validity.js","../../../packages/ra-core/esm/reducer/admin/resource/index.js","../../../packages/ra-core/esm/reducer/admin/loading.js","../../../packages/ra-core/esm/actions/notificationActions.js","../../../packages/ra-core/esm/actions/undoActions.js","../../../packages/ra-core/esm/reducer/admin/notifications.js","../../../packages/ra-core/esm/actions/dataActions/crudGetManyReference.js","../../../packages/ra-core/esm/reducer/admin/references/oneToMany.js","../../../packages/ra-core/esm/reducer/admin/references/possibleValues.js","../../../packages/ra-core/esm/actions/dataActions/crudGetMatching.js","../../../packages/ra-core/esm/reducer/admin/references/index.js","../../../packages/ra-core/esm/reducer/admin/ui.js","../../../packages/ra-core/esm/reducer/admin/customQueries.js","../../../packages/ra-core/esm/reducer/admin/index.js","../../../packages/ra-core/esm/reducer/index.js","../../../packages/ra-core/esm/actions/authActions.js","../../../packages/ra-core/esm/actions/clearActions.js","../../../packages/ra-core/esm/sideEffect/auth.js","../../../packages/ra-core/esm/sideEffect/callback.js","../../../packages/ra-core/esm/sideEffect/fetch.js","../../../packages/ra-core/esm/sideEffect/notification.js","../../../packages/ra-core/esm/util/linkToRecord.js","../../../packages/ra-core/esm/util/resolveRedirectTo.js","../../../packages/ra-core/esm/sideEffect/redirection.js","../../../packages/ra-core/esm/sideEffect/accumulate.js","../../../packages/ra-core/esm/sideEffect/refresh.js","../../../packages/ra-core/esm/sideEffect/undo.js","../../../packages/ra-core/esm/sideEffect/admin.js","../../../packages/ra-core/esm/core/createAdminStore.js","../../../packages/ra-core/esm/util/hooks.js","../../../packages/ra-core/esm/i18n/TranslationContext.js","../../../packages/ra-core/esm/i18n/TranslationProvider.js","../../../packages/ra-core/esm/core/CoreAdminContext.js","../../../packages/ra-core/esm/auth/convertLegacyAuthProvider.js","../../../packages/ra-core/esm/auth/types.js","../../../packages/ra-language-english/esm/index.js","../../../packages/ra-i18n-polyglot/esm/index.js","../../../packages/react-admin/esm/defaultI18nProvider.js","../../../packages/react-admin/esm/AdminContext.js","../../../packages/ra-core/esm/util/warning.js","../../../packages/ra-core/esm/auth/useAuthProvider.js","../../../packages/ra-core/esm/auth/useLogout.js","../../../packages/ra-core/esm/sideEffect/useNotify.js","../../../packages/ra-core/esm/auth/useCheckAuth.js","../../../packages/ra-core/esm/auth/useAuthenticated.js","../../../packages/ra-core/esm/auth/useGetPermissions.js","../../../packages/ra-core/esm/auth/usePermissionsOptimized.js","../../../packages/ra-core/esm/auth/WithPermissions.js","../../../packages/ra-core/esm/core/RoutesWithLayout.js","../../../packages/ra-core/esm/auth/useAuthState.js","../../../packages/ra-core/esm/core/CoreAdminRouter.js","../../../packages/ra-core/esm/core/useScrollToTop.js","../../../packages/ra-core/esm/util/Ready.js","../../../packages/ra-core/esm/core/CoreAdminUI.js","../../../packages/ra-core/esm/util/ComponentPropType.js","../../../packages/ra-core/esm/i18n/useTranslate.js","../../../packages/ra-core/esm/sideEffect/useRefresh.js","../../../packages/ra-core/esm/dataProvider/useIsAutomaticRefreshEnabled.js","../../../packages/ra-core/esm/dataProvider/useRefreshWhenVisible.js","../../../packages/ra-ui-materialui/esm/button/RefreshIconButton.js","../../../packages/ra-ui-materialui/esm/layout/LoadingIndicator.js","../../../packages/ra-core/esm/auth/useGetIdentity.js","../../../packages/ra-ui-materialui/esm/layout/UserMenu.js","../../../packages/ra-ui-materialui/esm/layout/HideOnScroll.js","../../../packages/ra-ui-materialui/esm/layout/AppBar.js","../../../packages/ra-core/esm/i18n/useLocale.js","../../../packages/ra-ui-materialui/esm/layout/Sidebar.js","../../../packages/ra-core/esm/core/useGetResourceLabel.js","../../../packages/ra-ui-materialui/esm/layout/MenuItemLink.js","../../../packages/ra-ui-materialui/esm/layout/DashboardMenuItem.js","../../../packages/ra-ui-materialui/esm/layout/Menu.js","../../../packages/ra-core/esm/dataProvider/undoableEventEmitter.js","../../../packages/ra-ui-materialui/esm/layout/Notification.js","../../../packages/ra-ui-materialui/esm/layout/Title.js","../../../packages/ra-ui-materialui/esm/layout/Error.js","../../../packages/ra-ui-materialui/esm/button/Button.js","../../../packages/ra-ui-materialui/esm/button/SkipNavigationButton.js","../../../packages/ra-ui-materialui/esm/layout/createMuiTheme.js","../../../packages/ra-ui-materialui/esm/layout/Layout.js","../../../packages/ra-ui-materialui/esm/layout/NotFound.js","../../../packages/ra-ui-materialui/esm/layout/Loading.js","../../../packages/ra-ui-materialui/esm/layout/LoadingPage.js","../../../packages/ra-core/esm/auth/useLogin.js","../../../packages/ra-ui-materialui/esm/auth/LoginForm.js","../../../packages/ra-ui-materialui/esm/auth/Login.js","../../../packages/ra-ui-materialui/esm/auth/Logout.js","../../../packages/react-admin/esm/AdminUI.js","../../../packages/ra-core/esm/auth/useLogoutIfAccessDenied.js","../../../packages/react-admin/esm/Admin.js","../../../packages/ra-core/esm/core/ResourceContext.js","../../../packages/ra-core/esm/core/ResourceContextProvider.js","../../../packages/ra-core/esm/core/Resource.js","../../../packages/ra-core/esm/controller/checkMinimumRequiredProps.js","../../../packages/ra-core/esm/util/removeEmpty.js","../../../packages/ra-core/esm/util/removeKey.js","../../../packages/ra-core/esm/reducer/admin/resource/list/queryReducer.js","../../../packages/ra-core/esm/controller/useListParams.js","../../../packages/ra-core/esm/controller/useRecordSelection.js","../../../packages/ra-core/esm/dataProvider/defaultDataProvider.js","../../../packages/ra-core/esm/dataProvider/getDataProviderCallArguments.js","../../../packages/ra-core/esm/dataProvider/getFetchType.js","../../../packages/ra-core/esm/dataProvider/performQuery/performOptimisticQuery.js","../../../packages/ra-core/esm/dataProvider/performQuery/performUndoableQuery.js","../../../packages/ra-core/esm/dataProvider/performQuery/performPessimisticQuery.js","../../../packages/ra-core/esm/dataProvider/performQuery/answerWithCache.js","../../../packages/ra-core/esm/dataProvider/replyWithCache.js","../../../packages/ra-core/esm/dataProvider/performQuery/doQuery.js","../../../packages/ra-core/esm/dataProvider/performQuery/stackedCalls.js","../../../packages/ra-core/esm/dataProvider/useDataProvider.js","../../../packages/ra-core/esm/controller/useVersion.js","../../../packages/ra-core/esm/dataProvider/useQueryWithStore.js","../../../packages/ra-core/esm/dataProvider/useGetMainList.js","../../../packages/ra-core/esm/export/defaultExporter.js","../../../packages/ra-core/esm/export/downloadCSV.js","../../../packages/ra-core/esm/core/useResourceContext.js","../../../packages/ra-core/esm/controller/useListController.js","../../../packages/ra-core/esm/controller/ListContext.js","../../../packages/ra-core/esm/controller/ListFilterContext.js","../../../packages/ra-core/esm/controller/ListSortContext.js","../../../packages/ra-core/esm/controller/ListPaginationContext.js","../../../packages/ra-core/esm/controller/ListContextProvider.js","../../../packages/ra-core/esm/inference/getValuesFromRecords.js","../../../packages/ra-core/esm/inference/InferredElement.js","../../../packages/ra-core/esm/inference/assertions.js","../../../packages/ra-core/esm/inference/inferElementFromValues.js","../../../packages/ra-core/esm/controller/useListContext.js","../../../packages/ra-ui-materialui/esm/list/filter/FilterFormInput.js","../../../packages/ra-ui-materialui/esm/list/FilterContext.js","../../../packages/ra-ui-materialui/esm/list/filter/FilterForm.js","../../../packages/ra-ui-materialui/esm/list/ListToolbar.js","../../../packages/ra-core/esm/controller/useListPaginationContext.js","../../../packages/ra-ui-materialui/esm/list/pagination/PaginationActions.js","../../../packages/ra-ui-materialui/esm/list/pagination/PaginationLimit.js","../../../packages/ra-ui-materialui/esm/list/pagination/Pagination.js","../../../packages/ra-core/esm/sideEffect/useUnselectAll.js","../../../packages/ra-core/esm/sideEffect/useRedirect.js","../../../packages/ra-core/esm/dataProvider/useDeclarativeSideEffects.js","../../../packages/ra-core/esm/dataProvider/useDataProviderWithDeclarativeSideEffects.js","../../../packages/ra-core/esm/dataProvider/useMutation.js","../../../packages/ra-core/esm/dataProvider/useDeleteMany.js","../../../packages/ra-core/esm/actions/dataActions/crudDeleteMany.js","../../../packages/ra-ui-materialui/esm/layout/Confirm.js","../../../packages/ra-ui-materialui/esm/button/BulkDeleteWithConfirmButton.js","../../../packages/ra-ui-materialui/esm/button/BulkDeleteWithUndoButton.js","../../../packages/ra-ui-materialui/esm/button/BulkDeleteButton.js","../../../packages/ra-ui-materialui/esm/layout/TopToolbar.js","../../../packages/ra-ui-materialui/esm/list/BulkActionsToolbar.js","../../../packages/ra-core/esm/core/useResourceDefinition.js","../../../packages/ra-ui-materialui/esm/button/CreateButton.js","../../../packages/ra-core/esm/export/fetchRelatedRecords.js","../../../packages/ra-ui-materialui/esm/button/ExportButton.js","../../../packages/ra-core/esm/util/getFieldLabelTranslationArgs.js","../../../packages/ra-core/esm/util/FieldTitle.js","../../../packages/ra-ui-materialui/esm/list/filter/FilterButtonMenuItem.js","../../../packages/ra-ui-materialui/esm/list/filter/FilterButton.js","../../../packages/ra-ui-materialui/esm/list/ListActions.js","../../../packages/ra-ui-materialui/esm/list/Empty.js","../../../packages/ra-ui-materialui/esm/list/ListView.js","../../../packages/ra-ui-materialui/esm/list/datagrid/DatagridHeaderCell.js","../../../packages/ra-ui-materialui/esm/list/Placeholder.js","../../../packages/ra-ui-materialui/esm/list/datagrid/DatagridLoading.js","../../../packages/ra-core/esm/controller/useExpanded.js","../../../packages/ra-core/esm/controller/RecordContext.js","../../../packages/ra-ui-materialui/esm/list/datagrid/DatagridCell.js","../../../packages/ra-ui-materialui/esm/list/datagrid/ExpandRowButton.js","../../../packages/ra-ui-materialui/esm/list/datagrid/DatagridContext.js","../../../packages/ra-ui-materialui/esm/list/datagrid/DatagridRow.js","../../../packages/ra-ui-materialui/esm/list/datagrid/useDatagridContext.js","../../../packages/ra-ui-materialui/esm/list/datagrid/DatagridBody.js","../../../packages/ra-ui-materialui/esm/list/datagrid/useDatagridStyles.js","../../../packages/ra-ui-materialui/esm/list/datagrid/DatagridContextProvider.js","../../../packages/ra-ui-materialui/esm/list/datagrid/Datagrid.js","../../../packages/ra-ui-materialui/esm/Link.js","../../../packages/ra-ui-materialui/esm/list/SingleFieldList.js","../../../packages/ra-ui-materialui/esm/field/types.js","../../../packages/ra-ui-materialui/esm/field/ArrayField.js","../../../packages/ra-ui-materialui/esm/field/sanitizeFieldRestProps.js","../../../packages/ra-ui-materialui/esm/field/BooleanField.js","../../../packages/ra-ui-materialui/esm/field/ChipField.js","../../../packages/ra-ui-materialui/esm/field/DateField.js","../../../packages/ra-ui-materialui/esm/field/EmailField.js","../../../packages/ra-ui-materialui/esm/field/NumberField.js","../../../packages/ra-core/esm/dataProvider/useGetMany.js","../../../packages/ra-core/esm/controller/field/getResourceLinkPath.js","../../../packages/ra-core/esm/actions/dataActions/crudGetMany.js","../../../packages/ra-core/esm/controller/useReference.js","../../../packages/ra-ui-materialui/esm/layout/LinearProgress.js","../../../packages/ra-ui-materialui/esm/field/ReferenceField.js","../../../packages/ra-core/esm/util/indexById.js","../../../packages/ra-core/esm/controller/usePaginationState.js","../../../packages/ra-core/esm/controller/useSortState.js","../../../packages/ra-core/esm/controller/useSelectionState.js","../../../packages/ra-core/esm/controller/useList.js","../../../packages/ra-core/esm/controller/field/useReferenceArrayFieldController.js","../../../packages/ra-ui-materialui/esm/field/ReferenceArrayField.js","../../../packages/ra-ui-materialui/esm/field/TextField.js","../../../packages/ra-ui-materialui/esm/field/UrlField.js","../../../packages/ra-ui-materialui/esm/list/listFieldTypes.js","../../../packages/ra-ui-materialui/esm/list/ListGuesser.js","../../../packages/ra-core/esm/inference/getElementsFromRecords.js","../../../packages/ra-data-fakerest/esm/index.js","dataGenerator/tags.ts","dataGenerator/utils.ts","dataGenerator/companies.ts","dataGenerator/contacts.ts","dataGenerator/contactNotes.ts","dataGenerator/tasks.ts","dataGenerator/deals.ts","dataGenerator/dealNotes.ts","dataProvider.ts","dataGenerator/index.ts","dataGenerator/sales.ts","dataGenerator/finalize.ts","authProvider.ts","Header.tsx","Layout.tsx","../../../packages/ra-core/esm/dataProvider/useGetOne.js","../../../packages/ra-core/esm/actions/dataActions/crudGetOne.js","../../../packages/ra-core/esm/controller/details/useShowController.js","../../../packages/ra-core/esm/controller/details/ShowContext.js","../../../packages/ra-core/esm/controller/details/ShowContextProvider.js","../../../packages/ra-core/esm/controller/details/ShowBase.js","../../../packages/ra-core/esm/controller/details/useShowContext.js","../../../packages/ra-core/esm/dataProvider/useGetManyReference.js","../../../packages/ra-core/esm/controller/field/useReferenceManyFieldController.js","../../../packages/ra-ui-materialui/esm/field/ReferenceManyField.js","contacts/Avatar.tsx","../../../packages/ra-ui-materialui/esm/button/EditButton.js","../../../packages/ra-ui-materialui/esm/button/ShowButton.js","../../../packages/ra-ui-materialui/esm/field/FunctionField.js","../../../packages/ra-core/esm/dataProvider/useGetList.js","../../../packages/ra-core/esm/dataProvider/useUpdate.js","../../../packages/ra-core/esm/dataProvider/useCreate.js","tags/colors.ts","contacts/TagsListEdit.tsx","contacts/ContactAside.tsx","companies/LogoField.tsx","misc/Status.tsx","notes/StatusSelector.tsx","notes/NewNote.tsx","../../../packages/ra-core/esm/dataProvider/useDelete.js","notes/Note.tsx","notes/NotesIterator.tsx","contacts/ContactShow.tsx","../../../packages/ra-ui-materialui/esm/list/SimpleListLoading.js","../../../packages/ra-core/esm/controller/useListSortContext.js","../../../packages/ra-ui-materialui/esm/button/SortButton.js","../../../packages/ra-ui-materialui/esm/list/List.js","contacts/TagsList.tsx","../../../packages/ra-core/esm/controller/useListFilterContext.js","../../../packages/ra-core/esm/form/validate.js","../../../packages/ra-core/esm/form/isRequired.js","../../../packages/ra-core/esm/form/FormGroupContext.js","../../../packages/ra-core/esm/form/FormContext.js","../../../packages/ra-core/esm/form/useFormContext.js","../../../packages/ra-core/esm/form/useInput.js","../../../packages/ra-core/esm/form/useFormGroupContext.js","../../../packages/ra-ui-materialui/esm/input/ResettableTextField.js","../../../packages/ra-core/esm/form/ValidationError.js","../../../packages/ra-ui-materialui/esm/input/InputHelperText.js","../../../packages/ra-ui-materialui/esm/input/sanitizeInputRestProps.js","../../../packages/ra-ui-materialui/esm/input/TextInput.js","../../../packages/ra-ui-materialui/esm/list/filter/FilterLiveSearch.js","../../../packages/ra-ui-materialui/esm/list/filter/FilterList.js","../../../packages/ra-ui-materialui/esm/list/filter/FilterListItem.js","contacts/ContactListFilter.tsx","contacts/ContactList.tsx","../../../packages/ra-core/esm/controller/details/EditContext.js","../../../packages/ra-core/esm/controller/details/useEditContext.js","../../../packages/ra-core/esm/form/getFormInitialValues.js","../../../packages/ra-core/esm/form/useInitializeFormWithRecord.js","../../../packages/ra-core/esm/form/useWarnWhenUnsavedChanges.js","../../../packages/ra-core/esm/form/useResetSubmitErrors.js","../../../packages/ra-core/esm/form/sanitizeEmptyValues.js","../../../packages/ra-core/esm/form/FormContextProvider.js","../../../packages/ra-core/esm/form/submitErrorsMutators.js","../../../packages/ra-core/esm/form/FormWithRedirect.js","../../../packages/ra-core/esm/controller/input/referenceDataStatus.js","../../../packages/ra-core/esm/controller/useFilterState.js","../../../packages/ra-core/esm/controller/input/useReferenceInputController.js","../../../packages/ra-ui-materialui/esm/input/ReferenceError.js","../../../packages/ra-ui-materialui/esm/input/ReferenceInput.js","../../../packages/ra-core/esm/form/useChoices.js","../../../packages/ra-core/esm/form/useSuggestions.js","../../../packages/ra-ui-materialui/esm/input/AutocompleteSuggestionList.js","../../../packages/ra-ui-materialui/esm/input/AutocompleteSuggestionItem.js","../../../packages/ra-ui-materialui/esm/input/AutocompleteInputLoader.js","../../../packages/ra-ui-materialui/esm/input/useSupportCreateSuggestion.js","../../../packages/ra-ui-materialui/esm/input/AutocompleteInput.js","../../../packages/ra-ui-materialui/esm/input/InputPropTypes.js","../../../packages/ra-ui-materialui/esm/input/BooleanInput.js","../../../packages/ra-core/esm/controller/details/SaveContext.js","../../../packages/ra-ui-materialui/esm/button/SaveButton.js","../../../packages/ra-core/esm/controller/button/useDeleteWithUndoController.js","../../../packages/ra-ui-materialui/esm/button/DeleteWithUndoButton.js","../../../packages/ra-core/esm/controller/button/useDeleteWithConfirmController.js","../../../packages/ra-ui-materialui/esm/button/DeleteWithConfirmButton.js","../../../packages/ra-ui-materialui/esm/button/DeleteButton.js","../../../packages/ra-core/esm/util/getMutationMode.js","../../../packages/ra-ui-materialui/esm/form/Toolbar.js","../../../packages/ra-core/esm/actions/dataActions/crudUpdate.js","../../../packages/ra-core/esm/controller/saveModifiers.js","../../../packages/ra-core/esm/controller/details/useEditController.js","../../../packages/ra-core/esm/controller/details/EditContextProvider.js","../../../packages/ra-core/esm/controller/details/EditBase.js","contacts/ContactEdit.tsx","../../../packages/ra-core/esm/controller/details/useCreateController.js","../../../packages/ra-core/esm/controller/details/CreateContext.js","../../../packages/ra-core/esm/controller/details/CreateContextProvider.js","../../../packages/ra-core/esm/controller/details/CreateBase.js","../../../packages/ra-core/esm/controller/details/useCreateContext.js","contacts/ContactCreate.tsx","contacts/index.tsx","../../../packages/ra-ui-materialui/esm/field/SelectField.js","companies/sectors.ts","companies/CompanyAvatar.tsx","companies/CompanyCard.tsx","companies/GridList.tsx","companies/sizes.ts","companies/CompanyListFilter.tsx","companies/CompanyList.tsx","../../../packages/ra-ui-materialui/esm/layout/TitleForRecord.js","../../../packages/ra-ui-materialui/esm/detail/CreateView.js","../../../packages/ra-ui-materialui/esm/detail/Create.js","../../../packages/ra-ui-materialui/esm/input/Labeled.js","../../../packages/ra-ui-materialui/esm/form/FormInput.js","../../../packages/ra-ui-materialui/esm/layout/CardContentInner.js","../../../packages/ra-ui-materialui/esm/form/SimpleFormView.js","../../../packages/ra-ui-materialui/esm/form/SimpleForm.js","../../../packages/ra-ui-materialui/esm/input/SelectInput.js","companies/CompanyCreate.tsx","companies/CompanyAside.tsx","deals/stages.ts","companies/CompanyShow.tsx","../../../packages/ra-ui-materialui/esm/detail/EditActions.js","../../../packages/ra-ui-materialui/esm/detail/EditView.js","../../../packages/ra-ui-materialui/esm/detail/Edit.js","companies/CompanyEdit.tsx","companies/index.ts","../../../packages/ra-ui-materialui/esm/input/SearchInput.js","deals/DealCard.tsx","deals/DealColumn.tsx","deals/DealListContent.tsx","../../../packages/ra-ui-materialui/esm/input/NumberInput.js","deals/types.ts","deals/DealCreate.tsx","deals/ContactList.tsx","deals/DealShow.tsx","deals/OnlyMineInput.tsx","deals/DealList.tsx","deals/index.ts","dashboard/Welcome.tsx","dashboard/DealsChart.tsx","../../../packages/ra-ui-materialui/esm/list/SimpleList.js","dashboard/HotContacts.tsx","dashboard/LatestNotes.tsx","dashboard/DealsPipeline.tsx","dashboard/Dashboard.tsx","App.tsx","reportWebVitals.js","index.tsx"],"names":["palette","secondary","light","main","dark","contrastText","typography","h6","fontWeight","sidebar","width","closedWidth","overrides","MuiFilledInput","root","backgroundColor","MuiButtonBase","content","display","height","position","top","right","opacity","borderRadius","props","disableRipple","defaultIdentity","id","defaultProvider","login","Promise","resolve","logout","checkAuth","checkError","getPermissions","getIdentity","AuthContext","createContext","displayName","GET_LIST","GET_ONE","GET_MANY","GET_MANY_REFERENCE","CREATE","UPDATE","UPDATE_MANY","DELETE","DELETE_MANY","fetchActionsWithArrayOfIdentifiedRecordsResponse","sanitizeFetchType","s","i","il","arguments","length","r","Array","k","a","j","jl","__spreadArrays","fetchType","defaultDataProvider","create","delete","deleteMany","getList","getMany","getManyReference","getOne","update","updateMany","fetchMap","convertLegacyDataProvider","legacyDataProvider","Proxy","get","_","name","resource","params","Object","keys","includes","toString","apply","__","args","DataProviderContext","REGISTER_RESOURCE","UNREGISTER_RESOURCE","TOGGLE_SIDEBAR","SET_SIDEBAR_VISIBILITY","setSidebarVisibility","isOpen","type","payload","REFRESH_VIEW","refreshView","hard","SET_AUTOMATIC_REFRESH","FETCH_START","FETCH_END","FETCH_ERROR","FETCH_CANCEL","__assign","assign","t","n","p","prototype","hasOwnProperty","call","this","getFetchedAt","newRecordIds","oldRecordFetchedAt","now","cacheDuration","Date","newFetchedAt","forEach","recordId","latestValidDate","setTime","getTime","stillValidFetchedAt","pickBy","date","hideFetchedAt","records","defineProperty","enumerable","configurable","writable","addRecordsAndRemoveOutdated","newRecords","oldRecords","newRecordsById","record","map","_a","fetchedAt","isEqual","addOneRecord","newRecord","_b","value","includesNotStrict","items","element","some","item","removeRecords","removedRecordIds","entries","filter","key","reduce","obj","val","initialState","dataReducer","previousState","meta","optimistic","fetch","updatedRecord","data","updatedRecords","ids","fetchResponse","fetchStatus","addRecords","updatedFetchedAt","idsReducer","action","totalReducer","total","validityReducer","validUntil","initialSubstate","validity","cachedRequestsReducer","newState_1","undefined","fromCache","requestKey","JSON","stringify","requestPayload","previousSubState","CRUD_CHANGE_LIST_PARAMS","changeListParams","SET_LIST_SELECTED_IDS","setListSelectedIds","TOGGLE_LIST_ITEM","TOGGLE_LIST_ITEM_EXPAND","expanded","index","el","indexOf","slice","CRUD_GET_LIST","CRUD_GET_LIST_SUCCESS","CRUD_CREATE","uniq","loadedOnce","defaultState","sort","order","page","perPage","paramsReducer","CRUD_DELETE","selectedIdsReducer","unselectAll","defaultReducer","combineReducers","cachedRequests","selectedIds","addIds","oldValidityRegistry","validityRegistry","removeIds","Error","loadingReducer","Math","max","SHOW_NOTIFICATION","showNotification","message","notificationOptions","HIDE_NOTIFICATION","hideNotification","RESET_NOTIFICATION","resetNotification","UNDOABLE","UNDO","COMPLETE","START_OPTIMISTIC_MODE","startOptimisticMode","STOP_OPTIMISTIC_MODE","stopOptimisticMode","notificationsReducer","concat","getNotification","state","admin","notifications","CRUD_GET_MANY_REFERENCE","getIds","relatedTo","references","oneToMany","getRelatedReferences","removeDeletedReferences","removedIds","idsToKeep","oneToManyReducer","possibleValuesreducer","error","possibleValues","automaticRefreshEnabled","sidebarOpen","isDesktop","window","matchMedia","matches","viewVersion","uiReducer","customQueriesReducer","resources","resourceState","list","acc","customQueries","loading","ui","getResources","resourceGetResources","adminGetResources","USER_LOGIN","USER_CHECK","USER_LOGOUT","CLEAR_STATE","clearState","__generator","thisArg","body","f","y","g","label","sent","trys","ops","next","verb","Symbol","iterator","v","step","op","TypeError","done","pop","push","e","authProvider","watchAuthActions","all","takeEvery","handleLogin","handleCheck","handleLogout","takeLatest","handleFetchError","nextPathnameSelector","locationState","router","location","nextPathname","currentPathnameSelector","getErrorMessage","defaultMessage","authPayload","redirectTo","e_1","errorMessage","put","pathName","select","auth","error_1","replace","pathname","handleCallback","callback","__rest","getOwnPropertySymbols","propertyIsEnumerable","handleFetch","dataProvider","fetchMeta","onSuccess","onFailure","restType","successSideEffects","failureSideEffects","response","Function","cancelled","takeFetchAction","watchFetch","handleNotification","level","messageArgs","_c","notification","_d","undoable","basePath","linkType","link","encodeURIComponent","linkToRecord","handleRedirection","resolveRedirectTo","oldIds","oldIdsSet","Set","add","from","finalizeFactory","tasks","accumulations","finalize","actionCreator","accumulatedValue","delay","accumulateFactory","accumulate","accumulateValues","accumulateKey","cancel","fork","handleRefresh","refresh","handleUndoRace","undoableAction","metaWithoutSideEffects","complete","race","undo","take","watchUndoable","redirection","history","customReducers","customSagas","appReducer","connectRouter","createAppReducer","sagaMiddleware","createSagaMiddleware","composeEnhancers","compose","store","createStore","resettableAppReducer","applyMiddleware","routerMiddleware","run","rootSaga","adminSaga","useSafeSetState","useState","setState","mountedRef","useRef","useEffect","current","useCallback","useTimeout","ms","ready","setReady","timer","setTimeout","clearTimeout","TranslationContext","locale","setLocale","i18nProvider","translate","x","changeLocale","getLocale","TranslationProvider","children","newLocale","useMemo","React","createElement","Provider","Children","only","CoreAdminContext","reduxIsAlreadyInitialized","useContext","ReactReduxContext","finalAuthProvider","legacyAuthProvider","_i","convertLegacyAuthProvider","finalDataProvider","finalHistory","createHashHistory","renderCore","ConnectedRouter","createAdminStore","englishMessages","ra","add_filter","back","bulk_actions","clear_input_value","clone","confirm","create_item","edit","export","remove_filter","remove","save","search","show","unselect","expand","close","open_menu","close_menu","boolean","true","false","null","dashboard","not_found","empty","invite","input","file","upload_several","upload_single","image","all_missing","many_missing","single_missing","password","toggle_visible","toggle_hidden","about","are_you_sure","bulk_delete_content","bulk_delete_title","bulk_update_content","bulk_update_title","delete_content","delete_title","details","invalid_form","no","yes","unsaved_changes","navigation","no_results","no_more_results","page_out_of_boundaries","page_out_from_end","page_out_from_begin","page_range_info","page_rows_per_page","prev","skip_nav","sort_by","ASC","DESC","auth_check_error","user_menu","username","sign_in","sign_in_error","updated","created","deleted","bad_item","item_doesnt_exist","http_error","data_provider_error","i18n_error","canceled","logged_out","not_authorized","validation","required","minLength","maxLength","minValue","maxValue","number","email","oneOf","regex","polyglotI18nProvider","getMessages","initialLocale","polyglotOptions","messages","polyglot","Polyglot","phrases","bind","options","then","newPolyglot","defaultMessages","allowMissing","AdminContext","defaultProps","defaultI18nProvider","condition","defaultAuthParams","useAuthProvider","useLogout","dispatch","useDispatch","useHistory","redirectToCurrentLocationAfterLogin","redirectToFromProvider","redirectToParts","split","newLocation","nextSearch","logoutWithoutProvider","useNotify","autoHideDuration","checkAuthWithoutAuthProvider","useCheckAuth","notify","logoutOnFailure","disableNotification","catch","emptyParams","getPermissionsWithoutProvider","useGetPermissions","alreadyFetchedPermissions","usePermissionsOptimized","permissions","isEmptyChildren","count","WithPermissions","authParams","render","component","staticContext","warning","useAuthenticated","route","RoutesWithLayout","catchAll","customRoutes","title","childrenAsArray","toArray","firstChild","Switch","cloneElement","child","Route","path","intent","exact","routeProps","Redirect","to","useAuthState","loaded","authenticated","__awaiter","_arguments","P","generator","reject","fulfilled","rejected","result","adopt","CoreAdminRouter","doLogout","oneSecondHasPassed","computedChildren","setComputedChildren","useScrollToTop","listen","_scrollToTop","scrollTo","initializeResources","resolveChildren","childrenFuncResult","resolvedChildren","console","renderCustomRoutesWithoutLayout","layout","LoadingPage","menu","Ready","theme","isArray","noLayout","childrenToRender","DefaultLayout","Noop","CoreAdminUI","disableTelemetry","_e","_f","_g","loginPage","_h","_j","logoutElement","Image","src","hostname","propName","componentName","isValidElementType","identity","useTranslate","useRefresh","useIsAutomaticRefreshEnabled","useSelector","useRefreshWhenVisible","document","lastHiddenTime","handleVisibilityChange","hidden","addEventListener","capture","removeEventListener","RefreshIconButton","icon","defaultIcon","onClick","className","rest","handleClick","event","preventDefault","Tooltip","IconButton","color","NavigationRefresh","propTypes","PropTypes","string","LoadingIndicator","classes","useStyles","useTheme","CircularProgress","classNames","loader","size","spacing","thickness","loadedIcon","makeStyles","margin","object","fullName","useGetIdentity","callAuthProvider","AccountCircle","user","userButton","textTransform","avatar","AnchorOrigin","vertical","horizontal","TransformOrigin","UserMenu","anchorEl","setAnchorEl","open","Boolean","handleMenu","currentTarget","handleClose","Button","startIcon","Avatar","alt","Menu","disableScrollLock","anchorOrigin","transformOrigin","getContentAnchorEl","onClose","menuItem","isValidElement","node","HideOnScroll","trigger","useScrollTrigger","Slide","appear","direction","in","isRequired","toolbar","paddingRight","menuButton","marginLeft","marginRight","menuButtonIconClosed","transition","transitions","easing","sharp","duration","leavingScreen","transform","menuButtonIconOpen","flex","textOverflow","whiteSpace","overflow","AppBar","userMenu","Container","container","isXSmall","useMediaQuery","breakpoints","down","MuiAppBar","Toolbar","disableGutters","variant","enterDelay","toggleSidebar","MenuIcon","Typography","DefaultUserMenu","ComponentPropType","bool","oneOfType","memo","useLocale","Sidebar","closedSize","drawerPaper","Drawer","PaperProps","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedTop","paperAnchorDockedRight","paperAnchorDockedBottom","modal","overflowX","lodashGet","borderRight","marginTop","background","default","up","border","zIndex","useGetResourceLabel","useStore","resourceDefinition","getState","find","smart_count","inflection","humanize","pluralize","singularize","NavLinkRef","forwardRef","ref","NavLink","innerRef","text","active","primary","minWidth","MenuItemLink","primaryText","leftIcon","tooltipProps","sidebarIsOpen","isSmall","handleMenuTap","renderMenuItem","MenuItem","classnames","activeClassName","tabIndex","ListItemIcon","titleAccess","placement","func","DashboardMenuItem","DashboardIcon","dense","flexDirection","justifyContent","closed","hasDashboard","onMenuClick","shallowEqual","getResourceLabel","hasList","DefaultIcon","EventEmitter","success","Notification","setOpen","styles","handleRequestClose","handleExited","undoableEventEmitter","emit","isUndo","handleUndo","Snackbar","disableWindowBlurListener","onExited","ContentProps","Title","defaultTitle","getElementById","titleElement","createPortal","TitlePropType","any","alignItems","padding","fontFamily","panel","maxWidth","panelDetails","advice","goBack","go","errorInfo","Fragment","role","ErrorIcon","process","History","alignIcon","disabled","restProps","sanitizeButtonRestProps","MuiButton","button","labelRightIcon","paddingLeft","smallIcon","fontSize","mediumIcon","largeIcon","handleSubmit","handleSubmitWithRedirect","invalid","onSave","pristine","redirect","saving","submitOnEnter","skipToContent","setAttribute","focus","blur","removeAttribute","skipToContentButton","getContrastText","easeIn","left","easeOut","enteringScreen","SkipNavigationButton","createMuiTheme","createLegacyModeTheme","__extends","extendStatics","d","b","setPrototypeOf","__proto__","constructor","LayoutWithoutTheme","_super","_this","hasError","componentDidCatch","appBar","match","appFrame","contentWithSidebar","DefaultAppBar","DefaultError","DefaultMenu","DefaultNotification","DefaultSidebar","Component","EnhancedLayout","connect","mapStateToProps","withRouter","withStyles","createStyles","minHeight","flexGrow","flexBasis","paddingTop","Layout","themeOverride","themeProp","setTheme","ThemeProvider","defaultTheme","textAlign","NotFound","sanitizeRestProps","HotTub","Loading","loadingPrimary","loadingSecondary","useLogin","useLocation","nextPathName","ret","redirectUrl","loginWithoutProvider","form","Input","touched","inputProps","TextField","helperText","fullWidth","LoginForm","setLoading","Form","onSubmit","submit","values","validate","errors","noValidate","Field","autoFocus","autoComplete","CardActions","backgroundRepeat","backgroundSize","backgroundImage","card","Login","containerRef","muiTheme","backgroundImageLoaded","updateBackgroundImage","style","lazyLoadBackgroundImage","img","onload","Card","LockIcon","DefaultLoginForm","LogoutWithRef","Logout","ExitIcon","AdminUI","Admin","appLayout","logoutButton","ResourceContext","ResourceContextProvider","defaultOptions","ResourceRegister","registerResource","hasEdit","hasShow","hasCreate","unregisterResource","resourceName","ResourceRoutes","isRegistered","resourceData","decodeURIComponent","syncWithLocation","Resource","useCheckMinimumRequiredProps","requiredProps","propNames","missingProps","prop","join","removeEmpty","isObject","isEmpty","removeKey","target","deepRemoveKey","paths","deepKey","deep","SET_SORT","SORT_ASC","SORT_DESC","SET_PAGE","SET_PER_PAGE","SET_FILTER","SHOW_FILTER","HIDE_FILTER","oppositeOrder","queryReducer","displayedFilters","filterName","defaultValue","set","filters","emptyObject","defaultSort","field","defaultParams","validQueryParams","parseObject","query","parse","err","parseQueryFromLocation","getQuery","queryFromLocation","filterDefaultValues","hasCustomParams","getNumberOrDefault","possibleNumber","parsedNumber","parseInt","isNaN","useListParams","debounce","localParams","setLocalParams","reduxState","tempParams","requestSignature","changeParams","setSort","setPage","newPage","setPerPage","newPerPage","filterValues","displayedFilterValues","debouncedSetFilters","lodashDebounce","setFilters","hideFilter","showFilter","defaultRecords","useRecordSelection","newIds","toggle","toggleListItem","clearSelection","logoutIfAccessDeniedWithoutProvider","useLogoutIfAccessDenied","logoutIfAccessDenied","logoutUser","OptionsProperties","getDataProviderCallArguments","lastArg","allArguments","isDataProviderOptions","actionType","warnBeforeClosingWindow","returnValue","answerWithCache","getResultFromCache","data_1","cachedRequest","getFetchType","doQuery","mutationMode","canReplyWithCache","every","performOptimisticQuery","replayStackedCalls","loggedOut","performUndoableQuery","once","performPessimisticQuery","nbRemainingStackedCalls","getRemainingStackedCalls","stackedCalls","stackCall","stackedOptimisticCalls","stackOptimisticCall","splice","waitFor","later","useDataProvider","isOptimistic","enabled","useVersion","queriesThisTick","defaultIsDataLoaded","useQueryWithStore","dataSelector","totalSelector","isDataLoaded","defaultDataSelector","defaultTotalSelector","version","innerVersion","setInnerVersion","requestSignatureRef","refetch","prevInnerVersion","prevState","newState","defaultIds","defaultData","finalTotal","defaultExporter","jsonExport","csv","filename","fakeLink","appendChild","blob","Blob","navigator","msSaveOrOpenBlob","URL","createObjectURL","click","downloadCSV","useResourceContext","context","injectedProps","sanitizeListRestProps","useListController","exporter","queryModifiers","selectionModifiers","useGetMainList","pagination","mainIds","mainTotal","finalIds","allRecords","totalPages","ceil","currentSort","onSelect","onToggleItem","onUnselectItems","ListContext","ListFilterContext","usePickFilterContext","pick","ListSortContext","usePickSortContext","ListPaginationContext","usePickPaginationContext","ListContextProvider","fieldName","InferredElement","getElement","isDefined","getProps","getRepresentation","representation","source","isNumeric","parseFloat","isFinite","isInteger","Number","isBoolean","isString","HtmlRegexp","isHtml","test","isDate","isDateString","isValid","parseDate","defaultType","DefaultComponent","defaultTypes","array","reference","referenceArray","richText","url","hasType","types","inferElementFromValues","substr","referenceChild","referenceArrayChild","valuesAreArray","leafValues_1","getValuesFromRecords","vals","leafName","valuesAreBoolean","valuesAreDate","valuesAreString","valuesAreDateString","valuesAreHtml","valuesAreInteger","valuesAreNumeric","valuesAreObject","propName_1","shift","leafValues","useListContext","defaults","extractListContextProps","emptyRecord","pointerEvents","spacer","hideButton","FilterFormInput","filterElement","handleHide","alwaysOn","ActionHide","allowEmpty","FilterContext","FilterForm","initialValues","dataset","getShownFilters","clearFix","arrayOf","flexWrap","clear","dirty","dirtyFields","dirtyFieldsSinceLastSubmit","dirtySinceLastSubmit","hasSubmitErrors","hasValidationErrors","modified","modifiedSinceLastSubmit","submitError","submitErrors","submitFailed","submitSucceeded","submitting","valid","validating","visited","handleFinalFormSubmit","FormSpySubscription","EnhancedFilterForm","filtersProps","mergedInitialValuesWithDefaultValues","mergeInitialValuesWithDefaultValues","lodashSet","mutators","arrayMutators","formProps","FormSpy","subscription","onChange","actions","ListToolbar","useListPaginationContext","flexShrink","currentPageButton","hellip","PaginationActions","rowsPerPage","onChangePage","getNbPages","gotoPage","nbPages","prevPage","ChevronRight","ChevronLeft","renderPageNums","range","pageNum","nextPage","backIconButtonProps","nextIconButtonProps","PaginationLimit","CardContent","emptyArray","Pagination","rowsPerPageOptions","limit","handlePageChange","stopPropagation","handlePerPageChange","labelDisplayedRows","offsetBegin","offsetEnd","TablePagination","onChangeRowsPerPage","ActionsComponent","labelRowsPerPage","DefaultPaginationActions","DefaultPaginationLimit","useUnselectAll","resource1","resource2","useRedirect","parsePath","defaultSideEffects","useDeclarativeSideEffects","convertToFunctionSideEffect","sideEffects","needRefresh","needUnselectAll","useDataProviderWithDeclarativeSideEffects","getSideEffects","finalOptions","finalAllArguments","sideEffect","otherOptions","mergeDefinitionAndCallTimeParameters","callTimeQuery","callTimeOptions","Event","sanitizeOptions","merge","hasDeclarativeSideEffectsSupport","withDeclarativeSideEffectsSupport","useMutation","dataProviderWithDeclarativeSideEffects","returnPromise","promise","errorFromResponse","useDeleteMany","mutate","CRUD_DELETE_MANY","confirmPrimary","confirmWarning","fade","iconPaddingStyle","Confirm","confirmColor","ConfirmIcon","CancelIcon","onConfirm","translateOptions","handleConfirm","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","elementType","ActionCheck","AlertError","deleteButton","ActionDelete","BulkDeleteWithConfirmButton","confirmTitle","confirmContent","inflect","handleDelete","handleDialogClose","BulkDeleteWithUndoButton","BulkDeleteButton","paddingBottom","TopToolbar","lighten","topToolbar","buttons","collapsed","overflowY","BulkActionsToolbar","CloseIcon","useResourceDefinition","definitionFromRedux","CreateButton","scrollToTop","Fab","Link","floating","ContentAdd","bottom","prevProps","nextProps","getRelatedIds","fetchRelatedRecords","post","ExportButton","maxResults","customExporter","exporterFromContext","DownloadIcon","FieldTitle","getFieldLabelTranslationArgs","FilterButtonMenuItem","onShow","handleShow","FilterButton","filtersProp","hiddenFilters","handleClickButton","ContentFilter","ListActions","ListView","aside","bulkActionButtons","Content","controllerProps","getListControllerProps","listContext","shouldRenderEmptyPage","renderList","bulkActionsDisplayed","hasBulkActions","shape","DefaultActions","DefaultBulkActionButtons","DefaultPagination","Empty","emptyMessage","inviteMessage","Inbox","paragraph","boxShadow","noResults","DatagridHeaderCell","updateSort","isSorting","TableCell","headerClassName","align","sortable","sortBy","TableSortLabel","sortByOrder","grey","Placeholder","times","nbChildren","fn","DatagridLoading","nbFakeLines","Table","table","TableHead","TableRow","row","expandHeader","expandIconCell","Checkbox","checked","headerCell","TableBody","key1","expandIcon","ExpandMoreIcon","key2","rowCell","useExpanded","expandedList","toggleListItemExpand","RecordContext","RecordContextProvider","useRecordContext","DatagridCell","cellClassName","ExpandRowButton","expandContentId","DatagridContext","computeNbColumns","defaultClasses","checkbox","DatagridRow","hover","rowClick","selected","selectable","useDatagridContext","isRowExpandable","expandable","toggleExpanded","nbColumns","setNbColumns","newNbColumns","handleToggleExpand","handleToggleSelection","effect","persist","colSpan","String","PureDatagridRow","areEqual","prevPropsWithoutChildren","nextPropsWithoutChildren","DatagridBody","rowStyle","isRowSelectable","rowIndex","rowEven","rowOdd","clickableRow","muiName","PureDatagridBody","useDatagridStyles","tableLayout","thead","tbody","headerRow","borderTopLeftRadius","borderTopRightRadius","cursor","shortest","DatagridContextProvider","Datagrid","optimized","contextValue","updateSortCallback","newField","newOrder","handleSelectAll","all_1","lastSelected","handleToggleItem","lastSelectedIndex","shiftKey","idsBetweenSelections","min","newSelectedIds","union","difference","textDecoration","RRLink","marginBottom","SingleFieldList","LinearProgress","resourceLinkPath","fieldPropTypes","addLabel","emptyText","ArrayField","fieldKey","setIds","setData","getDataAndIds","sanitizeFieldRestProps","formClassName","translateChoice","BooleanField","valueLabelTrue","valueLabelFalse","TrueIcon","FalseIcon","looseValue","isTruthyValue","ariaLabel","DoneIcon","ClearIcon","chip","ChipField","Chip","toLocaleStringSupportsLocales","toLocaleString","RangeError","DateField","locales","showTime","dateString","toLocaleDateString","EmailField","href","hasNumberFormat","Intl","NumberFormat","NumberField","getResourceLinkPath","warn","sourceId","rootPath","linkTo","CRUD_GET_MANY","queriesToCall","DataProviderOptions","makeGetManySelector","createSelector","callQueries","queries","accumulatedIds","ReactDOM","unstable_batchedUpdates","datum","useGetMany","selectMany","useReference","referenceRecord","timeout","Progress","ReferenceField","NonEmptyReferenceField","PureReferenceFieldView","ReferenceFieldView","indexById","paginationReducer","nextState","defaultPagination","initialPagination","useReducer","setPagination","isFirstRender","sortReducer","useSortState","initialSort","setSortField","setSortOrder","defaultSelection","useSelectionState","initialSelection","setSelectedIds","defaultFilter","useReferenceArrayFieldController","listProps","useList","initialPage","initialPerPage","loadingState","setLoadingState","loadedState","setLoadedState","finalItems","setFinalItems","usePaginationState","setSortObject","_k","filterRef","_l","setDisplayedFilters","_m","setFilterValues","tempData","filterValue","recordValue","finalData","ReferenceArrayField","PureReferenceArrayFieldView","progress","ReferenceArrayFieldView","UrlField","ListViewGuesser","inferredChild","setInferredChild","inferredElements","fieldValues","fields","inferredElement","getElementsFromRecords","listFieldTypes","inferredChild_1","ListGuesser","UndefinedResourceError","tags","weightedBoolean","likelyhood","faker","random","randomDate","minDate","maxDate","minTs","randomRange","ts","sqrt","sectors","sizes","genders","status","maxContacts","1","10","50","250","500","stages","baseDataProvider","loggingEnabled","restServer","FakeRest","Server","init","handle","getCollection","code","getResponse","getAll","getCount","updateOne","addOne","removeOne","log","group","groupCollapsed","groupEnd","fakerestDataProvider","db","sales","generateSales","randomSales","first_name","firstName","last_name","lastName","internet","generateTags","companies","generateCompanies","company","companyName","logo","sector","arrayElement","linkedIn","toLowerCase","website","phone_number","phone","phoneNumber","address","streetAddress","zipcode","zipCode","city","stateAbbr","nb_contacts","nb_deals","sales_id","created_at","toISOString","contacts","generateContacts","numberOfContacts","has_avatar","gender","fakerCompany","bsAdjective","first_seen","last_seen","charAt","toUpperCase","company_id","phone_number1","phone_number2","lorem","sentence","acquisition","has_newsletter","arrayElements","tag","nb_notes","contactNotes","generateContactNotes","contact","contact_id","paragraphs","deals","generateDeals","lowercaseName","words","contact_ids","stage","description","amount","updated_at","start_at","months","deal","dealNotes","generateDealNotes","deal_id","generateTasks","due_date","valueOf","note","generateData","localStorage","setItem","removeItem","getItem","Header","useRouteMatch","currentPath","Box","Tabs","aria-label","Tab","CssBaseline","useGetOne","CRUD_GET_ONE","useShowController","ShowContext","ShowContextProvider","ShowBase","useShowContext","extractShowContextProps","useGetManyReference","referencingResource","nameRelatedTo","getTotal","useReferenceManyFieldController","referenceId","ReferenceManyField","ReferenceManyFieldView","EditButton","ContentCreate","ShowButton","ImageEye","PureShowButton","FunctionField","useGetList","useUpdate","previousData","useCreate","colors","TagsListEdit","newTagName","setNewTagName","newTagColor","setNewTagColor","setVersion","setDisabled","allTags","unselectedTagIds","handleAddTag","handleOpenCreateDialog","mt","mb","onDelete","handleDeleteTag","tagId","handleOpen","aria-labelledby","handleCreateTag","handleNewTagNameChange","RoundButton","ContactAside","ml","Divider","year","month","day","TasksIterator","task","ListItem","objectFit","sizeInPixel","medium","small","LogoField","getColorFromStatus","Status","bgcolor","StatusSelector","setStatus","clsx","NewNote","showStatus","setText","getCurrentDate","setDate","foreignKeyMapping","multiline","rows","setMinutes","getMinutes","getTimezoneOffset","useDelete","metadata","textarea","lineHeight","body1","visibility","Note","isLast","isHover","setHover","isEditing","setEditing","noteText","setNoteText","onMouseEnter","onMouseLeave","dateStyle","timeStyle","handleNoteUpdate","FilledInput","handleTextChange","handleCancelEdit","handleEnterEditMode","NotesIterator","ContactShowContent","tertiary","float","SimpleListLoading","hasLeftAvatarOrIcon","hasRightAvatarOrIcon","hasSecondaryText","hasTertiaryText","List","ListItemAvatar","ListItemText","ListItemSecondaryAction","useListSortContext","SortIcon","inverseOrder","SortButton","handleChangeSort","buttonLabel","endIcon","ArrowDropDownIcon","keepMounted","arePropsEqual","ColoredChipField","TagsList","useListFilterContext","EMAIL_REGEX","getMessage","memoize","lodashMemoize","isFunction","combine2Validators","validator1","validator2","result1","isValidationErrorMessageWithArgs","resolvedResult1","pattern","oneOfTypeMessage","it","FormGroupContext","FormContext","useFormContext","useInput","initialValue","customOnBlur","onBlur","customOnChange","customOnFocus","onFocus","isRequiredOption","finalName","formGroupName","useFormGroupContext","formContext","registerField","unregisterField","sanitizedValidate","composeValidators","validators","useFinalFormField","handleBlur","handleChange","handleFocus","useForm","change","batch","resetFieldState","ResettableTextField","clearAlwaysVisible","InputProps","resettable","handleClickClearButton","clearButton","clearIcon","inputAdornedEnd","selectAdornment","visibleClearIcon","restClasses","endAdornment","InputPropsWithoutEndAdornment","MuiTextField","adornedEnd","getEndAdornment","InputAdornment","onMouseDown","handleMouseDownClearButton","ValidationError","defaultInnerHTML","__html","InputHelperText","dangerouslySetInnerHTML","sanitizeInputRestProps","afterSubmit","allowNull","beforeSubmit","format","formatOnBlur","initializeForm","limitChoicesToValue","multiple","optionText","optionValue","validateFields","TextInput","FilterLiveSearch","onSearchChange","SearchIcon","FilterList","mr","disablePadding","listItem","listItemText","FilterListItem","isSelected","toggleFilter","removeFilter","keysToRemove","addFilter","ContactListFilter","last_seen_gte","endOfYesterday","last_seen_lte","startOfWeek","startOfMonth","subMonths","ContactListContent","edge","formatDistance","useActionStyles","createButton","ContactListActions","EditContext","onFailureRef","onSuccessRef","transformRef","setOnFailure","setOnSuccess","setTransform","successMessage","useEditContext","extractEditContextProps","getFormInitialValues","getValues","useInitializeFormWithRecord","setConfig","restart","useWarnWhenUnsavedChanges","enable","formLocation","unsavedChanges","sessionStorage","formState","dirtyFieldValues","useResetSubmitErrors","prevValues","subscribe","resetSubmitErrors","sanitizeEmptyValues","initialValuesWithEmptyFields","FormContextProvider","clean","newObj","newVal","isObjectEmpty","flatten","toReturn","isValidationError","flatObject","str","getIn","setIn","flatErrors","changed_1","newErrors_1","cleanErrors","defaultMutators","submitErrorsMutators","defaultSubscription","FormView","warnWhenUnsavedChanges","setRedirect","setAutomaticRefresh","FormWithRedirect","debug","decorators","destroyOnUnregister","initialValuesEqual","keepDirtyOnReinitialize","validateOnBlur","shouldSanitizeEmptyValues","formGroups","finalMutators","newRedirect","setOnSave","newOnSave","formContextValue","getGroupFields","registerGroup","unregisterGroup","finalInitialValues","finalRedirect","sanitizedValues","isMatchingReferencesError","matchingReferences","defaultFilterToQuery","q","useReferenceInputController","filterToQuery","sortOverride","permanentFilter","debounceTime","permanentFilterProp","latestValue","setFilterValue","permanentFilterSignature","setFilter","useFilterState","possibleValuesIds","possibleValuesData","possibleValuesTotal","possibleValuesLoaded","possibleValuesLoading","possibleValuesError","refetchGetList","refetchReference","referenceError","referenceLoading","referenceLoaded","dataStatus","getStatusForInput","matchingReferencesError","selectedReferenceError","waiting","choices","choice","getDataStatus","ReferenceError","ReferenceInput","ReferenceInputView","searchText","finalMeta","warningLog","disabledHelperText","referenceSource","useChoices","disableValue","getChoiceText","choiceName","getChoiceValue","getDisableValue","useSuggestions","allowCreate","allowDuplicates","createText","createValue","emptyValue","matchSuggestion","selectedItem","suggestionLimit","getSuggestions","getSuggestionsFactory","_o","defaultMatchSuggestion","suggestion","suggestionText","isReactElement","escapeRegExp","RegExp","_p","suggestions","removeAlreadySelectedSuggestions","hasExactMatch","limitSuggestions","filterIsSelectedItem","getSuggestion","unshift","selectedItems","selectedValues","suggestionsContainer","suggestionsPaper","maxHeight","AutocompleteSuggestionList","menuProps","inputEl","suggestionsContainerProps","Popper","modifiers","Paper","square","clientWidth","highlightedSuggestionText","AutocompleteSuggestionItem","parts","highlightedIndex","getSuggestionText","isHighlighted","part","highlight","AutocompleteInputLoader","useSupportCreateSuggestion","createLabel","createItemLabel","onCreate","renderOnCreate","setRenderOnCreate","onCancel","getCreateItem","eventOrValue","finalValue","newSuggestion","CreateSuggestionContext","AutocompleteInput","idOverride","inputOverride","inputText","isRequiredOverride","metaOverride","labelProps","shouldRenderSuggestionsOverride","shouldRenderSuggestions","getSuggestionFromValue","newItem","handleChangeWithCreateSupport","handleFilterChange","storeInputRef","updateAnchorEl","inputPosition","getBoundingClientRect","anchorPosition","openMenu","label_2","label_1","Downshift","inputValue","itemToString","getInputProps","getItemProps","getLabelProps","getMenuProps","isMenuOpen","inputRef","InputLabelProps","htmlFor","suppressRefError","InputPropTypes","BooleanInput","finalFormOnChange","FormGroup","FormControlLabel","control","FormHelperText","SaveContext","SaveContextProvider","usePickSaveContext","SaveButton","useSaveContext","displayedLabel","ContentSave","useDeleteWithUndoController","deleteOne","DeleteWithUndoButton","useDeleteWithConfirmController","handleDialogOpen","DeleteWithConfirmButton","DeleteButton","mode","getMutationMode","desktopToolbar","mobileToolbar","boxSizing","defaultToolbar","valueOrDefault","alwaysEnableSaveButton","MuiToolbar","withWidth","initialWidth","CRUD_UPDATE","useSaveModifiers","useEditController","DefaultRedirect","onSuccessFromSave","onFailureFromSave","transformFromSave","EditContextProvider","EditBase","Spacer","ContactEditContent","omit","useCreateController","recordToUse","getRecord","getDefaultRedirectRoute","searchParams","CreateContext","CreateContextProvider","CreateBase","useCreateContext","extractCreateContextProps","ContactCreateContent","ContactList","ContactShow","ContactEdit","ContactCreate","SelectField","choiceText","large","CompanyAvatar","imgProps","stats","singleStat","statIcon","CompanyCard","elevation","setElevation","underline","gridList","gap","LoadingGridList","LoadedGridList","GridList","CompanyListFilter","CompanyListActions","TitleForRecord","CreateView","noActions","Create","verticalAlign","Labeled","name_1","FormControl","InputLabel","shrink","labelStyle","FormInput","CardContentInner","SimpleFormView","__versions","SimpleForm","SelectInput","renderEmptyItemOption","renderMenuItemOption","createItem","crudGetMatching","crudGetOne","inline","CustomLayout","CustomDivider","CompanyAside","stageNames","opportunity","won","lost","delayed","stageChoices","CompanyShowContent","setValue","indicatorColor","textColor","newValue","TabPanel","other","ContactsIterator","RouterLink","CreateRelatedContactButton","DealsIterator","notation","currency","currencyDisplay","minimumSignificantDigits","EditActions","EditView","finalActions","Edit","CompanyList","CompanyCreate","CompanyEdit","CompanyShow","SearchInput","hiddenLabel","placeholder","cardContent","cardText","DealCard","draggableId","provided","snapshot","draggableProps","dragHandleProps","isDragging","gutterBottom","droppable","DealColumn","dealIds","droppableId","droppableProvided","droppableProps","isDraggingOver","initialDeals","getDealsByColumn","columns","DealListContent","setDeals","newDeals","onDragEnd","destination","column","sourceDeal","destinationDeal","columnDeals","sourceColumn","destinationColumn","sourceDeals","destinationDeals","convertStringToNumber","NumberInput","overrideInputProps","typeChoices","DealCreate","oldDeal","ul","listStyle","li","dialog","DealShow","DealShowContent","OnlyMineInput","newFilterValues","dealFilters","DealActions","DealList","Welcome","multiplier","DealsChart","setMonths","dealsByMonth","amountByMonth","pending","indexBy","valueScale","indexScale","round","enableGridX","enableGridY","enableLabel","axisTop","tickSize","tickPadding","axisBottom","legendPosition","legendOffset","axisLeft","axisRight","abs","tickValues","markers","axis","lineStyle","strokeOpacity","textStyle","fill","legend","legendOrientation","stroke","strokeWidth","SimpleList","leftAvatar","rightAvatar","rightIcon","secondaryText","tertiaryText","renderAvatar","avatarCallback","avatarValue","startsWith","LinkOrNot","useLinkOrNotStyles","classesOverride","HotContacts","contactData","contactIds","contactTotal","contactsLoaded","addSuffix","noteTextText","LatestNotes","contactNotesData","contactNotesIds","contactNotesLoaded","dealNotesData","dealNotesIds","dealNotesLoaded","allNotes","Deal","Contact","DealsPipeline","stage_neq","unorderedIds","orderedIds","Dashboard","App","reportWebVitals","onPerfEntry","getCLS","getFID","getFCP","getLCP","getTTFB","StrictMode"],"mappings":"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","file":"static/js/main.28252a0b.chunk.js","sourcesContent":["export default {\n    palette: {\n        secondary: {\n            light: '#6ec6ff',\n            main: '#2196f3',\n            dark: '#0069c0',\n            contrastText: '#fff',\n        },\n    },\n    typography: {\n        h6: {\n            fontWeight: 400,\n        },\n    },\n    sidebar: {\n        width: 240,\n        closedWidth: 55,\n    },\n    overrides: {\n        MuiFilledInput: {\n            root: {\n                backgroundColor: 'rgba(0, 0, 0, 0.04)',\n                '&$disabled': {\n                    backgroundColor: 'rgba(0, 0, 0, 0.04)',\n                },\n            },\n        },\n        MuiButtonBase: {\n            root: {\n                '&:hover:active::after': {\n                    // recreate a static ripple color\n                    // use the currentColor to make it work both for outlined and contained buttons\n                    // but to dim the background without dimming the text,\n                    // put another element on top with a limited opacity\n                    content: '\"\"',\n                    display: 'block',\n                    width: '100%',\n                    height: '100%',\n                    position: 'absolute',\n                    top: 0,\n                    right: 0,\n                    backgroundColor: 'currentColor',\n                    opacity: 0.3,\n                    borderRadius: 'inherit',\n                },\n            },\n        },\n    },\n    props: {\n        MuiButtonBase: {\n            // disable ripple for perf reasons\n            disableRipple: true,\n        },\n    },\n};\n","import { createContext } from 'react';\nvar defaultIdentity = { id: '' };\nvar defaultProvider = {\n    login: function () { return Promise.resolve(); },\n    logout: function () { return Promise.resolve(); },\n    checkAuth: function () { return Promise.resolve(); },\n    checkError: function () { return Promise.resolve(); },\n    getPermissions: function () { return Promise.resolve(); },\n    getIdentity: function () { return Promise.resolve(defaultIdentity); },\n};\nvar AuthContext = createContext(defaultProvider);\nAuthContext.displayName = 'AuthContext';\nexport default AuthContext;\n","var __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nexport var GET_LIST = 'GET_LIST';\nexport var GET_ONE = 'GET_ONE';\nexport var GET_MANY = 'GET_MANY';\nexport var GET_MANY_REFERENCE = 'GET_MANY_REFERENCE';\nexport var CREATE = 'CREATE';\nexport var UPDATE = 'UPDATE';\nexport var UPDATE_MANY = 'UPDATE_MANY';\nexport var DELETE = 'DELETE';\nexport var DELETE_MANY = 'DELETE_MANY';\nexport var fetchActionsWithRecordResponse = ['getOne', 'create', 'update'];\nexport var fetchActionsWithArrayOfIdentifiedRecordsResponse = [\n    'getList',\n    'getMany',\n    'getManyReference',\n];\nexport var fetchActionsWithArrayOfRecordsResponse = __spreadArrays(fetchActionsWithArrayOfIdentifiedRecordsResponse, [\n    'updateMany',\n    'deleteMany',\n]);\nexport var fetchActionsWithTotalResponse = ['getList', 'getManyReference'];\nexport var sanitizeFetchType = function (fetchType) {\n    switch (fetchType) {\n        case GET_LIST:\n            return 'getList';\n        case GET_ONE:\n            return 'getOne';\n        case GET_MANY:\n            return 'getMany';\n        case GET_MANY_REFERENCE:\n            return 'getManyReference';\n        case CREATE:\n            return 'create';\n        case UPDATE:\n            return 'update';\n        case UPDATE_MANY:\n            return 'updateMany';\n        case DELETE:\n            return 'delete';\n        case DELETE_MANY:\n            return 'deleteMany';\n        default:\n            return fetchType;\n    }\n};\n","import { CREATE, DELETE, DELETE_MANY, GET_LIST, GET_MANY, GET_MANY_REFERENCE, GET_ONE, UPDATE, UPDATE_MANY, } from '../core';\nvar defaultDataProvider = function () { return Promise.resolve(); };\ndefaultDataProvider.create = function () { return Promise.resolve(null); };\ndefaultDataProvider.delete = function () { return Promise.resolve(null); };\ndefaultDataProvider.deleteMany = function () { return Promise.resolve(null); };\ndefaultDataProvider.getList = function () { return Promise.resolve(null); };\ndefaultDataProvider.getMany = function () { return Promise.resolve(null); };\ndefaultDataProvider.getManyReference = function () { return Promise.resolve(null); };\ndefaultDataProvider.getOne = function () { return Promise.resolve(null); };\ndefaultDataProvider.update = function () { return Promise.resolve(null); };\ndefaultDataProvider.updateMany = function () { return Promise.resolve(null); };\nvar fetchMap = {\n    create: CREATE,\n    delete: DELETE,\n    deleteMany: DELETE_MANY,\n    getList: GET_LIST,\n    getMany: GET_MANY,\n    getManyReference: GET_MANY_REFERENCE,\n    getOne: GET_ONE,\n    update: UPDATE,\n    updateMany: UPDATE_MANY,\n};\n/**\n * Turn a function-based dataProvider to an object-based one\n *\n * Allows using legacy dataProviders transparently.\n *\n * @param {Function} legacyDataProvider A legacy dataProvider (type, resource, params) => Promise<any>\n *\n * @returns {Object} A dataProvider that react-admin can use\n */\nvar convertLegacyDataProvider = function (legacyDataProvider) {\n    var proxy = new Proxy(defaultDataProvider, {\n        get: function (_, name) {\n            return function (resource, params) {\n                if (Object.keys(fetchMap).includes(name.toString())) {\n                    var fetchType = fetchMap[name.toString()];\n                    return legacyDataProvider(fetchType, resource, params);\n                }\n                return legacyDataProvider(name.toString(), resource, params);\n            };\n        },\n        apply: function (_, __, args) {\n            return legacyDataProvider.apply(legacyDataProvider, args);\n        },\n    });\n    return proxy;\n};\nexport default convertLegacyDataProvider;\n","import { createContext } from 'react';\nvar DataProviderContext = createContext(null);\nDataProviderContext.displayName = 'DataProviderContext';\nexport default DataProviderContext;\n","export var REGISTER_RESOURCE = 'RA/REGISTER_RESOURCE';\nexport var registerResource = function (resource) { return ({\n    type: REGISTER_RESOURCE,\n    payload: resource,\n}); };\nexport var UNREGISTER_RESOURCE = 'RA/UNREGISTER_RESOURCE';\nexport var unregisterResource = function (resourceName) { return ({\n    type: UNREGISTER_RESOURCE,\n    payload: resourceName,\n}); };\n","export var TOGGLE_SIDEBAR = 'RA/TOGGLE_SIDEBAR';\nexport var toggleSidebar = function () { return ({\n    type: TOGGLE_SIDEBAR,\n}); };\nexport var SET_SIDEBAR_VISIBILITY = 'RA/SET_SIDEBAR_VISIBILITY';\nexport var setSidebarVisibility = function (isOpen) { return ({\n    type: SET_SIDEBAR_VISIBILITY,\n    payload: isOpen,\n}); };\nexport var REFRESH_VIEW = 'RA/REFRESH_VIEW';\nexport var refreshView = function (hard) { return ({\n    type: REFRESH_VIEW,\n    payload: { hard: hard },\n}); };\nexport var SET_AUTOMATIC_REFRESH = 'RA/SET_AUTOMATIC_REFRESH';\nexport var setAutomaticRefresh = function (enabled) { return ({\n    type: SET_AUTOMATIC_REFRESH,\n    payload: enabled,\n}); };\n","export var FETCH_START = 'RA/FETCH_START';\nexport var fetchStart = function () { return ({ type: FETCH_START }); };\nexport var FETCH_END = 'RA/FETCH_END';\nexport var fetchEnd = function () { return ({ type: FETCH_END }); };\nexport var FETCH_ERROR = 'RA/FETCH_ERROR';\nexport var fetchError = function () { return ({ type: FETCH_ERROR }); };\nexport var FETCH_CANCEL = 'RA/FETCH_CANCEL';\nexport var fetchCancel = function () { return ({ type: FETCH_CANCEL }); };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport pickBy from 'lodash/pickBy';\nvar defaultCacheDuration = 10 * 60 * 1000; // ten minutes\n/**\n * Returns a list of fetch dates by record id\n *\n * Given a list of new record ids and a previous list of fetch dates by record id,\n * add the new record ids at the current date,\n * and removes those among the old record ids that are stale.\n *\n * @param newRecordIds an array of record identifiers, e.g. [34, 56]\n * @param oldRecordFetchedAt the fetch dates of old records, e.g. { 12: new Date('12 minutes ago), 34: new Date('5 minutes ago') }\n * @param now Current time (useful for tests)\n * @param cacheDuration How long until an old record is removed from the list\n */\nvar getFetchedAt = function (newRecordIds, oldRecordFetchedAt, now, cacheDuration) {\n    if (newRecordIds === void 0) { newRecordIds = []; }\n    if (oldRecordFetchedAt === void 0) { oldRecordFetchedAt = {}; }\n    if (now === void 0) { now = new Date(); }\n    if (cacheDuration === void 0) { cacheDuration = defaultCacheDuration; }\n    // prepare new records and timestamp them\n    var newFetchedAt = {};\n    newRecordIds.forEach(function (recordId) { return (newFetchedAt[recordId] = now); });\n    // remove outdated entry\n    var latestValidDate = new Date();\n    latestValidDate.setTime(latestValidDate.getTime() - cacheDuration);\n    var stillValidFetchedAt = pickBy(oldRecordFetchedAt, function (date) { return date > latestValidDate; });\n    return __assign(__assign({}, stillValidFetchedAt), newFetchedAt);\n};\nexport default getFetchedAt;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport isEqual from 'lodash/isEqual';\nimport { FETCH_END } from '../../../actions';\nimport { CREATE, DELETE, DELETE_MANY, GET_LIST, GET_MANY, GET_MANY_REFERENCE, GET_ONE, UPDATE, UPDATE_MANY, } from '../../../core';\nimport getFetchedAt from '../../../util/getFetchedAt';\n/**\n * Make the fetchedAt property non enumerable\n */\nexport var hideFetchedAt = function (records) {\n    Object.defineProperty(records, 'fetchedAt', {\n        enumerable: false,\n        configurable: false,\n        writable: false,\n    });\n    return records;\n};\n/**\n * Add new records to the pool, and remove outdated ones.\n *\n * This is the equivalent of a stale-while-revalidate caching strategy:\n * The cached data is displayed before fetching, and stale data is removed\n * only once fresh data is fetched.\n */\nexport var addRecordsAndRemoveOutdated = function (newRecords, oldRecords) {\n    if (newRecords === void 0) { newRecords = []; }\n    var newRecordsById = {};\n    newRecords.forEach(function (record) { return (newRecordsById[record.id] = record); });\n    var newFetchedAt = getFetchedAt(newRecords.map(function (_a) {\n        var id = _a.id;\n        return id;\n    }), oldRecords.fetchedAt);\n    var records = { fetchedAt: newFetchedAt };\n    Object.keys(newFetchedAt).forEach(function (id) {\n        return (records[id] = newRecordsById[id]\n            ? isEqual(newRecordsById[id], oldRecords[id])\n                ? oldRecords[id] // do not change the record to avoid a redraw\n                : newRecordsById[id]\n            : oldRecords[id]);\n    });\n    return hideFetchedAt(records);\n};\n/**\n * Add new records to the pool, without touching the other ones.\n */\nexport var addRecords = function (newRecords, oldRecords) {\n    if (newRecords === void 0) { newRecords = []; }\n    var newRecordsById = __assign({}, oldRecords);\n    newRecords.forEach(function (record) {\n        newRecordsById[record.id] = isEqual(record, oldRecords[record.id])\n            ? oldRecords[record.id]\n            : record;\n    });\n    var updatedFetchedAt = getFetchedAt(newRecords.map(function (_a) {\n        var id = _a.id;\n        return id;\n    }), oldRecords.fetchedAt);\n    Object.defineProperty(newRecordsById, 'fetchedAt', {\n        value: __assign(__assign({}, oldRecords.fetchedAt), updatedFetchedAt),\n        enumerable: false,\n    });\n    return newRecordsById;\n};\nexport var addOneRecord = function (newRecord, oldRecords, date) {\n    var _a, _b;\n    if (date === void 0) { date = new Date(); }\n    var newRecordsById = __assign(__assign({}, oldRecords), (_a = {}, _a[newRecord.id] = isEqual(newRecord, oldRecords[newRecord.id])\n        ? oldRecords[newRecord.id] // do not change the record to avoid a redraw\n        : newRecord, _a));\n    return Object.defineProperty(newRecordsById, 'fetchedAt', {\n        value: __assign(__assign({}, oldRecords.fetchedAt), (_b = {}, _b[newRecord.id] = date, _b)),\n        enumerable: false,\n    });\n};\nvar includesNotStrict = function (items, element) {\n    return items.some(function (item) { return item == element; });\n}; // eslint-disable-line eqeqeq\n/**\n * Remove records from the pool\n */\nexport var removeRecords = function (removedRecordIds, oldRecords) {\n    if (removedRecordIds === void 0) { removedRecordIds = []; }\n    var records = Object.entries(oldRecords)\n        .filter(function (_a) {\n        var key = _a[0];\n        return !includesNotStrict(removedRecordIds, key);\n    })\n        .reduce(function (obj, _a) {\n        var _b;\n        var key = _a[0], val = _a[1];\n        return (__assign(__assign({}, obj), (_b = {}, _b[key] = val, _b)));\n    }, {\n        fetchedAt: {},\n    });\n    records.fetchedAt = Object.entries(oldRecords.fetchedAt)\n        .filter(function (_a) {\n        var key = _a[0];\n        return !includesNotStrict(removedRecordIds, key);\n    })\n        .reduce(function (obj, _a) {\n        var _b;\n        var key = _a[0], val = _a[1];\n        return (__assign(__assign({}, obj), (_b = {}, _b[key] = val, _b)));\n    }, {});\n    return hideFetchedAt(records);\n};\nvar initialState = hideFetchedAt({ fetchedAt: {} });\nvar dataReducer = function (previousState, _a) {\n    if (previousState === void 0) { previousState = initialState; }\n    var payload = _a.payload, meta = _a.meta;\n    if (meta && meta.optimistic) {\n        if (meta.fetch === UPDATE) {\n            var updatedRecord = __assign(__assign({}, previousState[payload.id]), payload.data);\n            return addOneRecord(updatedRecord, previousState);\n        }\n        if (meta.fetch === UPDATE_MANY) {\n            var updatedRecords = payload.ids.map(function (id) { return (__assign(__assign({}, previousState[id]), payload.data)); });\n            return addRecordsAndRemoveOutdated(updatedRecords, previousState);\n        }\n        if (meta.fetch === DELETE) {\n            return removeRecords([payload.id], previousState);\n        }\n        if (meta.fetch === DELETE_MANY) {\n            return removeRecords(payload.ids, previousState);\n        }\n    }\n    if (!meta || !meta.fetchResponse || meta.fetchStatus !== FETCH_END) {\n        return previousState;\n    }\n    switch (meta.fetchResponse) {\n        case GET_LIST:\n            return addRecordsAndRemoveOutdated(payload.data, previousState);\n        case GET_MANY:\n        case GET_MANY_REFERENCE:\n            return addRecords(payload.data, previousState);\n        case UPDATE:\n        case CREATE:\n        case GET_ONE:\n            return addOneRecord(payload.data, previousState);\n        default:\n            return previousState;\n    }\n};\nexport var getRecord = function (state, id) { return state[id]; };\nexport default dataReducer;\n","import { GET_LIST } from '../../../../../core';\nvar initialState = [];\nvar idsReducer = function (previousState, action) {\n    if (previousState === void 0) { previousState = initialState; }\n    if (action.meta && action.meta.fetchResponse === GET_LIST) {\n        return action.payload.data.map(function (_a) {\n            var id = _a.id;\n            return id;\n        });\n    }\n    return previousState;\n};\nexport default idsReducer;\n","import { GET_LIST } from '../../../../../core';\nvar initialState = null;\nvar totalReducer = function (previousState, action) {\n    if (previousState === void 0) { previousState = initialState; }\n    if (action.meta && action.meta.fetchResponse === GET_LIST) {\n        return action.payload.total;\n    }\n    return previousState;\n};\nexport default totalReducer;\n","import { GET_LIST } from '../../../../../core';\nvar initialState = null;\nvar validityReducer = function (previousState, _a) {\n    if (previousState === void 0) { previousState = initialState; }\n    var payload = _a.payload, meta = _a.meta;\n    switch (meta.fetchResponse) {\n        case GET_LIST: {\n            if (payload.validUntil) {\n                // store the validity date\n                return payload.validUntil;\n            }\n            else {\n                // remove the validity date\n                return initialState;\n            }\n        }\n        default:\n            return previousState;\n    }\n};\nexport default validityReducer;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { FETCH_END, REFRESH_VIEW } from '../../../../actions';\nimport { GET_LIST, CREATE, DELETE, DELETE_MANY, UPDATE, UPDATE_MANY, } from '../../../../core';\nimport ids from './cachedRequests/ids';\nimport total from './cachedRequests/total';\nimport validity from './cachedRequests/validity';\nvar initialState = {};\nvar initialSubstate = { ids: [], total: null, validity: null };\nvar cachedRequestsReducer = function (previousState, action) {\n    var _a;\n    var _b;\n    if (previousState === void 0) { previousState = initialState; }\n    if (action.type === REFRESH_VIEW) {\n        if ((_b = action.payload) === null || _b === void 0 ? void 0 : _b.hard) {\n            // force refresh\n            return initialState;\n        }\n        else {\n            // remove validity only\n            var newState_1 = {};\n            Object.keys(previousState).forEach(function (key) {\n                newState_1[key] = __assign(__assign({}, previousState[key]), { validity: undefined });\n            });\n            return newState_1;\n        }\n    }\n    if (action.meta && action.meta.optimistic) {\n        if (action.meta.fetch === CREATE ||\n            action.meta.fetch === DELETE ||\n            action.meta.fetch === DELETE_MANY ||\n            action.meta.fetch === UPDATE ||\n            action.meta.fetch === UPDATE_MANY) {\n            // force refresh of all lists because we don't know where the\n            // new/deleted/updated record(s) will appear in the list\n            return initialState;\n        }\n    }\n    if (!action.meta || action.meta.fetchStatus !== FETCH_END) {\n        // not a return from the dataProvider\n        return previousState;\n    }\n    if (action.meta.fetchResponse === CREATE ||\n        action.meta.fetchResponse === DELETE ||\n        action.meta.fetchResponse === DELETE_MANY ||\n        action.meta.fetchResponse === UPDATE ||\n        action.meta.fetchResponse === UPDATE_MANY) {\n        // force refresh of all lists because we don't know where the\n        // new/deleted/updated record(s) will appear in the list\n        return initialState;\n    }\n    if (action.meta.fetchResponse !== GET_LIST || action.meta.fromCache) {\n        // looks like a GET_MANY, a GET_ONE, or a cached response\n        return previousState;\n    }\n    var requestKey = JSON.stringify(action.requestPayload);\n    var previousSubState = previousState[requestKey] || initialSubstate;\n    return __assign(__assign({}, previousState), (_a = {}, _a[requestKey] = {\n        ids: ids(previousSubState.ids, action),\n        total: total(previousSubState.total, action),\n        validity: validity(previousSubState.validity, action),\n    }, _a));\n};\nexport default cachedRequestsReducer;\n","export var CRUD_CHANGE_LIST_PARAMS = 'RA/CRUD_CHANGE_LIST_PARAMS';\nexport var changeListParams = function (resource, params) { return ({\n    type: CRUD_CHANGE_LIST_PARAMS,\n    payload: params,\n    meta: { resource: resource },\n}); };\nexport var SET_LIST_SELECTED_IDS = 'RA/SET_LIST_SELECTED_IDS';\nexport var setListSelectedIds = function (resource, ids) { return ({\n    type: SET_LIST_SELECTED_IDS,\n    payload: ids,\n    meta: { resource: resource },\n}); };\nexport var TOGGLE_LIST_ITEM = 'RA/TOGGLE_LIST_ITEM';\nexport var toggleListItem = function (resource, id) { return ({\n    type: TOGGLE_LIST_ITEM,\n    payload: id,\n    meta: { resource: resource },\n}); };\nexport var TOGGLE_LIST_ITEM_EXPAND = 'RA/TOGGLE_LIST_ITEM_EXPAND';\n/**\n * Action creator to toggle the expanded state of a list item\n *\n * @param {string} resource The resource name, e.g. 'posts'\n * @param {string|integer} id The record identifier, e.g. 123\n *\n * @example\n *\n * const onToggleItem = () => dispatch(toggleListItemExpand('posts', 123));\n */\nexport var toggleListItemExpand = function (resource, id) { return ({\n    type: TOGGLE_LIST_ITEM_EXPAND,\n    payload: id,\n    meta: { resource: resource },\n}); };\n","var __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { TOGGLE_LIST_ITEM_EXPAND, } from '../../../../actions/listActions';\nvar initialState = [];\nvar expanded = function (previousState, action) {\n    if (previousState === void 0) { previousState = initialState; }\n    if (action.type === TOGGLE_LIST_ITEM_EXPAND) {\n        var index = previousState\n            .map(function (el) { return el == action.payload; }) // eslint-disable-line eqeqeq\n            .indexOf(true);\n        if (index === -1) {\n            // expand\n            return __spreadArrays(previousState, [action.payload]);\n        }\n        else {\n            // close\n            return __spreadArrays(previousState.slice(0, index), previousState.slice(index + 1));\n        }\n    }\n    return previousState;\n};\nexport default expanded;\n","import { GET_LIST } from '../../core';\nexport var crudGetList = function (resource, pagination, sort, filter) { return ({\n    type: CRUD_GET_LIST,\n    payload: { pagination: pagination, sort: sort, filter: filter },\n    meta: {\n        resource: resource,\n        fetch: GET_LIST,\n        onFailure: {\n            notification: {\n                body: 'ra.notification.http_error',\n                level: 'warning',\n            },\n        },\n    },\n}); };\nexport var CRUD_GET_LIST = 'RA/CRUD_GET_LIST';\nexport var CRUD_GET_LIST_LOADING = 'RA/CRUD_GET_LIST_LOADING';\nexport var CRUD_GET_LIST_FAILURE = 'RA/CRUD_GET_LIST_FAILURE';\nexport var CRUD_GET_LIST_SUCCESS = 'RA/CRUD_GET_LIST_SUCCESS';\n","import { CREATE } from '../../core';\nexport var crudCreate = function (resource, data, basePath, redirectTo) {\n    if (redirectTo === void 0) { redirectTo = 'edit'; }\n    return ({\n        type: CRUD_CREATE,\n        payload: { data: data },\n        meta: {\n            resource: resource,\n            fetch: CREATE,\n            onSuccess: {\n                notification: {\n                    body: 'ra.notification.created',\n                    level: 'info',\n                    messageArgs: {\n                        smart_count: 1,\n                    },\n                },\n                redirectTo: redirectTo,\n                basePath: basePath,\n            },\n            onFailure: {\n                notification: {\n                    body: 'ra.notification.http_error',\n                    level: 'warning',\n                },\n            },\n        },\n    });\n};\nexport var CRUD_CREATE = 'RA/CRUD_CREATE';\nexport var CRUD_CREATE_LOADING = 'RA/CRUD_CREATE_LOADING';\nexport var CRUD_CREATE_FAILURE = 'RA/CRUD_CREATE_FAILURE';\nexport var CRUD_CREATE_SUCCESS = 'RA/CRUD_CREATE_SUCCESS';\n","var __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport uniq from 'lodash/uniq';\nimport { CRUD_GET_LIST_SUCCESS, CRUD_CREATE_SUCCESS, } from '../../../../actions';\nimport { DELETE, DELETE_MANY } from '../../../../core';\nvar initialState = [];\n/**\n * List of the ids of the latest loaded page, regardless of params\n *\n * When loading the list for the first time, useListController grabs the ids\n * from the cachedRequests reducer (not this ids reducer). It's only when the user\n * changes page, sort, or filter, that the useListController hook uses the ids\n * reducer, so as to show the previous list of results while loading the new\n * list (instead of displaying a blank page each time the list params change).\n *\n * @see useListController\n *\n */\nvar idsReducer = function (previousState, action) {\n    if (previousState === void 0) { previousState = initialState; }\n    if (action.meta && action.meta.optimistic) {\n        if (action.meta.fetch === DELETE) {\n            var index = previousState\n                .map(function (el) { return el === action.payload.id; }) // eslint-disable-line eqeqeq\n                .indexOf(true);\n            if (index === -1) {\n                return previousState;\n            }\n            return __spreadArrays(previousState.slice(0, index), previousState.slice(index + 1));\n        }\n        if (action.meta.fetch === DELETE_MANY) {\n            var newState = previousState.filter(function (el) { return !action.payload.ids.includes(el); });\n            return newState;\n        }\n    }\n    switch (action.type) {\n        case CRUD_GET_LIST_SUCCESS:\n            return action.payload.data.map(function (_a) {\n                var id = _a.id;\n                return id;\n            });\n        case CRUD_CREATE_SUCCESS:\n            return uniq(__spreadArrays([action.payload.data.id], previousState));\n        default:\n            return previousState;\n    }\n};\nexport default idsReducer;\nexport var getIds = function (state) { return state; };\n","import { CRUD_GET_LIST_SUCCESS } from '../../../../actions/dataActions';\n/**\n * This resource reducer is false until the list loads successfully\n */\nvar loadedOnce = function (previousState, _a) {\n    if (previousState === void 0) { previousState = false; }\n    var type = _a.type;\n    // early return\n    if (previousState === true) {\n        return previousState;\n    }\n    if (type === CRUD_GET_LIST_SUCCESS) {\n        return true;\n    }\n    return previousState;\n};\nexport default loadedOnce;\n","import { CRUD_CHANGE_LIST_PARAMS, } from '../../../../actions/listActions';\nvar defaultState = {\n    sort: null,\n    order: null,\n    page: 1,\n    perPage: null,\n    filter: {},\n};\nvar paramsReducer = function (previousState, action) {\n    if (previousState === void 0) { previousState = defaultState; }\n    switch (action.type) {\n        case CRUD_CHANGE_LIST_PARAMS:\n            return action.payload;\n        default:\n            return previousState;\n    }\n};\nexport default paramsReducer;\n","import { DELETE } from '../../core';\nexport var crudDelete = function (resource, id, previousData, basePath, redirectTo, refresh) {\n    if (redirectTo === void 0) { redirectTo = 'list'; }\n    if (refresh === void 0) { refresh = true; }\n    return ({\n        type: CRUD_DELETE,\n        payload: { id: id, previousData: previousData },\n        meta: {\n            resource: resource,\n            fetch: DELETE,\n            onSuccess: {\n                notification: {\n                    body: 'ra.notification.deleted',\n                    level: 'info',\n                    messageArgs: {\n                        smart_count: 1,\n                    },\n                },\n                refresh: refresh,\n                redirectTo: redirectTo,\n                basePath: basePath,\n            },\n            onFailure: {\n                notification: {\n                    body: 'ra.notification.http_error',\n                    level: 'warning',\n                },\n            },\n        },\n    });\n};\nexport var CRUD_DELETE = 'RA/CRUD_DELETE';\nexport var CRUD_DELETE_LOADING = 'RA/CRUD_DELETE_LOADING';\nexport var CRUD_DELETE_FAILURE = 'RA/CRUD_DELETE_FAILURE';\nexport var CRUD_DELETE_SUCCESS = 'RA/CRUD_DELETE_SUCCESS';\n","var __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { SET_LIST_SELECTED_IDS, TOGGLE_LIST_ITEM, CRUD_DELETE_SUCCESS, } from '../../../../actions';\nimport { DELETE, DELETE_MANY } from '../../../../core';\nvar initialState = [];\nvar selectedIdsReducer = function (previousState, action) {\n    if (previousState === void 0) { previousState = initialState; }\n    if (action.type === SET_LIST_SELECTED_IDS) {\n        return action.payload;\n    }\n    if (action.type === TOGGLE_LIST_ITEM) {\n        var index = previousState.indexOf(action.payload);\n        if (index > -1) {\n            return __spreadArrays(previousState.slice(0, index), previousState.slice(index + 1));\n        }\n        else {\n            return __spreadArrays(previousState, [action.payload]);\n        }\n    }\n    if (action.type === CRUD_DELETE_SUCCESS) {\n        var index = previousState.indexOf(action.payload.data.id);\n        if (index > -1) {\n            return __spreadArrays(previousState.slice(0, index), previousState.slice(index + 1));\n        }\n    }\n    if (action.meta && action.meta.optimistic) {\n        if (action.meta.fetch === DELETE) {\n            var index = previousState.indexOf(action.payload.id);\n            if (index === -1) {\n                return previousState;\n            }\n            return __spreadArrays(previousState.slice(0, index), previousState.slice(index + 1));\n        }\n        if (action.meta.fetch === DELETE_MANY) {\n            return previousState.filter(function (id) { return !action.payload.ids.includes(id); });\n        }\n    }\n    return action.meta && action.meta.unselectAll\n        ? initialState\n        : previousState;\n};\nexport default selectedIdsReducer;\n","import { CRUD_GET_LIST_SUCCESS, } from '../../../../actions/dataActions';\nimport { DELETE, DELETE_MANY } from '../../../../core';\nvar totalReducer = function (previousState, action) {\n    if (previousState === void 0) { previousState = null; }\n    if (action.type === CRUD_GET_LIST_SUCCESS) {\n        return action.payload.total;\n    }\n    if (action.meta && action.meta.optimistic) {\n        if (action.meta.fetch === DELETE) {\n            return previousState === null ? null : previousState - 1;\n        }\n        if (action.meta.fetch === DELETE_MANY) {\n            return previousState === null\n                ? null\n                : previousState - action.payload.ids.length;\n        }\n    }\n    return previousState;\n};\nexport default totalReducer;\n","import { combineReducers } from 'redux';\nimport cachedRequests from './cachedRequests';\nimport expanded from './expanded';\nimport ids from './ids';\nimport loadedOnce from './loadedOnce';\nimport params from './params';\nimport selectedIds from './selectedIds';\nimport total from './total';\nvar defaultReducer = function () { return null; };\nexport default combineReducers({\n    /**\n     * ts-jest does some aggressive module mocking when unit testing reducers individually.\n     * To avoid 'No reducer provided for key \"...\"' warnings,\n     * we pass default reducers. Sorry for legibility.\n     *\n     * @see https://stackoverflow.com/questions/43375079/redux-warning-only-appearing-in-tests\n     */\n    cachedRequests: cachedRequests || defaultReducer,\n    expanded: expanded || defaultReducer,\n    ids: ids || defaultReducer,\n    loadedOnce: loadedOnce || defaultReducer,\n    params: params || defaultReducer,\n    selectedIds: selectedIds || defaultReducer,\n    total: total || defaultReducer,\n});\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { FETCH_END, REFRESH_VIEW } from '../../../actions';\nimport { CREATE, DELETE, DELETE_MANY, GET_LIST, GET_MANY, GET_MANY_REFERENCE, GET_ONE, UPDATE, UPDATE_MANY, } from '../../../core';\nvar initialState = {};\nvar validityReducer = function (previousState, _a) {\n    if (previousState === void 0) { previousState = initialState; }\n    var type = _a.type, payload = _a.payload, requestPayload = _a.requestPayload, meta = _a.meta;\n    if (type === REFRESH_VIEW) {\n        return initialState;\n    }\n    if (!meta ||\n        !meta.fetchResponse ||\n        meta.fetchStatus !== FETCH_END ||\n        meta.fromCache === true) {\n        return previousState;\n    }\n    if (payload.validUntil) {\n        // store the validity date\n        switch (meta.fetchResponse) {\n            case GET_LIST:\n            case GET_MANY:\n            case GET_MANY_REFERENCE:\n                return addIds(payload.data.map(function (record) { return record.id; }), payload.validUntil, previousState);\n            case UPDATE_MANY:\n                return addIds(payload.data, payload.validUntil, previousState);\n            case UPDATE:\n            case CREATE:\n            case GET_ONE:\n                return addIds([payload.data.id], payload.validUntil, previousState);\n            case DELETE:\n            case DELETE_MANY:\n                throw new Error('Responses to dataProvider.delete() or dataProvider.deleteMany() should not contain a validUntil param');\n            default:\n                return previousState;\n        }\n    }\n    else {\n        // remove the validity date\n        switch (meta.fetchResponse) {\n            case GET_LIST:\n            case GET_MANY:\n            case GET_MANY_REFERENCE:\n                return removeIds(payload.data.map(function (record) { return record.id; }), previousState);\n            case UPDATE:\n            case CREATE:\n            case GET_ONE:\n                return removeIds([payload.data.id], previousState);\n            case UPDATE_MANY:\n                return removeIds(payload.data, previousState);\n            case DELETE:\n                return removeIds([requestPayload.id], previousState);\n            case DELETE_MANY:\n                return removeIds(requestPayload.ids, previousState);\n            default:\n                return previousState;\n        }\n    }\n};\nvar addIds = function (ids, validUntil, oldValidityRegistry) {\n    if (ids === void 0) { ids = []; }\n    var validityRegistry = __assign({}, oldValidityRegistry);\n    ids.forEach(function (id) {\n        validityRegistry[id] = validUntil;\n    });\n    return validityRegistry;\n};\nvar removeIds = function (ids, oldValidityRegistry) {\n    if (ids === void 0) { ids = []; }\n    var validityRegistry = __assign({}, oldValidityRegistry);\n    ids.forEach(function (id) {\n        delete validityRegistry[id];\n    });\n    return validityRegistry;\n};\nexport default validityReducer;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { REGISTER_RESOURCE, UNREGISTER_RESOURCE, REFRESH_VIEW, } from '../../../actions';\nimport data from './data';\nimport list from './list';\nimport validity from './validity';\nvar initialState = {};\nexport default (function (previousState, action) {\n    var _a;\n    if (previousState === void 0) { previousState = initialState; }\n    if (action.type === REGISTER_RESOURCE) {\n        var resourceState = {\n            props: action.payload,\n            data: data(undefined, action),\n            list: list(undefined, action),\n            validity: validity(undefined, action),\n        };\n        return __assign(__assign({}, previousState), (_a = {}, _a[action.payload.name] = resourceState, _a));\n    }\n    if (action.type === UNREGISTER_RESOURCE) {\n        return Object.keys(previousState).reduce(function (acc, key) {\n            var _a;\n            if (key === action.payload) {\n                return acc;\n            }\n            return __assign(__assign({}, acc), (_a = {}, _a[key] = previousState[key], _a));\n        }, {});\n    }\n    if (action.type !== REFRESH_VIEW &&\n        (!action.meta || !action.meta.resource)) {\n        return previousState;\n    }\n    var resources = Object.keys(previousState);\n    var newState = resources.reduce(function (acc, resource) {\n        var _a;\n        return (__assign(__assign({}, acc), (_a = {}, _a[resource] = action.type === REFRESH_VIEW ||\n            action.meta.resource === resource\n            ? {\n                props: previousState[resource].props,\n                data: data(previousState[resource].data, action),\n                list: list(previousState[resource].list, action),\n                validity: validity(previousState[resource].validity, action),\n            }\n            : previousState[resource], _a)));\n    }, {});\n    return newState;\n});\nexport var getResources = function (state) {\n    return Object.keys(state).map(function (key) { return state[key].props; });\n};\nexport var getReferenceResource = function (state, props) { return state[props.reference]; };\n","import { FETCH_START, FETCH_END, FETCH_ERROR, FETCH_CANCEL, } from '../../actions/fetchActions';\nvar loadingReducer = function (previousState, _a) {\n    if (previousState === void 0) { previousState = 0; }\n    var type = _a.type;\n    switch (type) {\n        case FETCH_START:\n            return previousState + 1;\n        case FETCH_END:\n        case FETCH_ERROR:\n        case FETCH_CANCEL:\n            return Math.max(previousState - 1, 0);\n        default:\n            return previousState;\n    }\n};\nexport default loadingReducer;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nexport var SHOW_NOTIFICATION = 'RA/SHOW_NOTIFICATION';\n/**\n * Shows a snackbar/toast notification on the screen\n *\n * @see {@link https://material-ui.com/api/snackbar/|Material ui snackbar component}\n * @see {@link https://material.io/guidelines/components/snackbars-toasts.html|Material ui reference document on snackbar}\n */\nexport var showNotification = function (\n// A translatable label or text to display on notification\nmessage, \n// The type of the notification\ntype, \n// Specify additional parameters of notification\nnotificationOptions) {\n    if (type === void 0) { type = 'info'; }\n    return ({\n        type: SHOW_NOTIFICATION,\n        payload: __assign(__assign({}, notificationOptions), { type: type,\n            message: message }),\n    });\n};\nexport var HIDE_NOTIFICATION = 'RA/HIDE_NOTIFICATION';\nexport var hideNotification = function () { return ({\n    type: HIDE_NOTIFICATION,\n}); };\nexport var RESET_NOTIFICATION = 'RA/RESET_NOTIFICATION';\nexport var resetNotification = function () { return ({\n    type: RESET_NOTIFICATION,\n}); };\n","export var UNDOABLE = 'RA/UNDOABLE';\nexport var startUndoable = function (action) { return ({\n    type: UNDOABLE,\n    payload: { action: action },\n}); };\nexport var UNDO = 'RA/UNDO';\nexport var undo = function () { return ({\n    type: UNDO,\n}); };\nexport var COMPLETE = 'RA/COMPLETE';\nexport var complete = function () { return ({\n    type: COMPLETE,\n}); };\nexport var START_OPTIMISTIC_MODE = 'RA/START_OPTIMISTIC_MODE';\nexport var startOptimisticMode = function () { return ({\n    type: START_OPTIMISTIC_MODE,\n}); };\nexport var STOP_OPTIMISTIC_MODE = 'RA/STOP_OPTIMISTIC_MODE';\nexport var stopOptimisticMode = function () { return ({\n    type: STOP_OPTIMISTIC_MODE,\n}); };\n","import { SHOW_NOTIFICATION, HIDE_NOTIFICATION, RESET_NOTIFICATION, } from '../../actions/notificationActions';\nimport { UNDO } from '../../actions/undoActions';\nvar initialState = [];\nvar notificationsReducer = function (previousState, action) {\n    if (previousState === void 0) { previousState = initialState; }\n    switch (action.type) {\n        case SHOW_NOTIFICATION:\n            return previousState.concat(action.payload);\n        case HIDE_NOTIFICATION:\n        case UNDO:\n            return previousState.slice(1);\n        case RESET_NOTIFICATION:\n            return initialState;\n        default:\n            return previousState;\n    }\n};\nexport default notificationsReducer;\n/**\n * Returns the first available notification to show\n * @param {Object} state - Redux state\n */\nexport var getNotification = function (state) { return state.admin.notifications[0]; };\n","import { GET_MANY_REFERENCE } from '../../core';\nexport var crudGetManyReference = function (reference, target, id, relatedTo, pagination, sort, filter, source) { return ({\n    type: CRUD_GET_MANY_REFERENCE,\n    payload: { target: target, id: id, pagination: pagination, sort: sort, filter: filter, source: source },\n    meta: {\n        resource: reference,\n        relatedTo: relatedTo,\n        fetch: GET_MANY_REFERENCE,\n        onFailure: {\n            notification: {\n                body: 'ra.notification.http_error',\n                level: 'warning',\n            },\n        },\n    },\n}); };\nexport var CRUD_GET_MANY_REFERENCE = 'RA/CRUD_GET_MANY_REFERENCE';\nexport var CRUD_GET_MANY_REFERENCE_LOADING = 'RA/CRUD_GET_MANY_REFERENCE_LOADING';\nexport var CRUD_GET_MANY_REFERENCE_FAILURE = 'RA/CRUD_GET_MANY_REFERENCE_FAILURE';\nexport var CRUD_GET_MANY_REFERENCE_SUCCESS = 'RA/CRUD_GET_MANY_REFERENCE_SUCCESS';\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { CRUD_GET_MANY_REFERENCE_SUCCESS, } from '../../../actions';\nimport { DELETE, DELETE_MANY } from '../../../core';\nvar initialState = {};\nvar oneToManyReducer = function (previousState, action) {\n    var _a;\n    if (previousState === void 0) { previousState = initialState; }\n    if (action.meta && action.meta.optimistic) {\n        var relatedTo = getRelatedReferences(previousState, action.meta.resource);\n        if (action.meta.fetch === DELETE) {\n            return relatedTo.reduce(removeDeletedReferences([action.payload.id]), previousState);\n        }\n        if (action.meta.fetch === DELETE_MANY) {\n            return relatedTo.reduce(removeDeletedReferences(action.payload.ids), previousState);\n        }\n    }\n    switch (action.type) {\n        case CRUD_GET_MANY_REFERENCE_SUCCESS:\n            return __assign(__assign({}, previousState), (_a = {}, _a[action.meta.relatedTo] = {\n                ids: action.payload.data.map(function (record) { return record.id; }),\n                total: action.payload.total,\n            }, _a));\n        default:\n            return previousState;\n    }\n};\nexport var getIds = function (state, relatedTo) {\n    return state.admin.references.oneToMany[relatedTo] &&\n        state.admin.references.oneToMany[relatedTo].ids;\n};\nexport var getTotal = function (state, relatedTo) {\n    return state.admin.references.oneToMany[relatedTo] &&\n        state.admin.references.oneToMany[relatedTo].total;\n};\nexport var getReferences = function (state, reference, relatedTo) {\n    var ids = getIds(state, relatedTo);\n    if (typeof ids === 'undefined') {\n        return undefined;\n    }\n    if (!state.admin.resources[reference]) {\n        // eslint-disable-next-line no-console\n        console.error(\"Invalid Resource \\\"\" + reference + \"\\\"\\n\" +\n            (\"You are trying to display or edit a field of a resource called \\\"\" + reference + \"\\\", \") +\n            'but it has not been declared.\\n' +\n            \"Declare this resource in the Admin or check the 'reference' prop of ReferenceArrayField and ReferenceManyField.\", { ids: ids });\n    }\n    return ids\n        .map(function (id) {\n        var resource = state.admin.resources[reference];\n        if (!resource) {\n            return undefined;\n        }\n        return resource.data[id];\n    })\n        .filter(function (r) { return typeof r !== 'undefined'; })\n        .reduce(function (prev, record) {\n        prev[record.id] = record; // eslint-disable-line no-param-reassign\n        return prev;\n    }, {});\n};\nexport var getReferencesByIds = function (state, reference, ids) {\n    if (ids.length === 0) {\n        return {};\n    }\n    if (!state.admin.resources[reference]) {\n        // eslint-disable-next-line no-console\n        console.error(\"Invalid Resource \\\"\" + reference + \"\\\"\\n\" +\n            (\"You are trying to display or edit a field of a resource called \\\"\" + reference + \"\\\", \") +\n            'but it has not been declared.\\n' +\n            \"Declare this resource in the Admin or check the 'reference' prop of ReferenceArrayField.\", { ids: ids });\n    }\n    var references = ids\n        .map(function (id) {\n        var resource = state.admin.resources[reference];\n        if (!resource) {\n            return undefined;\n        }\n        return resource.data[id];\n    })\n        .filter(function (r) { return typeof r !== 'undefined'; })\n        .reduce(function (prev, record) {\n        prev[record.id] = record; // eslint-disable-line no-param-reassign\n        return prev;\n    }, {});\n    return Object.keys(references).length > 0 ? references : null;\n};\nvar getRelatedReferences = function (previousState, resource) { return Object.keys(previousState).filter(function (key) { return key.includes(resource); }); };\nvar removeDeletedReferences = function (removedIds) { return function (previousState, key) {\n    var _a;\n    var idsToKeep = previousState[key].ids.filter(function (id) { return !removedIds.includes(id); });\n    if (idsToKeep.length === previousState[key].ids.length) {\n        return previousState;\n    }\n    return __assign(__assign({}, previousState), (_a = {}, _a[key] = {\n        ids: idsToKeep,\n        total: idsToKeep.length,\n    }, _a));\n}; };\nexport var nameRelatedTo = function (reference, id, resource, target, filter) {\n    if (filter === void 0) { filter = {}; }\n    var keys = Object.keys(filter);\n    if (!keys.length) {\n        return resource + \"_\" + reference + \"@\" + target + \"_\" + id;\n    }\n    return resource + \"_\" + reference + \"@\" + target + \"_\" + id + \"?\" + keys\n        .map(function (key) { return key + \"=\" + JSON.stringify(filter[key]); })\n        .join('&');\n};\nexport default oneToManyReducer;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { CRUD_GET_MATCHING_SUCCESS, CRUD_GET_MATCHING_FAILURE, } from '../../../actions/dataActions';\nvar initialState = {};\nvar possibleValuesreducer = function (previousState, action) {\n    var _a, _b;\n    if (previousState === void 0) { previousState = initialState; }\n    switch (action.type) {\n        case CRUD_GET_MATCHING_SUCCESS:\n            return __assign(__assign({}, previousState), (_a = {}, _a[action.meta.relatedTo] = action.payload.data.map(function (record) { return record.id; }), _a));\n        case CRUD_GET_MATCHING_FAILURE:\n            return __assign(__assign({}, previousState), (_b = {}, _b[action.meta.relatedTo] = { error: action.error }, _b));\n        default:\n            return previousState;\n    }\n};\nexport var getPossibleReferenceValues = function (state, props) {\n    return state[props.referenceSource(props.resource, props.source)];\n};\nexport var getPossibleReferences = function (referenceState, possibleValues, selectedIds) {\n    if (selectedIds === void 0) { selectedIds = []; }\n    if (!possibleValues) {\n        return null;\n    }\n    if (possibleValues.error) {\n        return possibleValues;\n    }\n    var possibleValuesList = Array.from(possibleValues);\n    selectedIds.forEach(function (id) {\n        return possibleValuesList.some(function (value) { return value === id; }) ||\n            possibleValuesList.unshift(id);\n    });\n    return (possibleValuesList\n        // @ts-ignore\n        .map(function (id) { return referenceState.data[id]; })\n        .filter(function (r) { return typeof r !== 'undefined'; }));\n};\nexport default possibleValuesreducer;\n","import { GET_LIST } from '../../core';\nexport var crudGetMatching = function (reference, relatedTo, pagination, sort, filter) { return ({\n    type: CRUD_GET_MATCHING,\n    payload: { pagination: pagination, sort: sort, filter: filter },\n    meta: {\n        resource: reference,\n        relatedTo: relatedTo,\n        fetch: GET_LIST,\n        onFailure: {\n            notification: {\n                body: 'ra.notification.http_error',\n                level: 'warning',\n            },\n        },\n    },\n}); };\nexport var CRUD_GET_MATCHING = 'RA/CRUD_GET_MATCHING';\nexport var CRUD_GET_MATCHING_LOADING = 'RA/CRUD_GET_MATCHING_LOADING';\nexport var CRUD_GET_MATCHING_FAILURE = 'RA/CRUD_GET_MATCHING_FAILURE';\nexport var CRUD_GET_MATCHING_SUCCESS = 'RA/CRUD_GET_MATCHING_SUCCESS';\n","import { combineReducers } from 'redux';\nimport oneToMany from './oneToMany';\nimport possibleValues, { getPossibleReferences as pvGetPossibleReferences, getPossibleReferenceValues as pvGetPossibleReferenceValues, } from './possibleValues';\nvar defaultReducer = function () { return null; };\nexport default combineReducers({\n    /**\n     * ts-jest does some aggressive module mocking when unit testing reducers individually.\n     * To avoid 'No reducer provided for key \"...\"' warnings,\n     * we pass default reducers. Sorry for legibility.\n     *\n     * @see https://stackoverflow.com/questions/43375079/redux-warning-only-appearing-in-tests\n     */\n    oneToMany: oneToMany || defaultReducer,\n    possibleValues: possibleValues || defaultReducer,\n});\nexport var getPossibleReferenceValues = function (state, props) {\n    return pvGetPossibleReferenceValues(state.possibleValues, props);\n};\nexport var getPossibleReferences = pvGetPossibleReferences;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { TOGGLE_SIDEBAR, SET_SIDEBAR_VISIBILITY, REFRESH_VIEW, START_OPTIMISTIC_MODE, STOP_OPTIMISTIC_MODE, } from '../../actions';\nimport { SET_AUTOMATIC_REFRESH, } from '../../actions/uiActions';\n// Match the medium breakpoint defined in the material-ui theme\n// See https://material-ui.com/customization/breakpoints/#breakpoints\nvar isDesktop = function () {\n    // (min-width: 960px) => theme.breakpoints.up('md')\n    return typeof window !== 'undefined' &&\n        window.matchMedia &&\n        typeof window.matchMedia === 'function'\n        ? window.matchMedia('(min-width:960px)').matches\n        : false;\n};\nvar defaultState = {\n    automaticRefreshEnabled: true,\n    sidebarOpen: isDesktop(),\n    optimistic: false,\n    viewVersion: 0,\n};\nvar uiReducer = function (previousState, action) {\n    if (previousState === void 0) { previousState = defaultState; }\n    switch (action.type) {\n        case TOGGLE_SIDEBAR:\n            return __assign(__assign({}, previousState), { sidebarOpen: !previousState.sidebarOpen });\n        case SET_SIDEBAR_VISIBILITY:\n            return __assign(__assign({}, previousState), { sidebarOpen: action.payload });\n        case SET_AUTOMATIC_REFRESH:\n            return __assign(__assign({}, previousState), { automaticRefreshEnabled: action.payload });\n        case REFRESH_VIEW:\n            return __assign(__assign({}, previousState), { viewVersion: previousState.viewVersion + 1 });\n        case START_OPTIMISTIC_MODE:\n            return __assign(__assign({}, previousState), { optimistic: true });\n        case STOP_OPTIMISTIC_MODE:\n            return __assign(__assign({}, previousState), { optimistic: false });\n        default:\n            return previousState;\n    }\n};\nexport default uiReducer;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n// reducer for queries called via useQueryWithStore and without a custom action name\nvar customQueriesReducer = function (previousState, _a) {\n    var _b;\n    if (previousState === void 0) { previousState = {}; }\n    var type = _a.type, requestPayload = _a.requestPayload, payload = _a.payload, meta = _a.meta;\n    if (type !== 'CUSTOM_QUERY_SUCCESS') {\n        return previousState;\n    }\n    var key = JSON.stringify({\n        type: meta.fetchResponse,\n        resource: meta.resource,\n        payload: requestPayload,\n    });\n    return __assign(__assign({}, previousState), (_b = {}, _b[key] = payload, _b));\n};\nexport default customQueriesReducer;\n","import { combineReducers } from 'redux';\nimport resources, { getResources as resourceGetResources, getReferenceResource as resourceGetReferenceResource, } from './resource';\nimport loading from './loading';\nimport notifications from './notifications';\nimport references, { getPossibleReferenceValues as referencesGetPossibleReferenceValues, } from './references';\nimport ui from './ui';\nimport customQueries from './customQueries';\nvar defaultReducer = function () { return null; };\nexport default combineReducers({\n    /**\n     * ts-jest does some aggressive module mocking when unit testing reducers individually.\n     * To avoid 'No reducer provided for key \"...\"' warnings,\n     * we pass default reducers. Sorry for legibility.\n     *\n     * @see https://stackoverflow.com/questions/43375079/redux-warning-only-appearing-in-tests\n     */\n    resources: resources || defaultReducer,\n    customQueries: customQueries || defaultReducer,\n    loading: loading || defaultReducer,\n    notifications: notifications || defaultReducer,\n    references: references || defaultReducer,\n    ui: ui || defaultReducer,\n});\nexport var getPossibleReferenceValues = function (state, props) {\n    return referencesGetPossibleReferenceValues(state.references, props);\n};\nexport var getResources = function (state) { return resourceGetResources(state.resources); };\nexport var getReferenceResource = function (state, props) {\n    return resourceGetReferenceResource(state.resources, props);\n};\nexport { getPossibleReferences } from './references';\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { combineReducers } from 'redux';\nimport { connectRouter } from 'connected-react-router';\nimport admin, { getResources as adminGetResources, getReferenceResource as adminGetReferenceResource, getPossibleReferenceValues as adminGetPossibleReferenceValues, } from './admin';\nexport { getNotification } from './admin/notifications';\nexport default (function (customReducers, history) {\n    return combineReducers(__assign({ admin: admin, router: connectRouter(history) }, customReducers));\n});\nexport var getPossibleReferenceValues = function (state, props) {\n    return adminGetPossibleReferenceValues(state.admin, props);\n};\nexport var getResources = function (state) { return adminGetResources(state.admin); };\nexport var getReferenceResource = function (state, props) {\n    return adminGetReferenceResource(state.admin, props);\n};\nexport { getPossibleReferences } from './admin';\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nexport var USER_LOGIN = 'RA/USER_LOGIN';\nexport var USER_LOGIN_LOADING = 'RA/USER_LOGIN_LOADING';\nexport var USER_LOGIN_FAILURE = 'RA/USER_LOGIN_FAILURE';\nexport var USER_LOGIN_SUCCESS = 'RA/USER_LOGIN_SUCCESS';\nexport var userLogin = function (payload, pathName) { return ({\n    type: USER_LOGIN,\n    payload: payload,\n    meta: { auth: true, pathName: pathName },\n}); };\nexport var USER_CHECK = 'RA/USER_CHECK';\nexport var USER_CHECK_SUCCESS = 'RA/USER_CHECK_SUCCESS';\nexport var userCheck = function (payload, pathName, routeParams) {\n    if (routeParams === void 0) { routeParams = {}; }\n    return ({\n        type: USER_CHECK,\n        payload: __assign(__assign({}, payload), { routeParams: routeParams }),\n        meta: { auth: true, pathName: pathName },\n    });\n};\nexport var USER_LOGOUT = 'RA/USER_LOGOUT';\n/**\n * Action to trigger logout of the current user. The entire redux state will be cleared\n * thanks to the resettableAppReducer in Admin.\n * @see: Admin.js\n * @param redirectTo Path to direct to after logout\n * @return {{type: string, payload: {redirectTo: string}, meta: {auth: boolean}}}\n */\nexport var userLogout = function (redirectTo) { return ({\n    type: USER_LOGOUT,\n    payload: { redirectTo: redirectTo },\n    meta: { auth: true },\n}); };\n","export var CLEAR_STATE = 'RA/CLEAR_STATE';\n// The CLEAR_STATE action will completely reset the react-admin redux state to its initial value.\n// This should only be called once the user has been redirected to a page which do not use the\n// state such as the login page.\nexport var clearState = function () { return ({\n    type: CLEAR_STATE,\n}); };\n","var __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { all, put, call, select, takeLatest, takeEvery, } from 'redux-saga/effects';\nimport { push, replace } from 'connected-react-router';\nimport { showNotification, hideNotification, } from '../actions/notificationActions';\nimport { USER_LOGIN, USER_LOGIN_LOADING, USER_LOGIN_SUCCESS, USER_LOGIN_FAILURE, USER_CHECK, USER_LOGOUT, } from '../actions/authActions';\nimport { FETCH_ERROR } from '../actions/fetchActions';\nimport { clearState } from '../actions/clearActions';\nexport default (function (authProvider) {\n    if (!authProvider) {\n        return function () { return null; };\n    }\n    return function watchAuthActions() {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, all([\n                        takeEvery(USER_LOGIN, handleLogin(authProvider)),\n                        takeEvery(USER_CHECK, handleCheck(authProvider)),\n                        takeEvery(USER_LOGOUT, handleLogout(authProvider)),\n                        takeLatest(FETCH_ERROR, handleFetchError(authProvider)),\n                    ])];\n                case 1:\n                    _a.sent();\n                    return [2 /*return*/];\n            }\n        });\n    };\n});\nvar nextPathnameSelector = function (state) {\n    var locationState = state.router.location.state;\n    return locationState && locationState.nextPathname;\n};\nvar currentPathnameSelector = function (state) { return state.router.location; };\nvar getErrorMessage = function (error, defaultMessage) {\n    return typeof error === 'string'\n        ? error\n        : typeof error === 'undefined' || !error.message\n            ? defaultMessage\n            : error.message;\n};\nexport var handleLogin = function (authProvider) {\n    return function (action) {\n        var payload, meta, authPayload, redirectTo, e_1, errorMessage;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    payload = action.payload, meta = action.meta;\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 7, , 10]);\n                    return [4 /*yield*/, put({ type: USER_LOGIN_LOADING })];\n                case 2:\n                    _a.sent();\n                    return [4 /*yield*/, call([authProvider, 'login'], payload)];\n                case 3:\n                    authPayload = _a.sent();\n                    return [4 /*yield*/, put({\n                            type: USER_LOGIN_SUCCESS,\n                            payload: authPayload,\n                        })];\n                case 4:\n                    _a.sent();\n                    return [4 /*yield*/, meta.pathName ||\n                            select(nextPathnameSelector)];\n                case 5:\n                    redirectTo = _a.sent();\n                    return [4 /*yield*/, put(push(redirectTo || '/'))];\n                case 6:\n                    _a.sent();\n                    return [3 /*break*/, 10];\n                case 7:\n                    e_1 = _a.sent();\n                    return [4 /*yield*/, put({\n                            type: USER_LOGIN_FAILURE,\n                            error: e_1,\n                            meta: { auth: true },\n                        })];\n                case 8:\n                    _a.sent();\n                    errorMessage = getErrorMessage(e_1, 'ra.auth.sign_in_error');\n                    return [4 /*yield*/, put(showNotification(errorMessage, 'warning'))];\n                case 9:\n                    _a.sent();\n                    return [3 /*break*/, 10];\n                case 10: return [2 /*return*/];\n            }\n        });\n    };\n};\nexport var handleCheck = function (authProvider) {\n    return function (action) {\n        var payload, meta, error_1, redirectTo, errorMessage;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    payload = action.payload, meta = action.meta;\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 3, , 8]);\n                    return [4 /*yield*/, call([authProvider, 'checkAuth'], payload)];\n                case 2:\n                    _a.sent();\n                    return [3 /*break*/, 8];\n                case 3:\n                    error_1 = _a.sent();\n                    return [4 /*yield*/, call([authProvider, 'logout'], undefined)];\n                case 4:\n                    redirectTo = _a.sent();\n                    return [4 /*yield*/, put(replace({\n                            pathname: (error_1 && error_1.redirectTo) || redirectTo || '/login',\n                            state: { nextPathname: meta.pathName },\n                        }))];\n                case 5:\n                    _a.sent();\n                    // Clear the state before showing a notification as it would be dismissed immediately otherwise\n                    return [4 /*yield*/, put(clearState())];\n                case 6:\n                    // Clear the state before showing a notification as it would be dismissed immediately otherwise\n                    _a.sent();\n                    errorMessage = getErrorMessage(error_1, 'ra.auth.auth_check_error');\n                    return [4 /*yield*/, put(showNotification(errorMessage, 'warning'))];\n                case 7:\n                    _a.sent();\n                    return [3 /*break*/, 8];\n                case 8: return [2 /*return*/];\n            }\n        });\n    };\n};\nexport var handleLogout = function (authProvider) {\n    return function (action) {\n        var payload, redirectTo;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    payload = action.payload;\n                    return [4 /*yield*/, call([authProvider, 'logout'], undefined)];\n                case 1:\n                    redirectTo = _a.sent();\n                    return [4 /*yield*/, put(push((payload && payload.redirectTo) || redirectTo || '/login'))];\n                case 2:\n                    _a.sent();\n                    return [4 /*yield*/, put(clearState())];\n                case 3:\n                    _a.sent();\n                    return [2 /*return*/];\n            }\n        });\n    };\n};\nexport var handleFetchError = function (authProvider) {\n    return function (action) {\n        var error, e_2, nextPathname, redirectTo;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    error = action.error;\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 3, , 10]);\n                    return [4 /*yield*/, call([authProvider, 'checkError'], error)];\n                case 2:\n                    _a.sent();\n                    return [3 /*break*/, 10];\n                case 3:\n                    e_2 = _a.sent();\n                    return [4 /*yield*/, select(currentPathnameSelector)];\n                case 4:\n                    nextPathname = _a.sent();\n                    return [4 /*yield*/, call([authProvider, 'logout'], undefined)];\n                case 5:\n                    redirectTo = _a.sent();\n                    return [4 /*yield*/, put(push({\n                            pathname: redirectTo || '/login',\n                            state: { nextPathname: nextPathname },\n                        }))];\n                case 6:\n                    _a.sent();\n                    // Clear the state before showing a notification as it would be dismissed immediately otherwise\n                    return [4 /*yield*/, put(clearState())];\n                case 7:\n                    // Clear the state before showing a notification as it would be dismissed immediately otherwise\n                    _a.sent();\n                    return [4 /*yield*/, put(hideNotification())];\n                case 8:\n                    _a.sent();\n                    return [4 /*yield*/, put(showNotification('ra.notification.logged_out', 'warning'))];\n                case 9:\n                    _a.sent();\n                    return [3 /*break*/, 10];\n                case 10: return [2 /*return*/];\n            }\n        });\n    };\n};\n","var __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { call, takeEvery } from 'redux-saga/effects';\n/**\n * Callback Side Effects\n */\nfunction handleCallback(_a) {\n    var payload = _a.payload, requestPayload = _a.requestPayload, error = _a.error, callback = _a.meta.callback;\n    return __generator(this, function (_b) {\n        switch (_b.label) {\n            case 0: return [4 /*yield*/, call(callback, { payload: payload, requestPayload: requestPayload, error: error })];\n            case 1:\n                _b.sent();\n                return [2 /*return*/];\n        }\n    });\n}\nexport default function () {\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4 /*yield*/, takeEvery(function (action) { return action.meta && action.meta.callback; }, handleCallback)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/];\n        }\n    });\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { all, call, cancelled, put, select, takeEvery, } from 'redux-saga/effects';\nimport { FETCH_CANCEL, FETCH_END, FETCH_ERROR, FETCH_START } from '../actions';\nimport { fetchActionsWithRecordResponse, fetchActionsWithArrayOfIdentifiedRecordsResponse, fetchActionsWithArrayOfRecordsResponse, fetchActionsWithTotalResponse, sanitizeFetchType, } from '../core';\nfunction validateResponseFormat(response, type, logger // eslint-disable-line no-console\n) {\n    if (logger === void 0) { logger = console.error; }\n    if (!response.hasOwnProperty('data')) {\n        logger(\"The response to '\" + type + \"' must be like { data: ... }, but the received response does not have a 'data' key. The dataProvider is probably wrong for '\" + type + \"'.\");\n        throw new Error('ra.notification.data_provider_error');\n    }\n    if (fetchActionsWithArrayOfRecordsResponse.includes(type) &&\n        !Array.isArray(response.data)) {\n        logger(\"The response to '\" + type + \"' must be like { data : [...] }, but the received data is not an array. The dataProvider is probably wrong for '\" + type + \"'\");\n        throw new Error('ra.notification.data_provider_error');\n    }\n    if (fetchActionsWithArrayOfIdentifiedRecordsResponse.includes(type) &&\n        Array.isArray(response.data) &&\n        response.data.length > 0 &&\n        response.data.some(function (d) { return !d.hasOwnProperty('id'); })) {\n        logger(\"The response to '\" + type + \"' must be like { data : [{ id: 123, ...}, ...] }, but at least one received data item do not have an 'id' key. The dataProvider is probably wrong for '\" + type + \"'\");\n        throw new Error('ra.notification.data_provider_error');\n    }\n    if (fetchActionsWithRecordResponse.includes(type) &&\n        !response.data.hasOwnProperty('id')) {\n        logger(\"The response to '\" + type + \"' must be like { data: { id: 123, ... } }, but the received data does not have an 'id' key. The dataProvider is probably wrong for '\" + type + \"'\");\n        throw new Error('ra.notification.data_provider_error');\n    }\n    if (fetchActionsWithTotalResponse.includes(type) &&\n        !response.hasOwnProperty('total')) {\n        logger(\"The response to '\" + type + \"' must be like  { data: [...], total: 123 }, but the received response does not have a 'total' key. The dataProvider is probably wrong for '\" + type + \"'\");\n        throw new Error('ra.notification.data_provider_error');\n    }\n}\nexport function handleFetch(dataProvider, action) {\n    var type, payload, _a, fetchMeta, onSuccess, onFailure, meta, restType, successSideEffects, failureSideEffects, isOptimistic, response, error_1;\n    return __generator(this, function (_b) {\n        switch (_b.label) {\n            case 0:\n                type = action.type, payload = action.payload, _a = action.meta, fetchMeta = _a.fetch, onSuccess = _a.onSuccess, onFailure = _a.onFailure, meta = __rest(_a, [\"fetch\", \"onSuccess\", \"onFailure\"]);\n                restType = fetchMeta;\n                successSideEffects = onSuccess instanceof Function ? {} : onSuccess;\n                failureSideEffects = onFailure instanceof Function ? {} : onFailure;\n                _b.label = 1;\n            case 1:\n                _b.trys.push([1, 7, 10, 14]);\n                return [4 /*yield*/, select(function (state) { return state.admin.ui.optimistic; })];\n            case 2:\n                isOptimistic = _b.sent();\n                if (isOptimistic) {\n                    // in optimistic mode, all fetch actions are canceled,\n                    // so the admin uses the store without synchronization\n                    return [2 /*return*/];\n                }\n                return [4 /*yield*/, all([\n                        put({ type: type + \"_LOADING\", payload: payload, meta: meta }),\n                        put({ type: FETCH_START }),\n                    ])];\n            case 3:\n                _b.sent();\n                return [4 /*yield*/, call(dataProvider[sanitizeFetchType(restType)], meta.resource, payload)];\n            case 4:\n                response = _b.sent();\n                if (process.env.NODE_ENV !== 'production') {\n                    validateResponseFormat(response, restType);\n                }\n                return [4 /*yield*/, put({\n                        type: type + \"_SUCCESS\",\n                        payload: response,\n                        requestPayload: payload,\n                        meta: __assign(__assign(__assign({}, meta), successSideEffects), { fetchResponse: restType, fetchStatus: FETCH_END }),\n                    })];\n            case 5:\n                _b.sent();\n                return [4 /*yield*/, put({ type: FETCH_END })];\n            case 6:\n                _b.sent();\n                return [3 /*break*/, 14];\n            case 7:\n                error_1 = _b.sent();\n                return [4 /*yield*/, put({\n                        type: type + \"_FAILURE\",\n                        error: (error_1 && (error_1.message ? error_1.message : error_1)) || null,\n                        payload: (error_1 && error_1.body) || null,\n                        requestPayload: payload,\n                        meta: __assign(__assign(__assign({}, meta), failureSideEffects), { fetchResponse: restType, fetchStatus: FETCH_ERROR }),\n                    })];\n            case 8:\n                _b.sent();\n                return [4 /*yield*/, put({ type: FETCH_ERROR, error: error_1 })];\n            case 9:\n                _b.sent();\n                return [3 /*break*/, 14];\n            case 10: return [4 /*yield*/, cancelled()];\n            case 11:\n                if (!_b.sent()) return [3 /*break*/, 13];\n                return [4 /*yield*/, put({ type: FETCH_CANCEL })];\n            case 12:\n                _b.sent();\n                return [2 /*return*/];\n            case 13: return [7 /*endfinally*/];\n            case 14: return [2 /*return*/];\n        }\n    });\n}\nexport var takeFetchAction = function (action) { return action.meta && action.meta.fetch; };\nvar fetch = function (dataProvider) {\n    return function watchFetch() {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, takeEvery(takeFetchAction, handleFetch, dataProvider)];\n                case 1:\n                    _a.sent();\n                    return [2 /*return*/];\n            }\n        });\n    };\n};\nexport default fetch;\n","var __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { put, takeEvery } from 'redux-saga/effects';\nimport { showNotification, } from '../actions/notificationActions';\n/**\n * Notification Side Effects\n */\nfunction handleNotification(_a) {\n    var body, level, _b, messageArgs;\n    var error = _a.error, _c = _a.meta, notification = _c.notification, optimistic = _c.optimistic;\n    return __generator(this, function (_d) {\n        switch (_d.label) {\n            case 0:\n                body = notification.body, level = notification.level, _b = notification.messageArgs, messageArgs = _b === void 0 ? {} : _b;\n                if (!error) return [3 /*break*/, 2];\n                return [4 /*yield*/, put(showNotification(typeof error === 'string' ? error : error.message || body, level || 'warning', {\n                        messageArgs: messageArgs,\n                        undoable: false,\n                    }))];\n            case 1: return [2 /*return*/, _d.sent()];\n            case 2: return [4 /*yield*/, put(showNotification(body, level || 'info', {\n                    messageArgs: messageArgs,\n                    undoable: optimistic,\n                }))];\n            case 3:\n                _d.sent();\n                return [2 /*return*/];\n        }\n    });\n}\nexport default function () {\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4 /*yield*/, takeEvery(\n                // @ts-ignore\n                function (action) { return action.meta && action.meta.notification; }, handleNotification)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/];\n        }\n    });\n}\n","export default (function (basePath, id, linkType) {\n    if (linkType === void 0) { linkType = 'edit'; }\n    var link = basePath + \"/\" + encodeURIComponent(id);\n    if (linkType === 'show') {\n        return link + \"/show\";\n    }\n    return link;\n});\n","import linkToRecord from './linkToRecord';\nexport default (function (redirectTo, basePath, id, data) {\n    if (typeof redirectTo === 'function') {\n        return redirectTo(basePath, id, data);\n    }\n    switch (redirectTo) {\n        case 'list':\n            return basePath;\n        case 'create':\n            return basePath + \"/create\";\n        case 'edit':\n            return linkToRecord(basePath, id);\n        case 'show':\n            return linkToRecord(basePath, id) + \"/show\";\n        default:\n            return redirectTo;\n    }\n});\n","var __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { put, takeEvery } from 'redux-saga/effects';\nimport { push } from 'connected-react-router';\nimport resolveRedirectTo from '../util/resolveRedirectTo';\nimport { refreshView } from '../actions/uiActions';\n/**\n * Redirection Side Effects\n */\nexport function handleRedirection(_a) {\n    var payload = _a.payload, requestPayload = _a.requestPayload, _b = _a.meta, basePath = _b.basePath, redirectTo = _b.redirectTo;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                if (!!redirectTo) return [3 /*break*/, 2];\n                return [4 /*yield*/, put(refreshView())];\n            case 1:\n                _c.sent();\n                return [2 /*return*/];\n            case 2: return [4 /*yield*/, put(push(resolveRedirectTo(redirectTo, basePath, payload\n                    ? payload.id || (payload.data ? payload.data.id : null)\n                    : requestPayload\n                        ? requestPayload.id\n                        : null, payload && payload.data\n                    ? payload.data\n                    : requestPayload && requestPayload.data\n                        ? requestPayload.data\n                        : null)))];\n            case 3:\n                _c.sent();\n                return [2 /*return*/];\n        }\n    });\n}\nexport default function () {\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4 /*yield*/, takeEvery(\n                // @ts-ignore\n                function (action) { return action.meta && typeof action.meta.redirectTo !== 'undefined'; }, handleRedirection)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/];\n        }\n    });\n}\n","var __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { cancel, delay, fork, put, takeEvery } from 'redux-saga/effects';\n/**\n * Distinct reducer on ids\n *\n * @example\n * addIds([1, 2, 3], { payload: { ids: [3, 4] } })\n *   => [1, 2, 3, 4]\n */\nvar addIds = function (oldIds, _a) {\n    var ids = _a.payload.ids;\n    // Using a Set ensure we only keep distinct values\n    var oldIdsSet = new Set(oldIds);\n    ids.forEach(function (id) { return oldIdsSet.add(id); });\n    return Array.from(oldIdsSet);\n};\n// We need a factory for this saga in order to unit test it by providing its context (current tasks and accumulations)\nexport var finalizeFactory = function (tasks, accumulations) {\n    /**\n     * Fetch the accumulated value after a delay\n     *\n     * As this gets canceled by subsequent calls to accumulate(), only the last\n     * call to finalize() will not be canceled. The delay acts as a\n     * debounce.\n     *\n     * @see https://redux-saga.js.org/docs/recipes/#debouncing\n     */\n    return function finalize(key, actionCreator) {\n        var accumulatedValue, action;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: \n                // combined with cancel(), this debounces the calls\n                return [4 /*yield*/, delay(50)];\n                case 1:\n                    // combined with cancel(), this debounces the calls\n                    _a.sent();\n                    accumulatedValue = accumulations[key];\n                    // Remove the latest accumulated value so that they do not interfere with later calls\n                    delete accumulations[key];\n                    action = actionCreator(key, accumulatedValue);\n                    return [4 /*yield*/, put(action)];\n                case 2:\n                    _a.sent();\n                    delete tasks[key];\n                    return [2 /*return*/];\n            }\n        });\n    };\n};\n// We need a factory for this saga in order to unit test it by providing its context (current tasks and accumulations)\nexport var accumulateFactory = function (tasks, accumulations, finalize) {\n    /**\n     * Accumulate actions and eventually redispatch an action with the accumulated payload\n     *\n     * @example\n     * accumulate({\n     *    type: CRUD_GET_MANY_ACCUMULATE,\n     *    payload: { ids: [1, 2, 3], resource: 'posts' },\n     *    meta: { accumulate: crudGetMany }\n     * });\n     * accumulate({\n     *    type: CRUD_GET_MANY_ACCUMULATE,\n     *    payload: { ids: [4, 5], resource: 'posts' },\n     *    meta: { accumulate: crudGetMany }\n     * });\n     *   => crudGetMany({ ids: [1, 2, 3, 4, 5], resource: 'posts' })\n     *\n     * @example\n     * accumulate({\n     *    type: CRUD_GET_MATCHING_ACCUMULATE,\n     *    meta: {\n     *      accumulate: crudGetMatching('posts', 'posts@comments[1].authorId', { page:1, perPage: 10 }, {field: 'id', order: 'DESC' }, {}),\n     *      accumulateValues: () => true,\n     *      accumulateKey: '{\"resource\":\"authors\", \"pagination\":{\"page\":1,\"perPage\":10},\"sort\":{\"field\":\"id\",\"order\":\"DESC\"},\"filter\":{}}'\n     *    }\n     * });\n     * accumulate({\n     *    type: CRUD_GET_MATCHING_ACCUMULATE,\n     *    meta: {\n     *      accumulate: crudGetMatching('posts', 'posts@comments[1].authorId', { page:1, perPage: 10 }, {field: 'id', order: 'DESC' }, {}),\n     *      accumulateValues: () => true,\n     *      accumulateKey: '{\"resource\":\"authors\", \"pagination\":{\"page\":1,\"perPage\":10},\"sort\":{\"field\":\"id\",\"order\":\"DESC\"},\"filter\":{}}'\n     *    }\n     * });\n     *   => crudGetMatching('posts', 'posts@comments[1].authorId', { page:1, perPage: 10 }, {field: 'id', order: 'DESC' }, {})\n     */\n    return function accumulate(action) {\n        var key, accumulateValues, _a, _b;\n        return __generator(this, function (_c) {\n            switch (_c.label) {\n                case 0:\n                    key = action.meta.accumulateKey || action.payload.resource;\n                    if (!tasks[key]) return [3 /*break*/, 2];\n                    return [4 /*yield*/, cancel(tasks[key])];\n                case 1:\n                    _c.sent();\n                    _c.label = 2;\n                case 2:\n                    accumulateValues = action.meta.accumulateValues || addIds;\n                    // accumulateValues is a reducer function, it receives the previous accumulatedValues for\n                    // the provided key, and must return the updated accumulatedValues\n                    accumulations[key] = accumulateValues(accumulations[key], action);\n                    _a = tasks;\n                    _b = key;\n                    return [4 /*yield*/, fork(finalize, key, action.meta.accumulate)];\n                case 3:\n                    _a[_b] = _c.sent();\n                    return [2 /*return*/];\n            }\n        });\n    };\n};\nexport default function () {\n    var accumulations, tasks;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                accumulations = {};\n                tasks = {};\n                return [4 /*yield*/, takeEvery(function (action) { return action.meta && action.meta.accumulate; }, accumulateFactory(tasks, accumulations, finalizeFactory(tasks, accumulations)))];\n            case 1:\n                _a.sent();\n                return [2 /*return*/];\n        }\n    });\n}\n","var __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { put, takeEvery } from 'redux-saga/effects';\nimport { refreshView } from '../actions/uiActions';\n/**\n * Refresh Side Effects\n */\nfunction handleRefresh() {\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4 /*yield*/, put(refreshView())];\n            case 1:\n                _a.sent();\n                return [2 /*return*/];\n        }\n    });\n}\nexport default function () {\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4 /*yield*/, takeEvery(function (action) { return action.meta && action.meta.refresh; }, handleRefresh)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/];\n        }\n    });\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { take, takeEvery, put, race } from 'redux-saga/effects';\nimport { showNotification } from '../actions/notificationActions';\nimport { UNDOABLE, UNDO, COMPLETE, startOptimisticMode, stopOptimisticMode, } from '../actions/undoActions';\nimport { refreshView } from '../actions/uiActions';\nexport function handleUndoRace(undoableAction) {\n    var action, _a, onSuccess, onFailure, metaWithoutSideEffects, complete;\n    return __generator(this, function (_b) {\n        switch (_b.label) {\n            case 0:\n                action = undoableAction.payload.action;\n                _a = action.meta, onSuccess = _a.onSuccess, onFailure = _a.onFailure, metaWithoutSideEffects = __rest(_a, [\"onSuccess\", \"onFailure\"]);\n                return [4 /*yield*/, put(startOptimisticMode())];\n            case 1:\n                _b.sent();\n                // dispatch action in optimistic mode (no fetch), with success side effects\n                return [4 /*yield*/, put(__assign(__assign({}, action), { type: action.type + \"_OPTIMISTIC\", meta: __assign(__assign(__assign({}, metaWithoutSideEffects), onSuccess), { optimistic: true }) }))];\n            case 2:\n                // dispatch action in optimistic mode (no fetch), with success side effects\n                _b.sent();\n                return [4 /*yield*/, race({\n                        undo: take(UNDO),\n                        complete: take(COMPLETE),\n                    })];\n            case 3:\n                complete = (_b.sent()).complete;\n                return [4 /*yield*/, put(stopOptimisticMode())];\n            case 4:\n                _b.sent();\n                if (!complete) return [3 /*break*/, 6];\n                // if not cancelled, redispatch the action, this time immediate, and without success side effect\n                return [4 /*yield*/, put(__assign(__assign({}, action), { meta: __assign(__assign({}, metaWithoutSideEffects), { onSuccess: { refresh: true }, onFailure: __assign(__assign({}, onFailure), { refresh: true }) }) }))];\n            case 5:\n                // if not cancelled, redispatch the action, this time immediate, and without success side effect\n                _b.sent();\n                return [3 /*break*/, 9];\n            case 6: return [4 /*yield*/, put(showNotification('ra.notification.canceled'))];\n            case 7:\n                _b.sent();\n                return [4 /*yield*/, put(refreshView())];\n            case 8:\n                _b.sent();\n                _b.label = 9;\n            case 9: return [2 /*return*/];\n        }\n    });\n}\nexport default function watchUndoable() {\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: \n            // @ts-ignore\n            return [4 /*yield*/, takeEvery(UNDOABLE, handleUndoRace)];\n            case 1:\n                // @ts-ignore\n                _a.sent();\n                return [2 /*return*/];\n        }\n    });\n}\n","var __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { all } from 'redux-saga/effects';\nimport auth from './auth';\nimport callback from './callback';\nimport fetch from './fetch';\nimport notification from './notification';\nimport redirection from './redirection';\nimport accumulate from './accumulate';\nimport refresh from './refresh';\nimport undo from './undo';\n/**\n * @param {Object} dataProvider A Data Provider function\n * @param {Function} authProvider An Authentication Provider object\n */\nexport default (function (dataProvider, authProvider) {\n    return function admin() {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, all([\n                        auth(authProvider)(),\n                        undo(),\n                        fetch(dataProvider)(),\n                        accumulate(),\n                        redirection(),\n                        refresh(),\n                        notification(),\n                        callback(),\n                    ])];\n                case 1:\n                    _a.sent();\n                    return [2 /*return*/];\n            }\n        });\n    };\n});\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { createStore, compose, applyMiddleware } from 'redux';\nimport { routerMiddleware } from 'connected-react-router';\nimport createSagaMiddleware from 'redux-saga';\nimport { all, fork } from 'redux-saga/effects';\nimport createAppReducer from '../reducer';\nimport { adminSaga } from '../sideEffect';\nimport { CLEAR_STATE } from '../actions/clearActions';\nexport default (function (_a) {\n    var dataProvider = _a.dataProvider, history = _a.history, _b = _a.customReducers, customReducers = _b === void 0 ? {} : _b, _c = _a.authProvider, authProvider = _c === void 0 ? null : _c, _d = _a.customSagas, customSagas = _d === void 0 ? [] : _d, initialState = _a.initialState;\n    var appReducer = createAppReducer(customReducers, history);\n    var resettableAppReducer = function (state, action) {\n        return appReducer(action.type !== CLEAR_STATE\n            ? state\n            : // Erase data from the store but keep location, notifications, ui prefs, etc.\n             __assign(__assign({}, state), { admin: __assign(__assign({}, state.admin), { loading: 0, resources: {}, customQueries: {}, references: { oneToMany: {}, possibleValues: {} } }) }), action);\n    };\n    var saga = function rootSaga() {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, all(__spreadArrays([adminSaga(dataProvider, authProvider)], customSagas).map(fork))];\n                case 1:\n                    _a.sent();\n                    return [2 /*return*/];\n            }\n        });\n    };\n    var sagaMiddleware = createSagaMiddleware();\n    var typedWindow = typeof window !== 'undefined' && window;\n    var composeEnhancers = (process.env.NODE_ENV === 'development' &&\n        typeof typedWindow !== 'undefined' &&\n        typedWindow.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ &&\n        typedWindow.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\n            trace: true,\n            traceLimit: 25,\n        })) ||\n        compose;\n    var store = createStore(resettableAppReducer, typeof initialState === 'function' ? initialState() : initialState, composeEnhancers(applyMiddleware(sagaMiddleware, routerMiddleware(history))));\n    sagaMiddleware.run(saga);\n    return store;\n});\n","import { useState, useRef, useEffect, useCallback } from 'react';\nimport isEqual from 'lodash/isEqual';\n// thanks Kent C Dodds for the following helpers\nexport function useSafeSetState(initialState) {\n    var _a = useState(initialState), state = _a[0], setState = _a[1];\n    var mountedRef = useRef(false);\n    useEffect(function () {\n        mountedRef.current = true;\n        return function () {\n            mountedRef.current = false;\n        };\n    }, []);\n    var safeSetState = useCallback(function (args) {\n        if (mountedRef.current) {\n            return setState(args);\n        }\n    }, [mountedRef, setState]);\n    return [state, safeSetState];\n}\nexport function usePrevious(value) {\n    var ref = useRef();\n    useEffect(function () {\n        ref.current = value;\n    });\n    return ref.current;\n}\nexport function useDeepCompareEffect(callback, inputs) {\n    var cleanupRef = useRef();\n    useEffect(function () {\n        if (!isEqual(previousInputs, inputs)) {\n            cleanupRef.current = callback();\n        }\n        return cleanupRef.current;\n    });\n    var previousInputs = usePrevious(inputs);\n}\nexport function useTimeout(ms) {\n    if (ms === void 0) { ms = 0; }\n    var _a = useState(false), ready = _a[0], setReady = _a[1];\n    useEffect(function () {\n        var timer = setTimeout(function () {\n            setReady(true);\n        }, ms);\n        return function () {\n            clearTimeout(timer);\n        };\n    }, [ms]);\n    return ready;\n}\n","import { createContext } from 'react';\nvar TranslationContext = createContext({\n    locale: 'en',\n    setLocale: function () { },\n    i18nProvider: {\n        translate: function (x) { return x; },\n        changeLocale: function () { return Promise.resolve(); },\n        getLocale: function () { return 'en'; },\n    },\n});\nTranslationContext.displayName = 'TranslationContext';\nexport { TranslationContext };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { useCallback, useMemo, Children, } from 'react';\nimport { useSafeSetState } from '../util/hooks';\nimport { TranslationContext } from './TranslationContext';\n/**\n * Creates a translation context, available to its children\n *\n * @example\n *     const MyApp = () => (\n *         <Provider store={store}>\n *             <TranslationProvider i18nProvider={i18nProvider}>\n *                 <!-- Child components go here -->\n *             </TranslationProvider>\n *         </Provider>\n *     );\n */\nvar TranslationProvider = function (props) {\n    var i18nProvider = props.i18nProvider, children = props.children;\n    var _a = useSafeSetState({\n        locale: i18nProvider ? i18nProvider.getLocale() : 'en',\n        i18nProvider: i18nProvider,\n    }), state = _a[0], setState = _a[1];\n    var setLocale = useCallback(function (newLocale) {\n        return setState(function (state) { return (__assign(__assign({}, state), { locale: newLocale })); });\n    }, [setState]);\n    // Allow locale modification by including setLocale in the context\n    // This can't be done in the initial state because setState doesn't exist yet\n    var value = useMemo(function () { return (__assign(__assign({}, state), { setLocale: setLocale })); }, [setLocale, state]);\n    return (React.createElement(TranslationContext.Provider, { value: value }, Children.only(children)));\n};\nexport default TranslationProvider;\n","import * as React from 'react';\nimport { useContext, useState } from 'react';\nimport { Provider, ReactReduxContext } from 'react-redux';\nimport { createHashHistory } from 'history';\nimport { ConnectedRouter } from 'connected-react-router';\nimport { AuthContext, convertLegacyAuthProvider } from '../auth';\nimport { DataProviderContext, convertLegacyDataProvider, } from '../dataProvider';\nimport createAdminStore from './createAdminStore';\nimport TranslationProvider from '../i18n/TranslationProvider';\nvar CoreAdminContext = function (_a) {\n    var authProvider = _a.authProvider, dataProvider = _a.dataProvider, i18nProvider = _a.i18nProvider, children = _a.children, history = _a.history, customReducers = _a.customReducers, customSagas = _a.customSagas, initialState = _a.initialState;\n    var reduxIsAlreadyInitialized = !!useContext(ReactReduxContext);\n    if (!dataProvider) {\n        throw new Error(\"Missing dataProvider prop.\\nReact-admin requires a valid dataProvider function to work.\");\n    }\n    var finalAuthProvider = authProvider instanceof Function\n        ? convertLegacyAuthProvider(authProvider)\n        : authProvider;\n    var finalDataProvider = dataProvider instanceof Function\n        ? convertLegacyDataProvider(dataProvider)\n        : dataProvider;\n    var finalHistory = history || createHashHistory();\n    var renderCore = function () {\n        return (React.createElement(AuthContext.Provider, { value: finalAuthProvider },\n            React.createElement(DataProviderContext.Provider, { value: finalDataProvider },\n                React.createElement(TranslationProvider, { i18nProvider: i18nProvider }, typeof window !== 'undefined' ? (React.createElement(ConnectedRouter, { history: finalHistory }, children)) : (children)))));\n    };\n    var store = useState(function () {\n        return !reduxIsAlreadyInitialized\n            ? createAdminStore({\n                authProvider: finalAuthProvider,\n                customReducers: customReducers,\n                customSagas: customSagas,\n                dataProvider: finalDataProvider,\n                initialState: initialState,\n                history: finalHistory,\n            })\n            : undefined;\n    })[0];\n    if (reduxIsAlreadyInitialized) {\n        if (!history) {\n            throw new Error(\"Missing history prop.\\nWhen integrating react-admin inside an existing redux Provider, you must provide the same 'history' prop to the <Admin> as the one used to bootstrap your routerMiddleware.\\nReact-admin uses this history for its own ConnectedRouter.\");\n        }\n        return renderCore();\n    }\n    else {\n        return React.createElement(Provider, { store: store }, renderCore());\n    }\n};\nexport default CoreAdminContext;\n","import { AUTH_LOGIN, AUTH_LOGOUT, AUTH_CHECK, AUTH_ERROR, AUTH_GET_PERMISSIONS, } from './types';\n/**\n * Turn a function-based authProvider to an object-based one\n *\n * Allows using legacy authProviders transparently.\n *\n * @param {Function} legacyAuthProvider A legacy authProvider (type, params) => Promise<any>\n *\n * @returns {Object} An authProvider that react-admin can use\n */\nexport default (function (legacyAuthProvider) {\n    var authProvider = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return legacyAuthProvider.apply(null, args);\n    };\n    authProvider.login = function (params) { return legacyAuthProvider(AUTH_LOGIN, params); };\n    authProvider.logout = function (params) { return legacyAuthProvider(AUTH_LOGOUT, params); };\n    authProvider.checkAuth = function (params) { return legacyAuthProvider(AUTH_CHECK, params); };\n    authProvider.checkError = function (error) { return legacyAuthProvider(AUTH_ERROR, error); };\n    authProvider.getPermissions = function (params) {\n        return legacyAuthProvider(AUTH_GET_PERMISSIONS, params);\n    };\n    return authProvider;\n});\n","export var AUTH_LOGIN = 'AUTH_LOGIN';\nexport var AUTH_CHECK = 'AUTH_CHECK';\nexport var AUTH_ERROR = 'AUTH_ERROR';\nexport var AUTH_LOGOUT = 'AUTH_LOGOUT';\nexport var AUTH_GET_PERMISSIONS = 'AUTH_GET_PERMISSIONS';\n","var englishMessages = {\n    ra: {\n        action: {\n            add_filter: 'Add filter',\n            add: 'Add',\n            back: 'Go Back',\n            bulk_actions: '1 item selected |||| %{smart_count} items selected',\n            cancel: 'Cancel',\n            clear_input_value: 'Clear value',\n            clone: 'Clone',\n            confirm: 'Confirm',\n            create: 'Create',\n            create_item: 'Create %{item}',\n            delete: 'Delete',\n            edit: 'Edit',\n            export: 'Export',\n            list: 'List',\n            refresh: 'Refresh',\n            remove_filter: 'Remove this filter',\n            remove: 'Remove',\n            save: 'Save',\n            search: 'Search',\n            show: 'Show',\n            sort: 'Sort',\n            undo: 'Undo',\n            unselect: 'Unselect',\n            expand: 'Expand',\n            close: 'Close',\n            open_menu: 'Open menu',\n            close_menu: 'Close menu',\n            update: 'Update',\n        },\n        boolean: {\n            true: 'Yes',\n            false: 'No',\n            null: '',\n        },\n        page: {\n            create: 'Create %{name}',\n            dashboard: 'Dashboard',\n            edit: '%{name} #%{id}',\n            error: 'Something went wrong',\n            list: '%{name}',\n            loading: 'Loading',\n            not_found: 'Not Found',\n            show: '%{name} #%{id}',\n            empty: 'No %{name} yet.',\n            invite: 'Do you want to add one?',\n        },\n        input: {\n            file: {\n                upload_several: 'Drop some files to upload, or click to select one.',\n                upload_single: 'Drop a file to upload, or click to select it.',\n            },\n            image: {\n                upload_several: 'Drop some pictures to upload, or click to select one.',\n                upload_single: 'Drop a picture to upload, or click to select it.',\n            },\n            references: {\n                all_missing: 'Unable to find references data.',\n                many_missing: 'At least one of the associated references no longer appears to be available.',\n                single_missing: 'Associated reference no longer appears to be available.',\n            },\n            password: {\n                toggle_visible: 'Hide password',\n                toggle_hidden: 'Show password',\n            },\n        },\n        message: {\n            about: 'About',\n            are_you_sure: 'Are you sure?',\n            bulk_delete_content: 'Are you sure you want to delete this %{name}? |||| Are you sure you want to delete these %{smart_count} items?',\n            bulk_delete_title: 'Delete %{name} |||| Delete %{smart_count} %{name}',\n            bulk_update_content: 'Are you sure you want to update this %{name}? |||| Are you sure you want to update these %{smart_count} items?',\n            bulk_update_title: 'Update %{name} |||| Update %{smart_count} %{name}',\n            delete_content: 'Are you sure you want to delete this item?',\n            delete_title: 'Delete %{name} #%{id}',\n            details: 'Details',\n            error: \"A client error occurred and your request couldn't be completed.\",\n            invalid_form: 'The form is not valid. Please check for errors',\n            loading: 'The page is loading, just a moment please',\n            no: 'No',\n            not_found: 'Either you typed a wrong URL, or you followed a bad link.',\n            yes: 'Yes',\n            unsaved_changes: \"Some of your changes weren't saved. Are you sure you want to ignore them?\",\n        },\n        navigation: {\n            no_results: 'No results found',\n            no_more_results: 'The page number %{page} is out of boundaries. Try the previous page.',\n            page_out_of_boundaries: 'Page number %{page} out of boundaries',\n            page_out_from_end: 'Cannot go after last page',\n            page_out_from_begin: 'Cannot go before page 1',\n            page_range_info: '%{offsetBegin}-%{offsetEnd} of %{total}',\n            page_rows_per_page: 'Rows per page:',\n            next: 'Next',\n            prev: 'Prev',\n            skip_nav: 'Skip to content',\n        },\n        sort: {\n            sort_by: 'Sort by %{field} %{order}',\n            ASC: 'ascending',\n            DESC: 'descending',\n        },\n        auth: {\n            auth_check_error: 'Please login to continue',\n            user_menu: 'Profile',\n            username: 'Username',\n            password: 'Password',\n            sign_in: 'Sign in',\n            sign_in_error: 'Authentication failed, please retry',\n            logout: 'Logout',\n        },\n        notification: {\n            updated: 'Element updated |||| %{smart_count} elements updated',\n            created: 'Element created',\n            deleted: 'Element deleted |||| %{smart_count} elements deleted',\n            bad_item: 'Incorrect element',\n            item_doesnt_exist: 'Element does not exist',\n            http_error: 'Server communication error',\n            data_provider_error: 'dataProvider error. Check the console for details.',\n            i18n_error: 'Cannot load the translations for the specified language',\n            canceled: 'Action cancelled',\n            logged_out: 'Your session has ended, please reconnect.',\n            not_authorized: \"You're not authorized to access this resource.\",\n        },\n        validation: {\n            required: 'Required',\n            minLength: 'Must be %{min} characters at least',\n            maxLength: 'Must be %{max} characters or less',\n            minValue: 'Must be at least %{min}',\n            maxValue: 'Must be %{max} or less',\n            number: 'Must be a number',\n            email: 'Must be a valid email',\n            oneOf: 'Must be one of: %{options}',\n            regex: 'Must match a specific format (regexp): %{pattern}',\n        },\n    },\n};\nexport default englishMessages;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport Polyglot from 'node-polyglot';\n/**\n * Build a polyglot-based i18nProvider based on a function returning the messages for a locale\n *\n * @example\n *\n * import { Admin, Resource, polyglotI18nProvider } from 'react-admin';\n * import englishMessages from 'ra-language-english';\n * import frenchMessages from 'ra-language-french';\n *\n * const messages = {\n *     fr: frenchMessages,\n *     en: englishMessages,\n * };\n * const i18nProvider = polyglotI18nProvider(locale => messages[locale])\n */\nexport default (function (getMessages, initialLocale, polyglotOptions) {\n    if (initialLocale === void 0) { initialLocale = 'en'; }\n    if (polyglotOptions === void 0) { polyglotOptions = {}; }\n    var locale = initialLocale;\n    var messages = getMessages(initialLocale);\n    if (messages instanceof Promise) {\n        throw new Error(\"The i18nProvider returned a Promise for the messages of the default locale (\" + initialLocale + \"). Please update your i18nProvider to return the messages of the default locale in a synchronous way.\");\n    }\n    var polyglot = new Polyglot(__assign({ locale: locale, phrases: __assign({ '': '' }, messages) }, polyglotOptions));\n    var translate = polyglot.t.bind(polyglot);\n    return {\n        translate: function (key, options) {\n            if (options === void 0) { options = {}; }\n            return translate(key, options);\n        },\n        changeLocale: function (newLocale) {\n            // We systematically return a Promise for the messages because\n            // getMessages may return a Promise\n            return Promise.resolve(getMessages(newLocale)).then(function (messages) {\n                locale = newLocale;\n                var newPolyglot = new Polyglot(__assign({ locale: newLocale, phrases: __assign({ '': '' }, messages) }, polyglotOptions));\n                translate = newPolyglot.t.bind(newPolyglot);\n            });\n        },\n        getLocale: function () { return locale; },\n    };\n});\n","import defaultMessages from 'ra-language-english';\nimport polyglotI18nProvider from 'ra-i18n-polyglot';\nexport default polyglotI18nProvider(function () { return defaultMessages; }, 'en', {\n    allowMissing: true,\n});\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { CoreAdminContext } from 'ra-core';\nimport defaultI18nProvider from './defaultI18nProvider';\nvar AdminContext = function (props) { return (React.createElement(CoreAdminContext, __assign({}, props))); };\nAdminContext.defaultProps = {\n    i18nProvider: defaultI18nProvider,\n};\nAdminContext.displayName = 'AdminContext';\nexport default AdminContext;\n","export default (function (condition, message) {\n    if (condition && process.env.NODE_ENV !== 'production') {\n        console.warn(message); // eslint-disable-line\n    }\n});\n","import { useContext } from 'react';\nimport AuthContext from './AuthContext';\nexport var defaultAuthParams = {\n    loginUrl: '/login',\n    afterLoginUrl: '/',\n};\n/**\n * Get the authProvider stored in the context\n */\nvar useAuthProvider = function () { return useContext(AuthContext); };\nexport default useAuthProvider;\n","import { useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport useAuthProvider, { defaultAuthParams } from './useAuthProvider';\nimport { clearState } from '../actions/clearActions';\nimport { useHistory } from 'react-router-dom';\n/**\n * Get a callback for calling the authProvider.logout() method,\n * redirect to the login page, and clear the Redux state.\n *\n * @see useAuthProvider\n *\n * @returns {Function} logout callback\n *\n * @example\n *\n * import { useLogout } from 'react-admin';\n *\n * const LogoutButton = () => {\n *     const logout = useLogout();\n *     const handleClick = () => logout();\n *     return <button onClick={handleClick}>Logout</button>;\n * }\n */\nvar useLogout = function () {\n    var authProvider = useAuthProvider();\n    var dispatch = useDispatch();\n    /**\n     * We need the current location to pass in the router state\n     * so that the login hook knows where to redirect to as next route after login.\n     *\n     * But if we used useLocation to get it, the logout function\n     * would be rebuilt each time the user changes location. Consequently, that\n     * would force a rerender of all components using this hook upon navigation\n     * (CoreAdminRouter for example).\n     *\n     * To avoid that, we read the location directly from history which is mutable.\n     * See: https://reacttraining.com/react-router/web/api/history/history-is-mutable\n     */\n    var history = useHistory();\n    var logout = useCallback(function (params, redirectTo, redirectToCurrentLocationAfterLogin) {\n        if (params === void 0) { params = {}; }\n        if (redirectTo === void 0) { redirectTo = defaultAuthParams.loginUrl; }\n        if (redirectToCurrentLocationAfterLogin === void 0) { redirectToCurrentLocationAfterLogin = true; }\n        return authProvider.logout(params).then(function (redirectToFromProvider) {\n            dispatch(clearState());\n            if (redirectToFromProvider === false) {\n                // do not redirect\n                return;\n            }\n            // redirectTo can contain a query string, e.g. '/login?foo=bar'\n            // we must split the redirectTo to pass a structured location to history.push()\n            var redirectToParts = (redirectToFromProvider || redirectTo).split('?');\n            var newLocation = {\n                pathname: redirectToParts[0],\n            };\n            if (redirectToCurrentLocationAfterLogin &&\n                history.location &&\n                history.location.pathname) {\n                newLocation.state = {\n                    nextPathname: history.location.pathname,\n                    nextSearch: history.location.search,\n                };\n            }\n            if (redirectToParts[1]) {\n                newLocation.search = redirectToParts[1];\n            }\n            history.push(newLocation);\n            return redirectToFromProvider;\n        });\n    }, [authProvider, history, dispatch]);\n    var logoutWithoutProvider = useCallback(function (_) {\n        history.push({\n            pathname: defaultAuthParams.loginUrl,\n            state: {\n                nextPathname: history.location && history.location.pathname,\n            },\n        });\n        dispatch(clearState());\n        return Promise.resolve();\n    }, [dispatch, history]);\n    return authProvider ? logout : logoutWithoutProvider;\n};\nexport default useLogout;\n","import { useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { showNotification, } from '../actions/notificationActions';\n/**\n * Hook for Notification Side Effect\n *\n * @example\n *\n * const notify = useNotify();\n * // simple message (info level)\n * notify('Level complete');\n * // specify level\n * notify('A problem occurred', 'warning')\n * // pass arguments to the translation function\n * notify('Deleted %{count} elements', 'info', { smart_count: 23 })\n * // show the action as undoable in the notification\n * notify('Post renamed', 'info', {}, true)\n */\nvar useNotify = function () {\n    var dispatch = useDispatch();\n    return useCallback(function (message, type, messageArgs, undoable, autoHideDuration) {\n        if (type === void 0) { type = 'info'; }\n        if (messageArgs === void 0) { messageArgs = {}; }\n        if (undoable === void 0) { undoable = false; }\n        dispatch(showNotification(message, type, {\n            messageArgs: messageArgs,\n            undoable: undoable,\n            autoHideDuration: autoHideDuration,\n        }));\n    }, [dispatch]);\n};\nexport default useNotify;\n","import { useCallback } from 'react';\nimport useAuthProvider, { defaultAuthParams } from './useAuthProvider';\nimport useLogout from './useLogout';\nimport useNotify from '../sideEffect/useNotify';\n/**\n * Get a callback for calling the authProvider.checkAuth() method.\n * In case of rejection, redirects to the login page, displays a notification,\n * and throws an error.\n *\n * This is a low level hook. See those more specialized hooks\n * for common authentication tasks, based on useCheckAuth.\n *\n * @see useAuthenticated\n * @see useAuthState\n *\n * @returns {Function} checkAuth callback\n *\n * @example\n *\n * import { useCheckAuth } from 'react-admin';\n *\n * const MyProtectedPage = () => {\n *     const checkAuth = useCheckAuth();\n *     useEffect(() => {\n *         checkAuth().catch(() => {});\n *     }, []);\n *     return <p>Private content: EZAEZEZAET</p>\n * } // tip: use useAuthenticated() hook instead\n *\n * const MyPage = () => {\n *     const checkAuth = useCheckAuth();\n *     const [authenticated, setAuthenticated] = useState(true); // optimistic auth\n *     useEffect(() => {\n *         checkAuth({}, false)\n *              .then(() => setAuthenticated(true))\n *              .catch(() => setAuthenticated(false));\n *     }, []);\n *     return authenticated ? <Bar /> : <BarNotAuthenticated />;\n * } // tip: use useAuthState() hook instead\n */\nvar useCheckAuth = function () {\n    var authProvider = useAuthProvider();\n    var notify = useNotify();\n    var logout = useLogout();\n    var checkAuth = useCallback(function (params, logoutOnFailure, redirectTo, disableNotification) {\n        if (params === void 0) { params = {}; }\n        if (logoutOnFailure === void 0) { logoutOnFailure = true; }\n        if (redirectTo === void 0) { redirectTo = defaultAuthParams.loginUrl; }\n        if (disableNotification === void 0) { disableNotification = false; }\n        return authProvider.checkAuth(params).catch(function (error) {\n            if (logoutOnFailure) {\n                logout({}, error && error.redirectTo\n                    ? error.redirectTo\n                    : redirectTo);\n                var shouldSkipNotify = disableNotification ||\n                    (error && error.message === false);\n                !shouldSkipNotify &&\n                    notify(getErrorMessage(error, 'ra.auth.auth_check_error'), 'warning');\n            }\n            throw error;\n        });\n    }, [authProvider, logout, notify]);\n    return authProvider ? checkAuth : checkAuthWithoutAuthProvider;\n};\nvar checkAuthWithoutAuthProvider = function () { return Promise.resolve(); };\nvar getErrorMessage = function (error, defaultMessage) {\n    return typeof error === 'string'\n        ? error\n        : typeof error === 'undefined' || !error.message\n            ? defaultMessage\n            : error.message;\n};\nexport default useCheckAuth;\n","import { useEffect } from 'react';\nimport useCheckAuth from './useCheckAuth';\nvar emptyParams = {};\n/**\n * Restrict access to authenticated users.\n * Redirect anonymous users to the login page.\n *\n * Use it in your custom page components to require\n * authentication.\n *\n * You can set additional `authParams` at will if your authProvider\n * requires it.\n *\n * @example\n *     import { useAuthenticated } from 'react-admin';\n *     const FooPage = () => {\n *         useAuthenticated();\n *         return <Foo />;\n *     }\n *     const CustomRoutes = [\n *         <Route path=\"/foo\" render={() => <FooPage />} />\n *     ];\n *     const App = () => (\n *         <Admin customRoutes={customRoutes}>\n *             ...\n *         </Admin>\n *     );\n */\nexport default (function (params) {\n    if (params === void 0) { params = emptyParams; }\n    var checkAuth = useCheckAuth();\n    useEffect(function () {\n        checkAuth(params).catch(function () { });\n    }, [checkAuth, params]);\n});\n","import { useCallback } from 'react';\nimport useAuthProvider from './useAuthProvider';\nvar getPermissionsWithoutProvider = function () { return Promise.resolve([]); };\n/**\n * Get a callback for calling the authProvider.getPermissions() method.\n *\n * @see useAuthProvider\n *\n * @returns {Function} getPermissions callback\n *\n * This is a low level hook. See those more specialized hooks\n * offering state handling.\n *\n * @see usePermissions\n *\n * @example\n *\n * import { useGetPermissions } from 'react-admin';\n *\n * const Roles = () => {\n *     const [permissions, setPermissions] = useState([]);\n *     const getPermissions = useGetPermissions();\n *     useEffect(() => {\n *         getPermissions().then(permissions => setPermissions(permissions))\n *     }, [])\n *     return (\n *         <ul>\n *             {permissions.map((permission, key) => (\n *                 <li key={key}>{permission}</li>\n *             ))}\n *         </ul>\n *     );\n * }\n */\nvar useGetPermissions = function () {\n    var authProvider = useAuthProvider();\n    var getPermissions = useCallback(function (params) {\n        if (params === void 0) { params = {}; }\n        return authProvider.getPermissions(params);\n    }, [authProvider]);\n    return authProvider ? getPermissions : getPermissionsWithoutProvider;\n};\nexport default useGetPermissions;\n","import { useEffect } from 'react';\nimport isEqual from 'lodash/isEqual';\nimport useGetPermissions from './useGetPermissions';\nimport { useSafeSetState } from '../util/hooks';\nvar emptyParams = {};\n// keep a cache of already fetched permissions to initialize state for new\n// components and avoid a useless rerender if the permissions haven't changed\nvar alreadyFetchedPermissions = { '{}': undefined };\n/**\n * Hook for getting user permissions without the loading state.\n *\n * When compared to usePermissions, this hook doesn't cause a re-render\n * when the permissions haven't changed since the last call.\n *\n * This hook doesn't handle the loading state.\n *\n * @see usePermissions\n *\n * Calls the authProvider.getPermissions() method asynchronously.\n * If the authProvider returns a rejected promise, returns empty permissions.\n *\n * The return value updates according to the request state:\n *\n * - start:   { permissions: [previously fetched permissions for these params] }\n * - success: { permissions: [permissions returned by the authProvider (usually the same as on start)] }\n * - error:   { error: [error from provider] }\n *\n * Useful to enable features based on user permissions\n *\n * @param {Object} params Any params you want to pass to the authProvider\n *\n * @returns The current auth check state. Destructure as { permissions, error }.\n *\n * @example\n *     import { usePermissionsOptimized } from 'react-admin';\n *\n *     const PostDetail = props => {\n *         const { permissions } = usePermissionsOptimized();\n *         if (permissions !== 'editor') {\n *             return <Redirect to={`posts/${props.id}/show`} />\n *         } else {\n *             return <PostEdit {...props} />\n *         }\n *     };\n */\nvar usePermissionsOptimized = function (params) {\n    if (params === void 0) { params = emptyParams; }\n    var key = JSON.stringify(params);\n    var _a = useSafeSetState({\n        permissions: alreadyFetchedPermissions[key],\n    }), state = _a[0], setState = _a[1];\n    var getPermissions = useGetPermissions();\n    useEffect(function () {\n        getPermissions(params)\n            .then(function (permissions) {\n            if (!isEqual(permissions, state.permissions)) {\n                alreadyFetchedPermissions[key] = permissions;\n                setState({ permissions: permissions });\n            }\n        })\n            .catch(function (error) {\n            setState({\n                error: error,\n            });\n        });\n    }, [getPermissions, key]); // eslint-disable-line react-hooks/exhaustive-deps\n    return state;\n};\nexport default usePermissionsOptimized;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { Children, createElement, } from 'react';\nimport warning from '../util/warning';\nimport useAuthenticated from './useAuthenticated';\nimport usePermissionsOptimized from './usePermissionsOptimized';\nvar isEmptyChildren = function (children) { return Children.count(children) === 0; };\n/**\n * After checking that the user is authenticated,\n * retrieves the user's permissions for a specific context.\n *\n * Useful for Route components ; used internally by Resource.\n * Use it to decorate your custom page components to require\n * a custom role. It will pass the permissions as a prop to your\n * component.\n *\n * You can set additional `authParams` at will if your authProvider\n * requires it.\n *\n * @example\n *     import { WithPermissions } from 'react-admin';\n *\n *     const Foo = ({ permissions }) => (\n *         {permissions === 'admin' ? <p>Sensitive data</p> : null}\n *         <p>Not sensitive data</p>\n *     );\n *\n *     const customRoutes = [\n *         <Route path=\"/foo\" render={() =>\n *             <WithPermissions\n *                  authParams={{ foo: 'bar' }}\n *                  render={({ permissions, ...props }) => <Foo permissions={permissions} {...props} />}\n *              />\n *         } />\n *     ];\n *     const App = () => (\n *         <Admin customRoutes={customRoutes}>\n *             ...\n *         </Admin>\n *     );\n */\nvar WithPermissions = function (_a) {\n    var authParams = _a.authParams, children = _a.children, render = _a.render, component = _a.component, staticContext = _a.staticContext, props = __rest(_a, [\"authParams\", \"children\", \"render\", \"component\", \"staticContext\"]);\n    warning((render && children && !isEmptyChildren(children)) ||\n        (render && component) ||\n        (component && children && !isEmptyChildren(children)), 'You should only use one of the `component`, `render` and `children` props in <WithPermissions>');\n    useAuthenticated(authParams);\n    var permissions = usePermissionsOptimized(authParams).permissions;\n    // render even though the usePermissions() call isn't finished (optimistic rendering)\n    if (component) {\n        return createElement(component, __assign({ permissions: permissions }, props));\n    }\n    // @deprecated\n    if (render) {\n        return render(__assign({ permissions: permissions }, props));\n    }\n    // @deprecated\n    if (children) {\n        return children(__assign({ permissions: permissions }, props));\n    }\n};\nexport default WithPermissions;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { Children, cloneElement, createElement, } from 'react';\nimport { Redirect, Route, Switch } from 'react-router-dom';\nimport WithPermissions from '../auth/WithPermissions';\nvar defaultAuthParams = { route: 'dashboard' };\nvar RoutesWithLayout = function (_a) {\n    var catchAll = _a.catchAll, children = _a.children, customRoutes = _a.customRoutes, dashboard = _a.dashboard, title = _a.title;\n    var childrenAsArray = React.Children.toArray(children);\n    var firstChild = childrenAsArray.length > 0\n        ? childrenAsArray[0]\n        : null;\n    return (React.createElement(Switch, null,\n        customRoutes &&\n            customRoutes.map(function (route, key) { return cloneElement(route, { key: key }); }),\n        Children.map(children, function (child) { return (React.createElement(Route, { key: child.props.name, path: \"/\" + child.props.name, render: function (props) {\n                return cloneElement(child, __assign({ \n                    // The context prop instruct the Resource component to\n                    // render itself as a standard component\n                    intent: 'route' }, props));\n            } })); }),\n        dashboard ? (React.createElement(Route, { exact: true, path: \"/\", render: function (routeProps) { return (React.createElement(WithPermissions, __assign({ authParams: defaultAuthParams, component: dashboard }, routeProps))); } })) : firstChild ? (React.createElement(Route, { exact: true, path: \"/\", render: function () { return React.createElement(Redirect, { to: \"/\" + firstChild.props.name }); } })) : null,\n        React.createElement(Route, { render: function (routeProps) {\n                return createElement(catchAll, __assign(__assign({}, routeProps), { title: title }));\n            } })));\n};\nexport default RoutesWithLayout;\n","import { useEffect } from 'react';\nimport useCheckAuth from './useCheckAuth';\nimport { useSafeSetState } from '../util/hooks';\nvar emptyParams = {};\n/**\n * Hook for getting the authentication status\n *\n * Calls the authProvider.checkAuth() method asynchronously.\n *\n * The return value updates according to the authProvider request state:\n *\n * - loading: true just after mount, while the authProvider is being called. false once the authProvider has answered.\n * - loaded: the opposite of loading.\n * - authenticated: true while loading. then true or false depending on the authProvider response.\n *\n * To avoid rendering a component and force waiting for the authProvider response, use the useAuthState() hook\n * instead of the useAuthenticated() hook.\n *\n * You can render different content depending on the authenticated status.\n *\n * @see useAuthenticated()\n *\n * @param {Object} params Any params you want to pass to the authProvider\n *\n * @returns The current auth check state. Destructure as { authenticated, error, loading, loaded }.\n *\n * @example\n * import { useAuthState, Loading } from 'react-admin';\n *\n * const MyPage = () => {\n *     const { loading, authenticated } = useAuthState();\n *     if (loading) {\n *         return <Loading />;\n *     }\n *     if (authenticated) {\n *        return <AuthenticatedContent />;\n *     }\n *     return <AnonymousContent />;\n * };\n */\nvar useAuthState = function (params) {\n    if (params === void 0) { params = emptyParams; }\n    var _a = useSafeSetState({\n        loading: true,\n        loaded: false,\n        authenticated: true,\n    }), state = _a[0], setState = _a[1];\n    var checkAuth = useCheckAuth();\n    useEffect(function () {\n        checkAuth(params, false)\n            .then(function () {\n            return setState({ loading: false, loaded: true, authenticated: true });\n        })\n            .catch(function () {\n            return setState({ loading: false, loaded: true, authenticated: false });\n        });\n    }, [checkAuth, params, setState]);\n    return state;\n};\nexport default useAuthState;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport React, { Children, useEffect, cloneElement, createElement, } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport RoutesWithLayout from './RoutesWithLayout';\nimport { useLogout, useGetPermissions, useAuthState } from '../auth';\nimport { useTimeout, useSafeSetState } from '../util';\nimport { useScrollToTop } from './useScrollToTop';\nvar CoreAdminRouter = function (props) {\n    var getPermissions = useGetPermissions();\n    var doLogout = useLogout();\n    var authenticated = useAuthState().authenticated;\n    var oneSecondHasPassed = useTimeout(1000);\n    var _a = useSafeSetState([]), computedChildren = _a[0], setComputedChildren = _a[1];\n    useScrollToTop();\n    useEffect(function () {\n        if (typeof props.children === 'function') {\n            initializeResources();\n        }\n    }, [authenticated]); // eslint-disable-line react-hooks/exhaustive-deps\n    var initializeResources = function () { return __awaiter(void 0, void 0, void 0, function () {\n        var permissions, resolveChildren, childrenFuncResult, error_1;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    _a.trys.push([0, 2, , 3]);\n                    return [4 /*yield*/, getPermissions()];\n                case 1:\n                    permissions = _a.sent();\n                    resolveChildren = props.children;\n                    childrenFuncResult = resolveChildren(permissions);\n                    if (childrenFuncResult.then) {\n                        childrenFuncResult.then(function (resolvedChildren) {\n                            return setComputedChildren(resolvedChildren\n                                .filter(function (child) { return child; })\n                                .map(function (child) { return (__assign(__assign({}, child), { props: __assign(__assign({}, child.props), { key: child.props.name }) })); }));\n                        });\n                    }\n                    else {\n                        setComputedChildren(childrenFuncResult.filter(function (child) { return child; }));\n                    }\n                    return [3 /*break*/, 3];\n                case 2:\n                    error_1 = _a.sent();\n                    console.error(error_1);\n                    doLogout();\n                    return [3 /*break*/, 3];\n                case 3: return [2 /*return*/];\n            }\n        });\n    }); };\n    var renderCustomRoutesWithoutLayout = function (route, routeProps) {\n        if (route.props.render) {\n            return route.props.render(__assign(__assign({}, routeProps), { title: props.title }));\n        }\n        if (route.props.component) {\n            return createElement(route.props.component, __assign(__assign({}, routeProps), { title: props.title }));\n        }\n    };\n    var layout = props.layout, catchAll = props.catchAll, children = props.children, customRoutes = props.customRoutes, dashboard = props.dashboard, LoadingPage = props.loading, logout = props.logout, menu = props.menu, Ready = props.ready, theme = props.theme, title = props.title;\n    if (typeof children !== 'function' && !children) {\n        return React.createElement(Ready, null);\n    }\n    if ((typeof children === 'function' &&\n        (!computedChildren || computedChildren.length === 0)) ||\n        (Array.isArray(children) && children.length === 0)) {\n        return (React.createElement(Switch, null,\n            customRoutes\n                .filter(function (route) { return route.props.noLayout; })\n                .map(function (route, key) {\n                return cloneElement(route, {\n                    key: key,\n                    render: function (routeProps) {\n                        return renderCustomRoutesWithoutLayout(route, routeProps);\n                    },\n                    component: undefined,\n                });\n            }),\n            oneSecondHasPassed && (React.createElement(Route, { key: \"loading\", render: function () { return React.createElement(LoadingPage, { theme: theme }); } }))));\n    }\n    var childrenToRender = (typeof children === 'function'\n        ? computedChildren\n        : children);\n    return (React.createElement(\"div\", null,\n        // Render every resource children outside the React Router Switch\n        // as we need all of them and not just the one rendered\n        Children.map(childrenToRender, function (child) {\n            return cloneElement(child, {\n                key: child.props.name,\n                // The context prop instructs the Resource component to not render anything\n                // but simply to register itself as a known resource\n                intent: 'registration',\n            });\n        }),\n        React.createElement(Switch, null,\n            customRoutes\n                .filter(function (route) { return route.props.noLayout; })\n                .map(function (route, key) {\n                return cloneElement(route, {\n                    key: key,\n                    render: function (routeProps) {\n                        return renderCustomRoutesWithoutLayout(route, routeProps);\n                    },\n                    component: undefined,\n                });\n            }),\n            React.createElement(Route, { path: \"/\", render: function () {\n                    return createElement(layout, {\n                        dashboard: dashboard,\n                        logout: logout,\n                        menu: menu,\n                        theme: theme,\n                        title: title,\n                    }, React.createElement(RoutesWithLayout, { catchAll: catchAll, customRoutes: customRoutes.filter(function (route) { return !route.props.noLayout; }), dashboard: dashboard, title: title }, Children.map(childrenToRender, function (child) {\n                        return cloneElement(child, {\n                            key: child.props.name,\n                            intent: 'route',\n                        });\n                    })));\n                } }))));\n};\nCoreAdminRouter.defaultProps = {\n    customRoutes: [],\n};\nexport default CoreAdminRouter;\n","import { useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\n/**\n * Scroll the window to top when the target location contains the _scrollToTop state\n *\n * @see CoreAdminRouter where it's enabled by default\n *\n * @example // usage in buttons\n * import { Link } from 'react-router-dom';\n * import { Button } from '@material-ui/core';\n *\n * const FooButton = () => (\n *     <Button\n *         component={Link}\n *         to={{\n *             pathname: '/foo',\n *             state: { _scrollToTop: true },\n *         }}\n *     >\n *         Go to foo\n *     </Button>\n * );\n */\nexport var useScrollToTop = function () {\n    var history = useHistory();\n    useEffect(function () {\n        return history.listen(function (location, action) {\n            var _a;\n            if (action !== 'POP' && ((_a = location.state) === null || _a === void 0 ? void 0 : _a._scrollToTop) &&\n                typeof window != 'undefined') {\n                window.scrollTo(0, 0);\n            }\n        });\n    }, [history]);\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { useState } from 'react';\nvar styles = {\n    root: {\n        width: '100vw',\n        height: '100vh',\n        display: 'flex',\n        flexDirection: 'column',\n        fontFamily: '\"Roboto\", sans-serif',\n    },\n    main: {\n        flex: 1,\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        textAlign: 'center',\n        flexDirection: 'column',\n        background: 'linear-gradient(135deg, #00023b 0%, #00023b 50%, #313264 100%)',\n        color: 'white',\n        fontSize: '1.5em',\n        fontWeight: 'bold',\n    },\n    secondary: {\n        height: '20vh',\n        background: '#e8e8e8',\n        color: 'black',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-evenly',\n    },\n    link: {\n        textAlign: 'center',\n        width: 150,\n        display: 'block',\n        textDecoration: 'none',\n        color: 'black',\n        opacity: 0.7,\n    },\n    linkHovered: {\n        opacity: 1,\n    },\n    image: {\n        width: 50,\n    },\n    logo: {\n        height: 100,\n    },\n};\nvar Button = function (_a) {\n    var img = _a.img, label = _a.label, href = _a.href;\n    var _b = useState(false), hovered = _b[0], setHovered = _b[1];\n    return (React.createElement(\"div\", null,\n        React.createElement(\"a\", { href: href, style: hovered\n                ? __assign(__assign({}, styles.link), styles.linkHovered) : styles.link, onMouseEnter: function () { return setHovered(true); }, onMouseLeave: function () { return setHovered(false); } },\n            React.createElement(\"img\", { src: img, alt: label, style: styles.image }),\n            React.createElement(\"br\", null),\n            label)));\n};\nexport default (function () {\n    return process.env.NODE_ENV === 'production' ? (React.createElement(\"span\", null)) : (React.createElement(\"div\", { style: styles.root },\n        React.createElement(\"div\", { style: styles.main },\n            React.createElement(\"img\", { style: styles.logo, src: \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkNhbHF1ZV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgMTMxIDEzMSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTMxIDEzMTsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsOiMyMjI0NTg7fQoJLnN0MXtmaWxsOiM1MTUzN0Q7fQoJLnN0MntmaWxsOiNBM0E0Qjk7fQoJLnN0M3tmaWxsOiMwMDAyM0I7fQoJLnN0NHtmaWxsOiNGRkZGRkY7fQoJLnN0NXtlbmFibGUtYmFja2dyb3VuZDpuZXcgICAgO30KPC9zdHlsZT4KPHRpdGxlPkxvZ29fc29tYnJlX2FpPC90aXRsZT4KPGcgaWQ9IlJlY3RhbmdsZV81NiI+Cgk8Zz4KCQk8cmVjdCB4PSIxOS4xIiB5PSIxOSIgdHJhbnNmb3JtPSJtYXRyaXgoMC41IC0wLjg2NiAwLjg2NiAwLjUgLTIzLjkyMjYgODkuNTQ2KSIgY2xhc3M9InN0MCIgd2lkdGg9IjkyLjkiIGhlaWdodD0iOTIuOSIvPgoJCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik04MywxMzAuM0wwLjgsODIuOUw0OC4yLDAuN2w4Mi4yLDQ3LjVMODMsMTMwLjN6IE0zLjUsODIuMWw3OC43LDQ1LjVsNDUuNS03OC43TDQ5LDMuNEwzLjUsODIuMXoiLz4KCTwvZz4KPC9nPgo8ZyBpZD0iUmVjdGFuZ2xlXzU2LTIiPgoJPGc+CgkJPHJlY3QgeD0iMTkiIHk9IjE5LjEiIHRyYW5zZm9ybT0ibWF0cml4KDAuODY2IC0wLjUgMC41IDAuODY2IC0yMy45Nzc3IDQxLjUyNykiIGNsYXNzPSJzdDAiIHdpZHRoPSI5Mi45IiBoZWlnaHQ9IjkyLjkiLz4KCQk8cGF0aCBjbGFzcz0ic3QyIiBkPSJNNDcuOSwxMzFMMCw0OEw4My4xLDBsNDgsODMuMUw0Ny45LDEzMXogTTQuMSw0OS4xbDQ1LDc3LjlsNzcuOS00NUw4Miw0LjFMNC4xLDQ5LjF6Ii8+Cgk8L2c+CjwvZz4KPGcgaWQ9IlJlY3RhbmdsZV81Ni0zIj4KCTxnPgoJCTxyZWN0IHg9IjE5LjEiIHk9IjE5IiBjbGFzcz0ic3QzIiB3aWR0aD0iOTIuOSIgaGVpZ2h0PSI5Mi45Ii8+CgkJPHBhdGggY2xhc3M9InN0NCIgZD0iTTExNC41LDExNC41SDE2LjZWMTYuNWg5Ny45VjExNC41eiBNMjEuNiwxMDkuNWg4Ny45VjIxLjVIMjEuNlYxMDkuNXoiLz4KCTwvZz4KPC9nPgo8ZyBpZD0iUmEiPgoJPGcgY2xhc3M9InN0NSI+CgkJPHBhdGggY2xhc3M9InN0NCIgZD0iTTU5LDg2LjdsLTYuNy0xOS4yaC0xLjJIMzguOXYxOS4yaC01LjZWMzguNWgxOC41YzMuNiwwLDYuMywwLjYsOC4xLDEuOGMxLjgsMS4yLDMsMi44LDMuNSw0LjgKCQkJYzAuNSwyLDAuOCw0LjYsMC44LDcuOGMwLDMuNS0wLjQsNi40LTEuMyw4LjdjLTAuOCwyLjMtMi42LDMuOS01LjMsNC44TDY1LDg2LjdINTl6IE01NS43LDYxLjZjMS4yLTAuNywyLTEuNywyLjQtMwoJCQljMC40LTEuMywwLjYtMy4yLDAuNi01LjZjMC0yLjUtMC4yLTQuMy0wLjUtNS42Yy0wLjMtMS4zLTEuMS0yLjItMi4zLTIuOWMtMS4yLTAuNy0zLTEtNS41LTFIMzguOXYxOS4xSDUwCgkJCUM1Mi41LDYyLjYsNTQuNCw2Mi4zLDU1LjcsNjEuNnoiLz4KCQk8cGF0aCBjbGFzcz0ic3Q0IiBkPSJNNzQuMyw4NWMtMS42LTEuNS0yLjUtNC4yLTIuNS04LjJjMC0yLjcsMC4zLTQuOCwwLjktNi4zYzAuNi0xLjUsMS42LTIuNiwzLTMuM2MxLjQtMC43LDMuNC0xLDYtMQoJCQljMS4zLDAsNS4xLDAuMSwxMS40LDAuM3YtMi40YzAtMi45LTAuMi01LTAuNy02LjJjLTAuNS0xLjItMS4zLTItMi42LTIuNGMtMS4yLTAuMy0zLjMtMC41LTYuMy0wLjVjLTEuMywwLTMsMC4xLTQuOSwwLjIKCQkJYy0yLDAuMS0zLjYsMC4zLTQuOCwwLjV2LTQuM2MzLjMtMC43LDcuMS0xLDExLjQtMWMzLjcsMCw2LjUsMC40LDguNCwxLjJjMS44LDAuOCwzLjEsMi4yLDMuOCw0LjFjMC43LDEuOSwxLDQuNywxLDguNHYyMi41aC00LjgKCQkJbC0wLjMtNWgtMC4zYy0wLjgsMi4yLTIuMiwzLjctNC4xLDQuNGMtMS45LDAuNy00LjEsMS4xLTYuNiwxLjFDNzguNiw4Ny4yLDc2LDg2LjUsNzQuMyw4NXogTTg5LjEsODJjMS4yLTAuNCwyLjItMS4yLDIuOC0yLjQKCQkJYzAuOS0xLjgsMS4zLTQuMywxLjMtNy4zdi0yaC0xMGMtMS43LDAtMywwLjItMy44LDAuNWMtMC44LDAuMy0xLjQsMC45LTEuNywxLjhjLTAuMywwLjktMC41LDIuMi0wLjUsNGMwLDEuOCwwLjIsMy4xLDAuNiwzLjkKCQkJYzAuNCwwLjgsMS4xLDEuNCwyLDEuOGMxLDAuMywyLjUsMC41LDQuNSwwLjVDODYuMiw4Mi42LDg3LjgsODIuNCw4OS4xLDgyeiIvPgoJPC9nPgo8L2c+Cjwvc3ZnPgo=\", alt: \"react-admin logo\" }),\n            React.createElement(\"h1\", null, \"Welcome to React-admin\"),\n            React.createElement(\"div\", null,\n                \"Your application is properly configured.\",\n                React.createElement(\"br\", null),\n                \"Now you can add a <Resource> as child of <Admin>.\")),\n        React.createElement(\"div\", { style: styles.secondary },\n            React.createElement(Button, { href: \"https://marmelab.com/react-admin/Readme.html\", img: \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIyNHB4IgoJIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAyNCAyNCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnIGlkPSJCb3VuZGluZ19Cb3giPgoJPHJlY3QgZmlsbD0ibm9uZSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ii8+CjwvZz4KPGcgaWQ9IkZsYXQiPgoJPGcgaWQ9InVpX3g1Rl9zcGVjX3g1Rl9oZWFkZXJfY29weV8yIj4KCTwvZz4KCTxnPgoJCTxwYXRoIGQ9Ik0yMSw1Yy0xLjExLTAuMzUtMi4zMy0wLjUtMy41LTAuNWMtMS45NSwwLTQuMDUsMC40LTUuNSwxLjVjLTEuNDUtMS4xLTMuNTUtMS41LTUuNS0xLjVTMi40NSw0LjksMSw2djE0LjY1CgkJCWMwLDAuMjUsMC4yNSwwLjUsMC41LDAuNWMwLjEsMCwwLjE1LTAuMDUsMC4yNS0wLjA1QzMuMSwyMC40NSw1LjA1LDIwLDYuNSwyMGMxLjk1LDAsNC4wNSwwLjQsNS41LDEuNWMxLjM1LTAuODUsMy44LTEuNSw1LjUtMS41CgkJCWMxLjY1LDAsMy4zNSwwLjMsNC43NSwxLjA1YzAuMSwwLjA1LDAuMTUsMC4wNSwwLjI1LDAuMDVjMC4yNSwwLDAuNS0wLjI1LDAuNS0wLjVWNkMyMi40LDUuNTUsMjEuNzUsNS4yNSwyMSw1eiBNMywxOC41VjcKCQkJYzEuMS0wLjM1LDIuMy0wLjUsMy41LTAuNWMxLjM0LDAsMy4xMywwLjQxLDQuNSwwLjk5djExLjVDOS42MywxOC40MSw3Ljg0LDE4LDYuNSwxOEM1LjMsMTgsNC4xLDE4LjE1LDMsMTguNXogTTIxLDE4LjUKCQkJYy0xLjEtMC4zNS0yLjMtMC41LTMuNS0wLjVjLTEuMzQsMC0zLjEzLDAuNDEtNC41LDAuOTlWNy40OWMxLjM3LTAuNTksMy4xNi0wLjk5LDQuNS0wLjk5YzEuMiwwLDIuNCwwLjE1LDMuNSwwLjVWMTguNXoiLz4KCQk8cGF0aCBvcGFjaXR5PSIwLjMiIGQ9Ik0xMSw3LjQ5QzkuNjMsNi45MSw3Ljg0LDYuNSw2LjUsNi41QzUuMyw2LjUsNC4xLDYuNjUsMyw3djExLjVDNC4xLDE4LjE1LDUuMywxOCw2LjUsMTgKCQkJYzEuMzQsMCwzLjEzLDAuNDEsNC41LDAuOTlWNy40OXoiLz4KCTwvZz4KCTxnPgoJCTxwYXRoIGQ9Ik0xNy41LDEwLjVjMC44OCwwLDEuNzMsMC4wOSwyLjUsMC4yNlY5LjI0QzE5LjIxLDkuMDksMTguMzYsOSwxNy41LDljLTEuMjgsMC0yLjQ2LDAuMTYtMy41LDAuNDd2MS41NwoJCQlDMTQuOTksMTAuNjksMTYuMTgsMTAuNSwxNy41LDEwLjV6Ii8+CgkJPHBhdGggZD0iTTE3LjUsMTMuMTZjMC44OCwwLDEuNzMsMC4wOSwyLjUsMC4yNlYxMS45Yy0wLjc5LTAuMTUtMS42NC0wLjI0LTIuNS0wLjI0Yy0xLjI4LDAtMi40NiwwLjE2LTMuNSwwLjQ3djEuNTcKCQkJQzE0Ljk5LDEzLjM2LDE2LjE4LDEzLjE2LDE3LjUsMTMuMTZ6Ii8+CgkJPHBhdGggZD0iTTE3LjUsMTUuODNjMC44OCwwLDEuNzMsMC4wOSwyLjUsMC4yNnYtMS41MmMtMC43OS0wLjE1LTEuNjQtMC4yNC0yLjUtMC4yNGMtMS4yOCwwLTIuNDYsMC4xNi0zLjUsMC40N3YxLjU3CgkJCUMxNC45OSwxNi4wMiwxNi4xOCwxNS44MywxNy41LDE1LjgzeiIvPgoJPC9nPgo8L2c+Cjwvc3ZnPgo=\", label: \"Documentation\" }),\n            React.createElement(Button, { href: \"https://github.com/marmelab/react-admin/tree/master/examples\", img: \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDI0djI0SDBWMHoiLz48cGF0aCBkPSJNOS40IDE2LjZMNC44IDEybDQuNi00LjZMOCA2bC02IDYgNiA2IDEuNC0xLjR6bTUuMiAwbDQuNi00LjYtNC42LTQuNkwxNiA2bDYgNi02IDYtMS40LTEuNHoiLz48L3N2Zz4=\", label: \"Examples\" }),\n            React.createElement(Button, { href: \"https://stackoverflow.com/questions/tagged/react-admin\", img: \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIyNHB4IgoJIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAyNCAyNCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnIGlkPSJCb3VuZGluZ19Cb3giPgoJPHJlY3QgZmlsbD0ibm9uZSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ii8+CjwvZz4KPGcgaWQ9IkZsYXQiPgoJPGcgaWQ9InVpX3g1Rl9zcGVjX3g1Rl9oZWFkZXJfY29weV8yIj4KCTwvZz4KCTxnPgoJCTxjaXJjbGUgb3BhY2l0eT0iMC4zIiBjeD0iOSIgY3k9IjgiIHI9IjIiLz4KCQk8cGF0aCBvcGFjaXR5PSIwLjMiIGQ9Ik05LDE1Yy0yLjcsMC01LjgsMS4yOS02LDIuMDFMMywxOGgxMnYtMUMxNC44LDE2LjI5LDExLjcsMTUsOSwxNXoiLz4KCQk8cGF0aCBkPSJNMTYuNjcsMTMuMTNDMTguMDQsMTQuMDYsMTksMTUuMzIsMTksMTd2M2g0di0zQzIzLDE0LjgyLDE5LjQzLDEzLjUzLDE2LjY3LDEzLjEzeiIvPgoJCTxwYXRoIGQ9Ik0xNSwxMmMyLjIxLDAsNC0xLjc5LDQtNGMwLTIuMjEtMS43OS00LTQtNGMtMC40NywwLTAuOTEsMC4xLTEuMzMsMC4yNEMxNC41LDUuMjcsMTUsNi41OCwxNSw4cy0wLjUsMi43My0xLjMzLDMuNzYKCQkJQzE0LjA5LDExLjksMTQuNTMsMTIsMTUsMTJ6Ii8+CgkJPHBhdGggZD0iTTksMTJjMi4yMSwwLDQtMS43OSw0LTRjMC0yLjIxLTEuNzktNC00LTRTNSw1Ljc5LDUsOEM1LDEwLjIxLDYuNzksMTIsOSwxMnogTTksNmMxLjEsMCwyLDAuOSwyLDJjMCwxLjEtMC45LDItMiwyCgkJCVM3LDkuMSw3LDhDNyw2LjksNy45LDYsOSw2eiIvPgoJCTxwYXRoIGQ9Ik05LDEzYy0yLjY3LDAtOCwxLjM0LTgsNHYzaDE2di0zQzE3LDE0LjM0LDExLjY3LDEzLDksMTN6IE0xNSwxOEgzbDAtMC45OUMzLjIsMTYuMjksNi4zLDE1LDksMTVzNS44LDEuMjksNiwyVjE4eiIvPgoJPC9nPgo8L2c+Cjwvc3ZnPgo=\", label: \"Community\" }))));\n});\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { createElement, useMemo, useEffect, } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport CoreAdminRouter from './CoreAdminRouter';\nimport { Ready } from '../util';\nvar DefaultLayout = function (_a) {\n    var children = _a.children;\n    return (React.createElement(React.Fragment, null, children));\n};\nvar CoreAdminUI = function (_a) {\n    var _b = _a.catchAll, catchAll = _b === void 0 ? Noop : _b, children = _a.children, _c = _a.customRoutes, customRoutes = _c === void 0 ? [] : _c, dashboard = _a.dashboard, _d = _a.disableTelemetry, disableTelemetry = _d === void 0 ? false : _d, _e = _a.layout, layout = _e === void 0 ? DefaultLayout : _e, _f = _a.loading, loading = _f === void 0 ? Noop : _f, _g = _a.loginPage, loginPage = _g === void 0 ? false : _g, logout = _a.logout, menu = _a.menu, // deprecated, use a custom layout instead\n    _h = _a.ready, // deprecated, use a custom layout instead\n    ready = _h === void 0 ? Ready : _h, theme = _a.theme, _j = _a.title, title = _j === void 0 ? 'React Admin' : _j;\n    var logoutElement = useMemo(function () { return logout && createElement(logout); }, [\n        logout,\n    ]);\n    useEffect(function () {\n        if (disableTelemetry ||\n            process.env.NODE_ENV !== 'production' ||\n            typeof window === 'undefined' ||\n            typeof window.location === 'undefined' ||\n            typeof Image === 'undefined') {\n            return;\n        }\n        var img = new Image();\n        img.src = \"https://react-admin-telemetry.marmelab.com/react-admin-telemetry?domain=\" + window.location.hostname;\n    }, [disableTelemetry]);\n    return (React.createElement(Switch, null,\n        loginPage !== false && loginPage !== true ? (React.createElement(Route, { exact: true, path: \"/login\", render: function (props) {\n                return createElement(loginPage, __assign(__assign({}, props), { title: title,\n                    theme: theme }));\n            } })) : null,\n        React.createElement(Route, { path: \"/\", render: function (props) { return (React.createElement(CoreAdminRouter, __assign({ catchAll: catchAll, customRoutes: customRoutes, dashboard: dashboard, layout: layout, loading: loading, logout: logoutElement, menu: menu, ready: ready, theme: theme, title: title }, props), children)); } })));\n};\nvar Noop = function () { return null; };\nexport default CoreAdminUI;\n","import { isValidElementType } from 'react-is';\nexport default (function (props, propName, componentName) {\n    if (props[propName] && !isValidElementType(props[propName])) {\n        return new Error(\"Invalid prop '\" + propName + \"' supplied to '\" + componentName + \"': the prop is not a valid React component\");\n    }\n});\n","import { useContext, useCallback } from 'react';\nimport { TranslationContext } from './TranslationContext';\n/**\n * Translate a string using the current locale and the translations from the i18nProvider\n *\n * @see Polyglot.t()\n * @link https://airbnb.io/polyglot.js/#polyglotprototypetkey-interpolationoptions\n *\n * @return {Function} A translation function, accepting two arguments\n *   - a string used as key in the translations\n *   - an interpolationOptions object\n *\n * @example\n *\n * import { useTranslate } from 'react-admin';\n *\n * const SettingsMenu = () => {\n *     const translate = useTranslate();\n *     return <MenuItem>{translate('settings')}</MenuItem>;\n * }\n */\nvar useTranslate = function () {\n    var _a = useContext(TranslationContext), i18nProvider = _a.i18nProvider, locale = _a.locale;\n    var translate = useCallback(function (key, options) {\n        return i18nProvider.translate(key, options);\n    }, \n    // update the hook each time the locale changes\n    [i18nProvider, locale] // eslint-disable-line react-hooks/exhaustive-deps\n    );\n    return i18nProvider ? translate : identity;\n};\nvar identity = function (key) { return key; };\nexport default useTranslate;\n","import { useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { refreshView } from '../actions/uiActions';\n/**\n * Hook for Refresh Side Effect\n *\n * Returns a callback that triggers a page refresh. The callback causes a\n * version increase, which forces a re-execution all queries based on the\n * useDataProvider() hook, and a rerender of all components using the version\n * as key.\n *\n * @param hard If true, the callback empties the cache, too\n *\n * @example\n *\n * const refresh = useRefresh();\n * // soft refresh\n * refresh();\n * // hard refresh\n * refresh(true)\n */\nvar useRefresh = function () {\n    var dispatch = useDispatch();\n    return useCallback(function (hard) {\n        dispatch(refreshView(hard));\n    }, [dispatch]);\n};\nexport default useRefresh;\n","import { useSelector } from 'react-redux';\nvar useIsAutomaticRefreshEnabled = function () {\n    var automaticRefreshEnabled = useSelector(function (state) { return state.admin.ui.automaticRefreshEnabled; });\n    return automaticRefreshEnabled;\n};\nexport default useIsAutomaticRefreshEnabled;\n","import { useEffect } from 'react';\nimport { useRefresh } from '../sideEffect';\nimport useIsAutomaticRefreshEnabled from './useIsAutomaticRefreshEnabled';\n/**\n * Trigger a refresh of the page when the page comes back from background after a certain delay\n *\n * @param {number} delay Delay in milliseconds since the time the page was hidden. Defaults to 5 minutes.\n */\nvar useRefreshWhenVisible = function (delay) {\n    if (delay === void 0) { delay = 1000 * 60 * 5; }\n    var refresh = useRefresh();\n    var automaticRefreshEnabled = useIsAutomaticRefreshEnabled();\n    useEffect(function () {\n        if (typeof document === 'undefined')\n            return;\n        var lastHiddenTime;\n        var handleVisibilityChange = function () {\n            if (!automaticRefreshEnabled) {\n                return;\n            }\n            if (document.hidden) {\n                // tab goes hidden\n                lastHiddenTime = Date.now();\n            }\n            else {\n                // tab goes visible\n                if (Date.now() - lastHiddenTime > delay) {\n                    refresh();\n                }\n                lastHiddenTime = null;\n            }\n        };\n        document.addEventListener('visibilitychange', handleVisibilityChange, {\n            capture: true,\n        });\n        return function () {\n            return document.removeEventListener('visibilitychange', handleVisibilityChange, { capture: true });\n        };\n    }, [automaticRefreshEnabled, delay, refresh]);\n};\nexport default useRefreshWhenVisible;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch } from 'react-redux';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport IconButton from '@material-ui/core/IconButton';\nimport NavigationRefresh from '@material-ui/icons/Refresh';\nimport { refreshView, useTranslate } from 'ra-core';\nvar RefreshIconButton = function (_a) {\n    var _b = _a.label, label = _b === void 0 ? 'ra.action.refresh' : _b, _c = _a.icon, icon = _c === void 0 ? defaultIcon : _c, onClick = _a.onClick, className = _a.className, rest = __rest(_a, [\"label\", \"icon\", \"onClick\", \"className\"]);\n    var dispatch = useDispatch();\n    var translate = useTranslate();\n    var handleClick = useCallback(function (event) {\n        event.preventDefault();\n        dispatch(refreshView());\n        if (typeof onClick === 'function') {\n            onClick(event);\n        }\n    }, [dispatch, onClick]);\n    return (React.createElement(Tooltip, { title: label && translate(label, { _: label }) },\n        React.createElement(IconButton, __assign({ \"aria-label\": label && translate(label, { _: label }), className: className, color: \"inherit\", onClick: handleClick }, rest), icon)));\n};\nvar defaultIcon = React.createElement(NavigationRefresh, null);\nRefreshIconButton.propTypes = {\n    className: PropTypes.string,\n    label: PropTypes.string,\n    icon: PropTypes.element,\n};\nexport default RefreshIconButton;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { useSelector } from 'react-redux';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { useRefreshWhenVisible } from 'ra-core';\nimport RefreshIconButton from '../button/RefreshIconButton';\nvar LoadingIndicator = function (props) {\n    var classesOverride = props.classes, className = props.className, rest = __rest(props, [\"classes\", \"className\"]);\n    useRefreshWhenVisible();\n    var loading = useSelector(function (state) { return state.admin.loading > 0; });\n    var classes = useStyles(props);\n    var theme = useTheme();\n    return loading ? (React.createElement(CircularProgress, __assign({ className: classNames('app-loader', classes.loader, className), color: \"inherit\", size: theme.spacing(2), thickness: 6 }, rest))) : (React.createElement(RefreshIconButton, { className: classes.loadedIcon }));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    loader: {\n        margin: theme.spacing(2),\n    },\n    loadedIcon: {},\n}); }, { name: 'RaLoadingIndicator' });\nLoadingIndicator.propTypes = {\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    width: PropTypes.string,\n};\nexport default LoadingIndicator;\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { useEffect } from 'react';\nimport useAuthProvider from './useAuthProvider';\nimport { useSafeSetState } from '../util/hooks';\nvar defaultIdentity = {\n    id: '',\n    fullName: null,\n};\n/**\n * Return the current user identity by calling authProvider.getIdentity() on mount\n *\n * The return value updates according to the call state:\n *\n * - mount: { loading: true, loaded: false }\n * - success: { identity: Identity, loading: false, loaded: true }\n * - error: { error: Error, loading: false, loaded: true }\n *\n * The implementation is left to the authProvider.\n *\n * @returns The current user identity. Destructure as { identity, error, loading, loaded }.\n *\n * @example\n *\n * import { useGetIdentity, useGetOne } from 'react-admin';\n *\n * const PostDetail = ({ id }) => {\n *     const { data: post, loading: postLoading } = useGetOne('posts', id);\n *     const { identity, loading: identityLoading } = useGetIdentity();\n *     if (postLoading || identityLoading) return <>Loading...</>;\n *     if (!post.lockedBy || post.lockedBy === identity.id) {\n *         // post isn't locked, or is locked by me\n *         return <PostEdit post={post} />\n *     } else {\n *         // post is locked by someone else and cannot be edited\n *         return <PostShow post={post} />\n *     }\n * }\n */\nvar useGetIdentity = function () {\n    var _a = useSafeSetState({\n        loading: true,\n        loaded: false,\n    }), state = _a[0], setState = _a[1];\n    var authProvider = useAuthProvider();\n    useEffect(function () {\n        if (authProvider && typeof authProvider.getIdentity === 'function') {\n            var callAuthProvider = function () { return __awaiter(void 0, void 0, void 0, function () {\n                var identity, error_1;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            _a.trys.push([0, 2, , 3]);\n                            return [4 /*yield*/, authProvider.getIdentity()];\n                        case 1:\n                            identity = _a.sent();\n                            setState({\n                                loading: false,\n                                loaded: true,\n                                identity: identity || defaultIdentity,\n                            });\n                            return [3 /*break*/, 3];\n                        case 2:\n                            error_1 = _a.sent();\n                            setState({\n                                loading: false,\n                                loaded: true,\n                                error: error_1,\n                            });\n                            return [3 /*break*/, 3];\n                        case 3: return [2 /*return*/];\n                    }\n                });\n            }); };\n            callAuthProvider();\n        }\n        else {\n            // fallback for pre-3.9 authProviders, which had no getIdentity method\n            // FIXME to be removed for the next major\n            setState({\n                loading: false,\n                loaded: true,\n                identity: defaultIdentity,\n            });\n        }\n    }, [authProvider, setState]);\n    return state;\n};\nexport default useGetIdentity;\n","import * as React from 'react';\nimport { Children, cloneElement, isValidElement, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useTranslate, useGetIdentity } from 'ra-core';\nimport { Tooltip, IconButton, Menu, Button, Avatar, } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nvar defaultIcon = React.createElement(AccountCircle, null);\nvar useStyles = makeStyles(function (theme) { return ({\n    user: {},\n    userButton: {\n        textTransform: 'none',\n    },\n    avatar: {\n        width: theme.spacing(4),\n        height: theme.spacing(4),\n    },\n}); }, { name: 'RaUserMenu' });\nvar AnchorOrigin = {\n    vertical: 'bottom',\n    horizontal: 'right',\n};\nvar TransformOrigin = {\n    vertical: 'top',\n    horizontal: 'right',\n};\nvar UserMenu = function (props) {\n    var _a = useState(null), anchorEl = _a[0], setAnchorEl = _a[1];\n    var translate = useTranslate();\n    var _b = useGetIdentity(), loaded = _b.loaded, identity = _b.identity;\n    var classes = useStyles(props);\n    var children = props.children, _c = props.label, label = _c === void 0 ? 'ra.auth.user_menu' : _c, _d = props.icon, icon = _d === void 0 ? defaultIcon : _d, logout = props.logout;\n    if (!logout && !children)\n        return null;\n    var open = Boolean(anchorEl);\n    var handleMenu = function (event) { return setAnchorEl(event.currentTarget); };\n    var handleClose = function () { return setAnchorEl(null); };\n    return (React.createElement(\"div\", { className: classes.user },\n        loaded && (identity === null || identity === void 0 ? void 0 : identity.fullName) ? (React.createElement(Button, { \"aria-label\": label && translate(label, { _: label }), className: classes.userButton, color: \"inherit\", startIcon: identity.avatar ? (React.createElement(Avatar, { className: classes.avatar, src: identity.avatar, alt: identity.fullName })) : (icon), onClick: handleMenu }, identity.fullName)) : (React.createElement(Tooltip, { title: label && translate(label, { _: label }) },\n            React.createElement(IconButton, { \"aria-label\": label && translate(label, { _: label }), \"aria-owns\": open ? 'menu-appbar' : null, \"aria-haspopup\": true, color: \"inherit\", onClick: handleMenu }, icon))),\n        React.createElement(Menu, { id: \"menu-appbar\", disableScrollLock: true, anchorEl: anchorEl, anchorOrigin: AnchorOrigin, transformOrigin: TransformOrigin, \n            // Make sure the menu is display under the button and not over the appbar\n            // See https://material-ui.com/components/menus/#customized-menus\n            getContentAnchorEl: null, open: open, onClose: handleClose },\n            Children.map(children, function (menuItem) {\n                return isValidElement(menuItem)\n                    ? cloneElement(menuItem, {\n                        onClick: handleClose,\n                    })\n                    : null;\n            }),\n            logout)));\n};\nUserMenu.propTypes = {\n    children: PropTypes.node,\n    classes: PropTypes.object,\n    label: PropTypes.string,\n    logout: PropTypes.element,\n    icon: PropTypes.node,\n};\nexport default UserMenu;\n","import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport useScrollTrigger from '@material-ui/core/useScrollTrigger';\nimport Slide from '@material-ui/core/Slide';\nfunction HideOnScroll(props) {\n    var children = props.children;\n    var trigger = useScrollTrigger();\n    return (React.createElement(Slide, { appear: false, direction: \"down\", in: !trigger }, children));\n}\nHideOnScroll.propTypes = {\n    children: PropTypes.node.isRequired,\n};\nexport default HideOnScroll;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { Children, cloneElement, memo } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch } from 'react-redux';\nimport classNames from 'classnames';\nimport { AppBar as MuiAppBar, IconButton, Toolbar, Tooltip, Typography, useMediaQuery, } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport { toggleSidebar, useTranslate, ComponentPropType } from 'ra-core';\nimport LoadingIndicator from './LoadingIndicator';\nimport DefaultUserMenu from './UserMenu';\nimport HideOnScroll from './HideOnScroll';\nvar useStyles = makeStyles(function (theme) { return ({\n    toolbar: {\n        paddingRight: 24,\n    },\n    menuButton: {\n        marginLeft: '0.2em',\n        marginRight: '0.2em',\n    },\n    menuButtonIconClosed: {\n        transition: theme.transitions.create(['transform'], {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.leavingScreen,\n        }),\n        transform: 'rotate(0deg)',\n    },\n    menuButtonIconOpen: {\n        transition: theme.transitions.create(['transform'], {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.leavingScreen,\n        }),\n        transform: 'rotate(180deg)',\n    },\n    title: {\n        flex: 1,\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n        overflow: 'hidden',\n    },\n}); }, { name: 'RaAppBar' });\n/**\n * The AppBar component renders a custom MuiAppBar.\n *\n * @param {Object} props\n * @param {ReactNode} props.children React node/s to be render as children of the AppBar\n * @param {Object} props.classes CSS class names\n * @param {string} props.className CSS class applied to the MuiAppBar component\n * @param {string} props.color The color of the AppBar\n * @param {Component} props.logout The logout button component that will be pass to the UserMenu component\n * @param {boolean} props.open State of the <Admin/> Sidebar\n * @param {Element | boolean} props.userMenu A custom user menu component for the AppBar. <UserMenu/> component by default. Pass false to disable.\n *\n * @example\n *\n * const MyAppBar = props => {\n *   const classes = useStyles();\n *   return (\n *       <AppBar {...props}>\n *           <Typography\n *               variant=\"h6\"\n *               color=\"inherit\"\n *               className={classes.title}\n *               id=\"react-admin-title\"\n *           />\n *       </AppBar>\n *   );\n *};\n *\n * @example Without a user menu\n *\n * const MyAppBar = props => {\n *   const classes = useStyles();\n *   return (\n *       <AppBar {...props} userMenu={false} />\n *   );\n *};\n */\nvar AppBar = function (props) {\n    var children = props.children, classesOverride = props.classes, className = props.className, _a = props.color, color = _a === void 0 ? 'secondary' : _a, logout = props.logout, open = props.open, title = props.title, userMenu = props.userMenu, Container = props.container, rest = __rest(props, [\"children\", \"classes\", \"className\", \"color\", \"logout\", \"open\", \"title\", \"userMenu\", \"container\"]);\n    var classes = useStyles(props);\n    var dispatch = useDispatch();\n    var isXSmall = useMediaQuery(function (theme) {\n        return theme.breakpoints.down('xs');\n    });\n    var translate = useTranslate();\n    return (React.createElement(Container, null,\n        React.createElement(MuiAppBar, __assign({ className: className, color: color }, rest),\n            React.createElement(Toolbar, { disableGutters: true, variant: isXSmall ? 'regular' : 'dense', className: classes.toolbar },\n                React.createElement(Tooltip, { title: translate(open\n                        ? 'ra.action.close_menu'\n                        : 'ra.action.open_menu', {\n                        _: 'Open/Close menu',\n                    }), enterDelay: 500 },\n                    React.createElement(IconButton, { color: \"inherit\", onClick: function () { return dispatch(toggleSidebar()); }, className: classNames(classes.menuButton) },\n                        React.createElement(MenuIcon, { classes: {\n                                root: open\n                                    ? classes.menuButtonIconOpen\n                                    : classes.menuButtonIconClosed,\n                            } }))),\n                Children.count(children) === 0 ? (React.createElement(Typography, { variant: \"h6\", color: \"inherit\", className: classes.title, id: \"react-admin-title\" })) : (children),\n                React.createElement(LoadingIndicator, null),\n                typeof userMenu === 'boolean' ? (userMenu === true ? (React.createElement(DefaultUserMenu, { logout: logout })) : null) : (cloneElement(userMenu, { logout: logout }))))));\n};\nAppBar.propTypes = {\n    children: PropTypes.node,\n    // @ts-ignore\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    color: PropTypes.oneOf([\n        'default',\n        'inherit',\n        'primary',\n        'secondary',\n        'transparent',\n    ]),\n    container: ComponentPropType,\n    logout: PropTypes.element,\n    open: PropTypes.bool,\n    userMenu: PropTypes.oneOfType([PropTypes.element, PropTypes.bool]),\n};\nAppBar.defaultProps = {\n    userMenu: React.createElement(DefaultUserMenu, null),\n    container: HideOnScroll,\n};\nexport default memo(AppBar);\n","import { useContext } from 'react';\nimport { TranslationContext } from './TranslationContext';\n/**\n * Get the current locale from the TranslationContext\n *\n * This hook re-renders when the locale changes.\n *\n * @example\n *\n * import { useLocale } from 'react-admin';\n *\n * const availableLanguages = {\n *     en: 'English',\n *     fr: 'Franais',\n * }\n * const CurrentLanguage = () => {\n *     const locale = useLocale();\n *     return <span>{availableLanguages[locale]}</span>;\n * }\n */\nvar useLocale = function () {\n    var locale = useContext(TranslationContext).locale;\n    return locale;\n};\nexport default useLocale;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Drawer, useMediaQuery } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport lodashGet from 'lodash/get';\nimport { setSidebarVisibility, useLocale } from 'ra-core';\nexport var DRAWER_WIDTH = 240;\nexport var CLOSED_DRAWER_WIDTH = 55;\nvar Sidebar = function (props) {\n    var children = props.children, closedSize = props.closedSize, size = props.size, classesOverride = props.classes, rest = __rest(props, [\"children\", \"closedSize\", \"size\", \"classes\"]);\n    var dispatch = useDispatch();\n    var isXSmall = useMediaQuery(function (theme) {\n        return theme.breakpoints.down('xs');\n    });\n    var isSmall = useMediaQuery(function (theme) { return theme.breakpoints.down('sm'); });\n    var open = useSelector(function (state) { return state.admin.ui.sidebarOpen; });\n    useLocale(); // force redraw on locale change\n    var toggleSidebar = function () { return dispatch(setSidebarVisibility(!open)); };\n    var _a = useStyles(__assign(__assign({}, props), { open: open })), drawerPaper = _a.drawerPaper, classes = __rest(_a, [\"drawerPaper\"]);\n    return isXSmall ? (React.createElement(Drawer, __assign({ variant: \"temporary\", open: open, PaperProps: {\n            className: drawerPaper,\n        }, onClose: toggleSidebar, classes: classes }, rest), children)) : isSmall ? (React.createElement(Drawer, __assign({ variant: \"permanent\", open: open, PaperProps: {\n            className: drawerPaper,\n        }, onClose: toggleSidebar, classes: classes }, rest), children)) : (React.createElement(Drawer, __assign({ variant: \"permanent\", open: open, PaperProps: {\n            className: drawerPaper,\n        }, onClose: toggleSidebar, classes: classes }, rest), children));\n};\nSidebar.propTypes = {\n    children: PropTypes.node.isRequired,\n};\nvar useStyles = makeStyles(function (theme) {\n    var _a;\n    return ({\n        root: {},\n        docked: {},\n        paper: {},\n        paperAnchorLeft: {},\n        paperAnchorRight: {},\n        paperAnchorTop: {},\n        paperAnchorBottom: {},\n        paperAnchorDockedLeft: {},\n        paperAnchorDockedTop: {},\n        paperAnchorDockedRight: {},\n        paperAnchorDockedBottom: {},\n        modal: {},\n        drawerPaper: (_a = {\n                position: 'relative',\n                height: '100%',\n                overflowX: 'hidden',\n                width: function (props) {\n                    return props.open\n                        ? lodashGet(theme, 'sidebar.width', DRAWER_WIDTH)\n                        : lodashGet(theme, 'sidebar.closedWidth', CLOSED_DRAWER_WIDTH);\n                },\n                transition: theme.transitions.create('width', {\n                    easing: theme.transitions.easing.sharp,\n                    duration: theme.transitions.duration.leavingScreen,\n                }),\n                backgroundColor: 'transparent',\n                borderRight: 'none'\n            },\n            _a[theme.breakpoints.only('xs')] = {\n                marginTop: 0,\n                height: '100vh',\n                position: 'inherit',\n                backgroundColor: theme.palette.background.default,\n            },\n            _a[theme.breakpoints.up('md')] = {\n                border: 'none',\n            },\n            _a.zIndex = 'inherit',\n            _a),\n    });\n}, { name: 'RaSidebar' });\nexport default Sidebar;\n","import inflection from 'inflection';\nimport { useStore } from 'react-redux';\nimport { getResources } from '../reducer';\nimport { useTranslate } from '../i18n';\n/**\n * A hook which returns function to get a translated resource name. It will use the label option of the `Resource` component if it was provided.\n *\n * @returns {GetResourceLabel} A function which takes a resource name and an optional number indicating the number of items (used for pluralization) and returns a translated string.\n * @example\n * const Menu = () => {\n *     const resources = useSelector(getResources, shallowEqual);\n *     const getResourceLabel = useGetResourceLabel();\n *\n *     return (\n *         <ul>\n *             {resources.map(resource => (\n *                 <li key={resource.name}>\n *                     {getResourceLabel(resource.name, 2)}\n *                 </li>\n *             ))}\n *         </ul>\n *     )\n * }\n */\nexport var useGetResourceLabel = function () {\n    var store = useStore();\n    var translate = useTranslate();\n    return function (resource, count) {\n        if (count === void 0) { count = 2; }\n        var resourceDefinition = getResources(store.getState()).find(function (r) { return (r === null || r === void 0 ? void 0 : r.name) === resource; });\n        var label = translate(\"resources.\" + resource + \".name\", {\n            smart_count: count,\n            _: resourceDefinition &&\n                resourceDefinition.options &&\n                resourceDefinition.options.label\n                ? translate(resourceDefinition.options.label, {\n                    smart_count: count,\n                    _: resourceDefinition.options.label,\n                })\n                : inflection.humanize(count > 1\n                    ? inflection.pluralize(resource)\n                    : inflection.singularize(resource)),\n        });\n        return label;\n    };\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { forwardRef, cloneElement, useCallback, } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { NavLink } from 'react-router-dom';\nimport { setSidebarVisibility } from 'ra-core';\nimport { MenuItem, ListItemIcon, Tooltip, useMediaQuery, } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nvar NavLinkRef = forwardRef(function (props, ref) { return (React.createElement(NavLink, __assign({ innerRef: ref }, props))); });\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        color: theme.palette.text.secondary,\n    },\n    active: {\n        color: theme.palette.text.primary,\n    },\n    icon: { minWidth: theme.spacing(5) },\n}); }, { name: 'RaMenuItemLink' });\n/**\n * Displays a menu item with a label and an icon - or only the icon with a tooltip when the sidebar is minimized.\n * It also handles the automatic closing of the menu on tap on mobile.\n *\n * @typedef {Object} Props the props you can use\n * @prop {string|Location} to The menu item's target. It is passed to a React Router NavLink component.\n * @prop {string|ReactNode} primaryText The menu content, displayed when the menu isn't minimized. |\n * @prop {ReactNode} leftIcon The menu icon\n *\n * Additional props are passed down to the underling material-ui <MenuItem> component\n * @see https://material-ui.com/api/menu-item/#menuitem-api\n *\n * @example // You can create a custom menu component using the <DashboardMenuItem> and <MenuItemLink> components:\n *\n * // in src/Menu.js\n * import * as React from 'react';\n * import { DashboardMenuItem, MenuItemLink } from 'react-admin';\n * import BookIcon from '@material-ui/icons/Book';\n * import ChatBubbleIcon from '@material-ui/icons/ChatBubble';\n * import PeopleIcon from '@material-ui/icons/People';\n * import LabelIcon from '@material-ui/icons/Label';\n *\n * export const Menu = () => (\n *     <div>\n *         <DashboardMenuItem />\n *         <MenuItemLink to=\"/posts\" primaryText=\"Posts\" leftIcon={<BookIcon />}/>\n *         <MenuItemLink to=\"/comments\" primaryText=\"Comments\" leftIcon={<ChatBubbleIcon />}/>\n *         <MenuItemLink to=\"/users\" primaryText=\"Users\" leftIcon={<PeopleIcon />}/>\n *         <MenuItemLink to=\"/custom-route\" primaryText=\"Miscellaneous\" leftIcon={<LabelIcon />}/>\n *     </div>\n * );\n *\n * // to use this custom menu component, pass it to a custom Layout:\n * // in src/Layout.js\n * import { Layout } from 'react-admin';\n * import { Menu } from './Menu';\n *\n * export const Layout = (props) => <Layout {...props} menu={Menu} />;\n *\n * // then, use this layout in the <Admin layout> prop:\n * // in src/App.js\n * import { Layout }  from './Layout';\n *\n * const App = () => (\n *     <Admin layout={Layout} dataProvider={simpleRestProvider('http://path.to.my.api')}>\n *         // ...\n *     </Admin>\n * );\n */\nvar MenuItemLink = forwardRef(function (props, ref) {\n    var classesOverride = props.classes, className = props.className, primaryText = props.primaryText, leftIcon = props.leftIcon, onClick = props.onClick, sidebarIsOpen = props.sidebarIsOpen, tooltipProps = props.tooltipProps, rest = __rest(props, [\"classes\", \"className\", \"primaryText\", \"leftIcon\", \"onClick\", \"sidebarIsOpen\", \"tooltipProps\"]);\n    var classes = useStyles(props);\n    var dispatch = useDispatch();\n    var isSmall = useMediaQuery(function (theme) { return theme.breakpoints.down('sm'); });\n    var open = useSelector(function (state) { return state.admin.ui.sidebarOpen; });\n    var handleMenuTap = useCallback(function (e) {\n        if (isSmall) {\n            dispatch(setSidebarVisibility(false));\n        }\n        onClick && onClick(e);\n    }, [dispatch, isSmall, onClick]);\n    var renderMenuItem = function () {\n        return (React.createElement(MenuItem, __assign({ className: classnames(classes.root, className), activeClassName: classes.active, component: NavLinkRef, ref: ref, tabIndex: 0 }, rest, { onClick: handleMenuTap }),\n            leftIcon && (React.createElement(ListItemIcon, { className: classes.icon }, cloneElement(leftIcon, {\n                titleAccess: primaryText,\n            }))),\n            primaryText));\n    };\n    return open ? (renderMenuItem()) : (React.createElement(Tooltip, __assign({ title: primaryText, placement: \"right\" }, tooltipProps), renderMenuItem()));\n});\nMenuItemLink.propTypes = {\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    leftIcon: PropTypes.element,\n    onClick: PropTypes.func,\n    primaryText: PropTypes.node,\n    staticContext: PropTypes.object,\n    to: PropTypes.oneOfType([PropTypes.string, PropTypes.object]).isRequired,\n    sidebarIsOpen: PropTypes.bool,\n};\nexport default MenuItemLink;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport DashboardIcon from '@material-ui/icons/Dashboard';\nimport { useTranslate } from 'ra-core';\nimport MenuItemLink from './MenuItemLink';\nvar DashboardMenuItem = function (_a) {\n    var locale = _a.locale, props = __rest(_a, [\"locale\"]);\n    var translate = useTranslate();\n    return (React.createElement(MenuItemLink, __assign({ to: \"/\", primaryText: translate('ra.page.dashboard'), leftIcon: React.createElement(DashboardIcon, null), exact: true }, props)));\n};\nDashboardMenuItem.propTypes = {\n    classes: PropTypes.object,\n    locale: PropTypes.string,\n    onClick: PropTypes.func,\n    dense: PropTypes.bool,\n    sidebarIsOpen: PropTypes.bool,\n};\nexport default DashboardMenuItem;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { shallowEqual, useSelector } from 'react-redux';\nimport lodashGet from 'lodash/get';\n// @ts-ignore\nimport { makeStyles } from '@material-ui/core/styles';\nimport DefaultIcon from '@material-ui/icons/ViewList';\nimport classnames from 'classnames';\nimport { useGetResourceLabel, getResources } from 'ra-core';\nimport DashboardMenuItem from './DashboardMenuItem';\nimport MenuItemLink from './MenuItemLink';\nexport var MENU_WIDTH = 240;\nexport var CLOSED_MENU_WIDTH = 55;\nvar useStyles = makeStyles(function (theme) {\n    var _a;\n    return ({\n        main: (_a = {\n                display: 'flex',\n                flexDirection: 'column',\n                justifyContent: 'flex-start',\n                marginTop: '0.5em'\n            },\n            _a[theme.breakpoints.only('xs')] = {\n                marginTop: 0,\n            },\n            _a[theme.breakpoints.up('md')] = {\n                marginTop: '1.5em',\n            },\n            _a),\n        open: {\n            width: lodashGet(theme, 'menu.width', MENU_WIDTH),\n        },\n        closed: {\n            width: lodashGet(theme, 'menu.closedWidth', CLOSED_MENU_WIDTH),\n        },\n    });\n}, { name: 'RaMenu' });\nvar Menu = function (props) {\n    var _a;\n    var classesOverride = props.classes, className = props.className, dense = props.dense, hasDashboard = props.hasDashboard, onMenuClick = props.onMenuClick, logout = props.logout, rest = __rest(props, [\"classes\", \"className\", \"dense\", \"hasDashboard\", \"onMenuClick\", \"logout\"]);\n    var classes = useStyles(props);\n    var open = useSelector(function (state) { return state.admin.ui.sidebarOpen; });\n    var resources = useSelector(getResources, shallowEqual);\n    var getResourceLabel = useGetResourceLabel();\n    return (React.createElement(\"div\", __assign({ className: classnames(classes.main, (_a = {},\n            _a[classes.open] = open,\n            _a[classes.closed] = !open,\n            _a), className) }, rest),\n        hasDashboard && React.createElement(DashboardMenuItem, { dense: dense }),\n        resources\n            .filter(function (r) { return r.hasList; })\n            .map(function (resource) { return (React.createElement(MenuItemLink, { key: resource.name, to: {\n                pathname: \"/\" + resource.name,\n                state: { _scrollToTop: true },\n            }, primaryText: getResourceLabel(resource.name, 2), leftIcon: resource.icon ? React.createElement(resource.icon, null) : React.createElement(DefaultIcon, null), dense: dense })); })));\n};\nMenu.propTypes = {\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    dense: PropTypes.bool,\n    hasDashboard: PropTypes.bool,\n    logout: PropTypes.element,\n    onMenuClick: PropTypes.func,\n};\nMenu.defaultProps = {\n    onMenuClick: function () { return null; },\n};\nexport default Menu;\n","import EventEmitter from 'eventemitter3';\nexport default new EventEmitter();\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useState, useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nimport { hideNotification, getNotification, undo, complete, undoableEventEmitter, useTranslate, } from 'ra-core';\nvar useStyles = makeStyles(function (theme) { return ({\n    success: {\n        backgroundColor: theme.palette.success.main,\n        color: theme.palette.success.contrastText,\n    },\n    error: {\n        backgroundColor: theme.palette.error.dark,\n        color: theme.palette.error.contrastText,\n    },\n    warning: {\n        backgroundColor: theme.palette.error.light,\n        color: theme.palette.error.contrastText,\n    },\n    undo: function (props) { return ({\n        color: props.type === 'success'\n            ? theme.palette.success.contrastText\n            : theme.palette.primary.light,\n    }); },\n}); }, { name: 'RaNotification' });\nvar Notification = function (props) {\n    var classesOverride = props.classes, type = props.type, className = props.className, autoHideDuration = props.autoHideDuration, rest = __rest(props, [\"classes\", \"type\", \"className\", \"autoHideDuration\"]);\n    var _a = useState(false), open = _a[0], setOpen = _a[1];\n    var notification = useSelector(getNotification);\n    var dispatch = useDispatch();\n    var translate = useTranslate();\n    var styles = useStyles(props);\n    useEffect(function () {\n        setOpen(!!notification);\n    }, [notification]);\n    var handleRequestClose = useCallback(function () {\n        setOpen(false);\n    }, [setOpen]);\n    var handleExited = useCallback(function () {\n        if (notification && notification.undoable) {\n            dispatch(complete());\n            undoableEventEmitter.emit('end', { isUndo: false });\n        }\n        dispatch(hideNotification());\n    }, [dispatch, notification]);\n    var handleUndo = useCallback(function () {\n        dispatch(undo());\n        undoableEventEmitter.emit('end', { isUndo: true });\n    }, [dispatch]);\n    return (React.createElement(Snackbar, __assign({ open: open, message: notification &&\n            notification.message &&\n            translate(notification.message, notification.messageArgs), autoHideDuration: (notification && notification.autoHideDuration) ||\n            autoHideDuration, disableWindowBlurListener: notification && notification.undoable, onExited: handleExited, onClose: handleRequestClose, ContentProps: {\n            className: classnames(styles[(notification && notification.type) || type], className),\n        }, action: notification && notification.undoable ? (React.createElement(Button, { color: \"primary\", className: styles.undo, size: \"small\", onClick: handleUndo }, translate('ra.action.undo'))) : null }, rest)));\n};\nNotification.propTypes = {\n    type: PropTypes.string,\n};\nNotification.defaultProps = {\n    type: 'info',\n    autoHideDuration: 4000,\n};\nexport default Notification;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { cloneElement } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport { useTranslate, warning } from 'ra-core';\nvar Title = function (_a) {\n    var className = _a.className, defaultTitle = _a.defaultTitle, record = _a.record, title = _a.title, rest = __rest(_a, [\"className\", \"defaultTitle\", \"record\", \"title\"]);\n    var translate = useTranslate();\n    var container = typeof document !== 'undefined'\n        ? document.getElementById('react-admin-title')\n        : null;\n    if (!container)\n        return null;\n    warning(!defaultTitle && !title, 'Missing title prop in <Title> element');\n    var titleElement = !title ? (React.createElement(\"span\", __assign({ className: className }, rest), defaultTitle)) : typeof title === 'string' ? (React.createElement(\"span\", __assign({ className: className }, rest), translate(title, { _: title }))) : (cloneElement(title, __assign({ className: className, record: record }, rest)));\n    return createPortal(titleElement, container);\n};\nexport var TitlePropType = PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.element,\n]);\nTitle.propTypes = {\n    defaultTitle: PropTypes.string,\n    className: PropTypes.string,\n    record: PropTypes.any,\n    title: TitlePropType,\n};\nexport default Title;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { Button, Accordion, AccordionDetails, AccordionSummary, Typography, } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ErrorIcon from '@material-ui/icons/Report';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport History from '@material-ui/icons/History';\nimport { useTranslate } from 'ra-core';\nimport Title, { TitlePropType } from './Title';\nvar useStyles = makeStyles(function (theme) {\n    var _a;\n    return ({\n        container: (_a = {\n                display: 'flex',\n                flexDirection: 'column',\n                alignItems: 'center',\n                justifyContent: 'center'\n            },\n            _a[theme.breakpoints.down('sm')] = {\n                padding: '1em',\n            },\n            _a.fontFamily = 'Roboto, sans-serif',\n            _a.opacity = 0.5,\n            _a),\n        title: {\n            display: 'flex',\n            alignItems: 'center',\n        },\n        icon: {\n            width: '2em',\n            height: '2em',\n            marginRight: '0.5em',\n        },\n        panel: {\n            marginTop: '1em',\n            maxWidth: '60em',\n        },\n        panelDetails: {\n            whiteSpace: 'pre-wrap',\n        },\n        toolbar: {\n            marginTop: '2em',\n        },\n        advice: {\n            marginTop: '2em',\n        },\n    });\n}, { name: 'RaError' });\nfunction goBack() {\n    window.history.go(-1);\n}\nvar Error = function (props) {\n    var error = props.error, errorInfo = props.errorInfo, classesOverride = props.classes, className = props.className, title = props.title, rest = __rest(props, [\"error\", \"errorInfo\", \"classes\", \"className\", \"title\"]);\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    return (React.createElement(Fragment, null,\n        title && React.createElement(Title, { defaultTitle: title }),\n        React.createElement(\"div\", __assign({ className: classnames(classes.container, className) }, rest),\n            React.createElement(\"h1\", { className: classes.title, role: \"alert\" },\n                React.createElement(ErrorIcon, { className: classes.icon }),\n                translate('ra.page.error')),\n            React.createElement(\"div\", null, translate('ra.message.error')),\n            process.env.NODE_ENV !== 'production' && (React.createElement(React.Fragment, null,\n                React.createElement(Accordion, { className: classes.panel },\n                    React.createElement(AccordionSummary, { expandIcon: React.createElement(ExpandMoreIcon, null) }, translate(error.toString(), {\n                        _: error.toString(),\n                    })),\n                    errorInfo && (React.createElement(AccordionDetails, { className: classes.panelDetails }, errorInfo.componentStack))),\n                React.createElement(\"div\", { className: classes.advice },\n                    React.createElement(Typography, { align: \"center\" }, \"Need help with this error? Try the following:\"),\n                    React.createElement(Typography, { component: \"div\" },\n                        React.createElement(\"ul\", null,\n                            React.createElement(\"li\", null,\n                                \"Check the\",\n                                ' ',\n                                React.createElement(\"a\", { href: \"https://marmelab.com/react-admin/Readme.html\" }, \"react-admin documentation\")),\n                            React.createElement(\"li\", null,\n                                \"Search on\",\n                                ' ',\n                                React.createElement(\"a\", { href: \"https://stackoverflow.com/questions/tagged/react-admin\" }, \"StackOverflow\"),\n                                ' ',\n                                \"for community answers\"),\n                            React.createElement(\"li\", null,\n                                \"Get help from the core team via\",\n                                ' ',\n                                React.createElement(\"a\", { href: \"https://marmelab.com/ra-enterprise/#fromsww\" }, \"react-admin Enterprise Edition\"))))))),\n            React.createElement(\"div\", { className: classes.toolbar },\n                React.createElement(Button, { variant: \"contained\", startIcon: React.createElement(History, null), onClick: goBack }, translate('ra.action.back'))))));\n};\nError.propTypes = {\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    error: PropTypes.oneOfType([PropTypes.object, PropTypes.string]).isRequired,\n    errorInfo: PropTypes.object,\n    title: TitlePropType,\n};\nexport default Error;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button as MuiButton, Tooltip, IconButton, useMediaQuery, } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nimport { useTranslate } from 'ra-core';\n/**\n * A generic Button with side icon. Only the icon is displayed on small screens.\n *\n * The component translates the label. Pass the icon as child.\n * The icon displays on the left side of the button by default. Set alignIcon prop to 'right' to inverse.\n *\n * @example\n *\n * <Button label=\"Edit\" color=\"secondary\" onClick={doEdit}>\n *   <ContentCreate />\n * </Button>\n *\n */\nvar Button = function (props) {\n    var _a;\n    var _b = props.alignIcon, alignIcon = _b === void 0 ? 'left' : _b, children = props.children, classesOverride = props.classes, className = props.className, color = props.color, disabled = props.disabled, label = props.label, size = props.size, rest = __rest(props, [\"alignIcon\", \"children\", \"classes\", \"className\", \"color\", \"disabled\", \"label\", \"size\"]);\n    var translate = useTranslate();\n    var classes = useStyles(props);\n    var isXSmall = useMediaQuery(function (theme) {\n        return theme.breakpoints.down('xs');\n    });\n    var restProps = sanitizeButtonRestProps(rest);\n    return isXSmall ? (label && !disabled ? (React.createElement(Tooltip, { title: translate(label, { _: label }) },\n        React.createElement(IconButton, __assign({ \"aria-label\": translate(label, { _: label }), className: className, color: color }, restProps), children))) : (React.createElement(IconButton, __assign({ className: className, color: color, disabled: disabled }, restProps), children))) : (React.createElement(MuiButton, __assign({ className: classnames(classes.button, className), color: color, size: size, \"aria-label\": label ? translate(label, { _: label }) : undefined, disabled: disabled }, restProps),\n        alignIcon === 'left' &&\n            children &&\n            React.cloneElement(children, {\n                className: classes[size + \"Icon\"],\n            }),\n        label && (React.createElement(\"span\", { className: classnames((_a = {},\n                _a[classes.label] = alignIcon === 'left',\n                _a[classes.labelRightIcon] = alignIcon !== 'left',\n                _a)) }, translate(label, { _: label }))),\n        alignIcon === 'right' &&\n            children &&\n            React.cloneElement(children, {\n                className: classes[size + \"Icon\"],\n            })));\n};\nvar useStyles = makeStyles({\n    button: {\n        display: 'inline-flex',\n        alignItems: 'center',\n    },\n    label: {\n        paddingLeft: '0.5em',\n    },\n    labelRightIcon: {\n        paddingRight: '0.5em',\n    },\n    smallIcon: {\n        fontSize: 20,\n    },\n    mediumIcon: {\n        fontSize: 22,\n    },\n    largeIcon: {\n        fontSize: 24,\n    },\n}, { name: 'RaButton' });\nexport var sanitizeButtonRestProps = function (_a) {\n    var \n    // The next props are injected by Toolbar\n    basePath = _a.basePath, handleSubmit = _a.handleSubmit, handleSubmitWithRedirect = _a.handleSubmitWithRedirect, invalid = _a.invalid, onSave = _a.onSave, pristine = _a.pristine, record = _a.record, redirect = _a.redirect, resource = _a.resource, saving = _a.saving, submitOnEnter = _a.submitOnEnter, undoable = _a.undoable, rest = __rest(_a, [\"basePath\", \"handleSubmit\", \"handleSubmitWithRedirect\", \"invalid\", \"onSave\", \"pristine\", \"record\", \"redirect\", \"resource\", \"saving\", \"submitOnEnter\", \"undoable\"]);\n    return rest;\n};\nButton.propTypes = {\n    alignIcon: PropTypes.oneOf(['left', 'right']),\n    children: PropTypes.element,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    color: PropTypes.oneOf(['default', 'inherit', 'primary', 'secondary']),\n    disabled: PropTypes.bool,\n    label: PropTypes.string,\n    size: PropTypes.oneOf(['small', 'medium', 'large']),\n};\nButton.defaultProps = {\n    color: 'primary',\n    size: 'small',\n};\nexport default Button;\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from './Button';\nimport { useTranslate } from 'ra-core';\nimport classnames from 'classnames';\nvar skipToContent = function () {\n    if (typeof document === 'undefined')\n        return;\n    var element = document.getElementById('main-content');\n    if (!element) {\n        if (process.env.NODE_ENV !== 'production') {\n            console.warn('No element with id \"main-content\" was found. Ensure the element that contains your main content has an id of \"main-content\".');\n        }\n        return;\n    }\n    element.setAttribute('tabIndex', '-1');\n    element.focus();\n    element.blur();\n    element.removeAttribute('tabIndex');\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    skipToContentButton: {\n        position: 'fixed',\n        padding: theme.spacing(1),\n        backgroundColor: theme.palette.background.default,\n        color: theme.palette.getContrastText(theme.palette.background.default),\n        transition: theme.transitions.create(['top', 'opacity'], {\n            easing: theme.transitions.easing.easeIn,\n            duration: theme.transitions.duration.leavingScreen,\n        }),\n        left: theme.spacing(2),\n        top: theme.spacing(-10),\n        zIndex: 5000,\n        '&:hover': {\n            opacity: 0.8,\n            backgroundColor: theme.palette.background.default,\n        },\n        '&:focus': {\n            top: theme.spacing(2),\n            transition: theme.transitions.create(['top', 'opacity'], {\n                easing: theme.transitions.easing.easeOut,\n                duration: theme.transitions.duration.enteringScreen,\n            }),\n        },\n    },\n}); }, { name: 'RaSkipToContentButton' });\nvar SkipNavigationButton = function () {\n    var classes = useStyles();\n    var translate = useTranslate();\n    return (React.createElement(Button, { onClick: skipToContent, className: classnames(classes.skipToContentButton, 'skip-nav-button'), label: translate('ra.navigation.skip_nav'), variant: \"contained\" }));\n};\nexport default SkipNavigationButton;\n","import { createMuiTheme as createLegacyModeTheme, unstable_createMuiStrictModeTheme as createStrictModeTheme, } from '@material-ui/core/styles';\n/**\n * Alternative to MUI's createMuiTheme that doesn't log findDomNode warnings in StrictMode\n *\n * @see https://github.com/mui-org/material-ui/issues/13394\n */\nexport var createMuiTheme = process.env.NODE_ENV === 'production'\n    ? createLegacyModeTheme\n    : createStrictModeTheme;\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { Component, createElement, useEffect, useRef, useState, } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport classnames from 'classnames';\nimport { withRouter } from 'react-router-dom';\nimport { withStyles, createStyles } from '@material-ui/core/styles';\nimport { ThemeProvider } from '@material-ui/styles';\nimport { ComponentPropType } from 'ra-core';\nimport compose from 'lodash/flowRight';\nimport DefaultAppBar from './AppBar';\nimport DefaultSidebar from './Sidebar';\nimport DefaultMenu from './Menu';\nimport DefaultNotification from './Notification';\nimport DefaultError from './Error';\nimport defaultTheme from '../defaultTheme';\nimport SkipNavigationButton from '../button/SkipNavigationButton';\nimport { createMuiTheme } from './createMuiTheme';\nvar styles = function (theme) {\n    var _a, _b;\n    return createStyles({\n        root: {\n            display: 'flex',\n            flexDirection: 'column',\n            zIndex: 1,\n            minHeight: '100vh',\n            backgroundColor: theme.palette.background.default,\n            position: 'relative',\n            minWidth: 'fit-content',\n            width: '100%',\n            color: theme.palette.getContrastText(theme.palette.background.default),\n        },\n        appFrame: (_a = {\n                display: 'flex',\n                flexDirection: 'column',\n                flexGrow: 1\n            },\n            _a[theme.breakpoints.up('xs')] = {\n                marginTop: theme.spacing(6),\n            },\n            _a[theme.breakpoints.down('xs')] = {\n                marginTop: theme.spacing(7),\n            },\n            _a),\n        contentWithSidebar: {\n            display: 'flex',\n            flexGrow: 1,\n        },\n        content: (_b = {\n                display: 'flex',\n                flexDirection: 'column',\n                flexGrow: 1,\n                flexBasis: 0,\n                padding: theme.spacing(3),\n                paddingTop: theme.spacing(1),\n                paddingLeft: 0\n            },\n            _b[theme.breakpoints.up('xs')] = {\n                paddingLeft: 5,\n            },\n            _b[theme.breakpoints.down('sm')] = {\n                padding: 0,\n            },\n            _b),\n    });\n};\nvar LayoutWithoutTheme = /** @class */ (function (_super) {\n    __extends(LayoutWithoutTheme, _super);\n    function LayoutWithoutTheme(props) {\n        var _this = _super.call(this, props) || this;\n        _this.state = { hasError: false, errorMessage: null, errorInfo: null };\n        /**\n         * Reset the error state upon navigation\n         *\n         * @see https://stackoverflow.com/questions/48121750/browser-navigation-broken-by-use-of-react-error-boundaries\n         */\n        props.history.listen(function () {\n            if (_this.state.hasError) {\n                _this.setState({ hasError: false });\n            }\n        });\n        return _this;\n    }\n    LayoutWithoutTheme.prototype.componentDidCatch = function (errorMessage, errorInfo) {\n        this.setState({ hasError: true, errorMessage: errorMessage, errorInfo: errorInfo });\n    };\n    LayoutWithoutTheme.prototype.render = function () {\n        var _a = this.props, appBar = _a.appBar, children = _a.children, classes = _a.classes, className = _a.className, error = _a.error, dashboard = _a.dashboard, logout = _a.logout, menu = _a.menu, notification = _a.notification, open = _a.open, sidebar = _a.sidebar, title = _a.title, \n        // sanitize react-router props\n        match = _a.match, location = _a.location, history = _a.history, staticContext = _a.staticContext, props = __rest(_a, [\"appBar\", \"children\", \"classes\", \"className\", \"error\", \"dashboard\", \"logout\", \"menu\", \"notification\", \"open\", \"sidebar\", \"title\", \"match\", \"location\", \"history\", \"staticContext\"]);\n        var _b = this.state, hasError = _b.hasError, errorMessage = _b.errorMessage, errorInfo = _b.errorInfo;\n        return (React.createElement(React.Fragment, null,\n            React.createElement(\"div\", __assign({ className: classnames('layout', classes.root, className) }, props),\n                React.createElement(SkipNavigationButton, null),\n                React.createElement(\"div\", { className: classes.appFrame },\n                    createElement(appBar, { title: title, open: open, logout: logout }),\n                    React.createElement(\"main\", { className: classes.contentWithSidebar },\n                        createElement(sidebar, {\n                            children: createElement(menu, {\n                                logout: logout,\n                                hasDashboard: !!dashboard,\n                            }),\n                        }),\n                        React.createElement(\"div\", { id: \"main-content\", className: classes.content }, hasError\n                            ? createElement(error, {\n                                error: errorMessage,\n                                errorInfo: errorInfo,\n                                title: title,\n                            })\n                            : children)))),\n            createElement(notification)));\n    };\n    LayoutWithoutTheme.propTypes = {\n        appBar: ComponentPropType,\n        children: PropTypes.oneOfType([PropTypes.func, PropTypes.node]),\n        classes: PropTypes.object,\n        className: PropTypes.string,\n        dashboard: ComponentPropType,\n        error: ComponentPropType,\n        history: PropTypes.object.isRequired,\n        logout: PropTypes.element,\n        menu: ComponentPropType,\n        notification: ComponentPropType,\n        open: PropTypes.bool,\n        sidebar: ComponentPropType,\n        title: PropTypes.node.isRequired,\n    };\n    LayoutWithoutTheme.defaultProps = {\n        appBar: DefaultAppBar,\n        error: DefaultError,\n        menu: DefaultMenu,\n        notification: DefaultNotification,\n        sidebar: DefaultSidebar,\n    };\n    return LayoutWithoutTheme;\n}(Component));\nvar mapStateToProps = function (state) { return ({\n    open: state.admin.ui.sidebarOpen,\n}); };\nvar EnhancedLayout = compose(connect(mapStateToProps, {} // Avoid connect passing dispatch in props\n), withRouter, withStyles(styles, { name: 'RaLayout' }))(LayoutWithoutTheme);\nvar Layout = function (_a) {\n    var themeOverride = _a.theme, props = __rest(_a, [\"theme\"]);\n    var themeProp = useRef(themeOverride);\n    var _b = useState(function () { return createMuiTheme(themeOverride); }), theme = _b[0], setTheme = _b[1];\n    useEffect(function () {\n        if (themeProp.current !== themeOverride) {\n            themeProp.current = themeOverride;\n            setTheme(createMuiTheme(themeOverride));\n        }\n    }, [themeOverride, themeProp, theme, setTheme]);\n    return (React.createElement(ThemeProvider, { theme: theme },\n        React.createElement(EnhancedLayout, __assign({}, props))));\n};\nLayout.propTypes = {\n    theme: PropTypes.object,\n};\nLayout.defaultProps = {\n    theme: defaultTheme,\n};\nexport default Layout;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport HotTub from '@material-ui/icons/HotTub';\nimport History from '@material-ui/icons/History';\nimport classnames from 'classnames';\nimport { useAuthenticated, useTranslate } from 'ra-core';\nimport Title from './Title';\nvar useStyles = makeStyles(function (theme) {\n    var _a;\n    return ({\n        container: (_a = {\n                display: 'flex',\n                flexDirection: 'column',\n                justifyContent: 'center'\n            },\n            _a[theme.breakpoints.up('md')] = {\n                height: '100%',\n            },\n            _a[theme.breakpoints.down('sm')] = {\n                height: '100vh',\n                marginTop: '-3em',\n            },\n            _a),\n        icon: {\n            width: '9em',\n            height: '9em',\n        },\n        message: {\n            textAlign: 'center',\n            fontFamily: 'Roboto, sans-serif',\n            opacity: 0.5,\n            margin: '0 1em',\n        },\n        toolbar: {\n            textAlign: 'center',\n            marginTop: '2em',\n        },\n    });\n}, { name: 'RaNotFound' });\nfunction goBack() {\n    window.history.go(-1);\n}\nvar NotFound = function (props) {\n    var className = props.className, classesOverride = props.classes, title = props.title, rest = __rest(props, [\"className\", \"classes\", \"title\"]);\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    useAuthenticated();\n    return (React.createElement(\"div\", __assign({ className: classnames(classes.container, className) }, sanitizeRestProps(rest)),\n        React.createElement(Title, { defaultTitle: title }),\n        React.createElement(\"div\", { className: classes.message },\n            React.createElement(HotTub, { className: classes.icon }),\n            React.createElement(\"h1\", null, translate('ra.page.not_found')),\n            React.createElement(\"div\", null,\n                translate('ra.message.not_found'),\n                \".\")),\n        React.createElement(\"div\", { className: classes.toolbar },\n            React.createElement(Button, { variant: \"contained\", startIcon: React.createElement(History, null), onClick: goBack }, translate('ra.action.back')))));\n};\nvar sanitizeRestProps = function (_a) {\n    var staticContext = _a.staticContext, history = _a.history, location = _a.location, match = _a.match, rest = __rest(_a, [\"staticContext\", \"history\", \"location\", \"match\"]);\n    return rest;\n};\nNotFound.propTypes = {\n    className: PropTypes.string,\n    classes: PropTypes.object,\n    title: PropTypes.string,\n    location: PropTypes.object,\n};\nexport default NotFound;\n","import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { useTranslate } from 'ra-core';\nvar useStyles = makeStyles(function (theme) {\n    var _a;\n    return ({\n        container: (_a = {\n                display: 'flex',\n                flexDirection: 'column',\n                justifyContent: 'center'\n            },\n            _a[theme.breakpoints.up('md')] = {\n                height: '100%',\n            },\n            _a[theme.breakpoints.down('lg')] = {\n                height: '100vh',\n                marginTop: '-3em',\n            },\n            _a),\n        icon: {\n            width: '9em',\n            height: '9em',\n        },\n        message: {\n            textAlign: 'center',\n            fontFamily: 'Roboto, sans-serif',\n            opacity: 0.5,\n            margin: '0 1em',\n        },\n    });\n}, { name: 'RaLoading' });\nvar Loading = function (props) {\n    var className = props.className, _a = props.loadingPrimary, loadingPrimary = _a === void 0 ? 'ra.page.loading' : _a, _b = props.loadingSecondary, loadingSecondary = _b === void 0 ? 'ra.message.loading' : _b;\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    return (React.createElement(\"div\", { className: classnames(classes.container, className) },\n        React.createElement(\"div\", { className: classes.message },\n            React.createElement(CircularProgress, { className: classes.icon, color: \"primary\" }),\n            React.createElement(\"h1\", null, translate(loadingPrimary)),\n            React.createElement(\"div\", null,\n                translate(loadingSecondary),\n                \".\"))));\n};\nLoading.propTypes = {\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    loadingPrimary: PropTypes.string,\n    loadingSecondary: PropTypes.string,\n};\nLoading.defaultProps = {\n    loadingPrimary: 'ra.page.loading',\n    loadingSecondary: 'ra.message.loading',\n};\nexport default Loading;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { ThemeProvider } from '@material-ui/styles';\nimport { createMuiTheme } from './createMuiTheme';\nimport Loading from './Loading';\nvar LoadingPage = function (_a) {\n    var theme = _a.theme, props = __rest(_a, [\"theme\"]);\n    return (React.createElement(ThemeProvider, { theme: theme },\n        React.createElement(Loading, __assign({}, props))));\n};\nLoadingPage.propTypes = {\n    theme: PropTypes.object,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    loadingPrimary: PropTypes.string,\n    loadingSecondary: PropTypes.string,\n};\nLoadingPage.defaultProps = {\n    theme: createMuiTheme({}),\n    loadingPrimary: 'ra.page.loading',\n    loadingSecondary: 'ra.message.loading',\n};\nexport default LoadingPage;\n","import { useCallback } from 'react';\nimport { useLocation, useHistory } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport useAuthProvider, { defaultAuthParams } from './useAuthProvider';\nimport { resetNotification } from '../actions/notificationActions';\n/**\n * Get a callback for calling the authProvider.login() method\n * and redirect to the previous authenticated page (or the home page) on success.\n *\n * @see useAuthProvider\n *\n * @returns {Function} login callback\n *\n * @example\n *\n * import { useLogin } from 'react-admin';\n *\n * const LoginButton = () => {\n *     const [loading, setLoading] = useState(false);\n *     const login = useLogin();\n *     const handleClick = {\n *         setLoading(true);\n *         login({ username: 'john', password: 'p@ssw0rd' }, '/posts')\n *             .then(() => setLoading(false));\n *     }\n *     return <button onClick={handleClick}>Login</button>;\n * }\n */\nvar useLogin = function () {\n    var authProvider = useAuthProvider();\n    var location = useLocation();\n    var locationState = location.state;\n    var history = useHistory();\n    var dispatch = useDispatch();\n    var nextPathName = locationState && locationState.nextPathname;\n    var nextSearch = locationState && locationState.nextSearch;\n    var login = useCallback(function (params, pathName) {\n        if (params === void 0) { params = {}; }\n        return authProvider.login(params).then(function (ret) {\n            dispatch(resetNotification());\n            var redirectUrl = pathName\n                ? pathName\n                : nextPathName + nextSearch ||\n                    defaultAuthParams.afterLoginUrl;\n            history.push(redirectUrl);\n            return ret;\n        });\n    }, [authProvider, history, nextPathName, nextSearch, dispatch]);\n    var loginWithoutProvider = useCallback(function (_, __) {\n        dispatch(resetNotification());\n        history.push(defaultAuthParams.afterLoginUrl);\n        return Promise.resolve();\n    }, [history, dispatch]);\n    return authProvider ? login : loginWithoutProvider;\n};\nexport default useLogin;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { Field, Form } from 'react-final-form';\nimport { Button, CardActions, CircularProgress, TextField, } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate, useLogin, useNotify, useSafeSetState } from 'ra-core';\nvar useStyles = makeStyles(function (theme) { return ({\n    form: {\n        padding: '0 1em 1em 1em',\n    },\n    input: {\n        marginTop: '1em',\n    },\n    button: {\n        width: '100%',\n    },\n    icon: {\n        marginRight: theme.spacing(1),\n    },\n}); }, { name: 'RaLoginForm' });\nvar Input = function (_a) {\n    var _b = _a.meta, touched = _b.touched, error = _b.error, // eslint-disable-line react/prop-types\n    inputProps = _a.input, // eslint-disable-line react/prop-types\n    props = __rest(_a, [\"meta\", \"input\"]);\n    return (React.createElement(TextField, __assign({ error: !!(touched && error), helperText: touched && error }, inputProps, props, { fullWidth: true })));\n};\nvar LoginForm = function (props) {\n    var redirectTo = props.redirectTo;\n    var _a = useSafeSetState(false), loading = _a[0], setLoading = _a[1];\n    var login = useLogin();\n    var translate = useTranslate();\n    var notify = useNotify();\n    var classes = useStyles(props);\n    var validate = function (values) {\n        var errors = { username: undefined, password: undefined };\n        if (!values.username) {\n            errors.username = translate('ra.validation.required');\n        }\n        if (!values.password) {\n            errors.password = translate('ra.validation.required');\n        }\n        return errors;\n    };\n    var submit = function (values) {\n        setLoading(true);\n        login(values, redirectTo)\n            .then(function () {\n            setLoading(false);\n        })\n            .catch(function (error) {\n            setLoading(false);\n            notify(typeof error === 'string'\n                ? error\n                : typeof error === 'undefined' || !error.message\n                    ? 'ra.auth.sign_in_error'\n                    : error.message, 'warning', {\n                _: typeof error === 'string'\n                    ? error\n                    : error && error.message\n                        ? error.message\n                        : undefined,\n            });\n        });\n    };\n    return (React.createElement(Form, { onSubmit: submit, validate: validate, render: function (_a) {\n            var handleSubmit = _a.handleSubmit;\n            return (React.createElement(\"form\", { onSubmit: handleSubmit, noValidate: true },\n                React.createElement(\"div\", { className: classes.form },\n                    React.createElement(\"div\", { className: classes.input },\n                        React.createElement(Field, { autoFocus: true, id: \"username\", name: \"username\", component: Input, label: translate('ra.auth.username'), disabled: loading })),\n                    React.createElement(\"div\", { className: classes.input },\n                        React.createElement(Field, { id: \"password\", name: \"password\", component: Input, label: translate('ra.auth.password'), type: \"password\", disabled: loading, autoComplete: \"current-password\" }))),\n                React.createElement(CardActions, null,\n                    React.createElement(Button, { variant: \"contained\", type: \"submit\", color: \"primary\", disabled: loading, className: classes.button },\n                        loading && (React.createElement(CircularProgress, { className: classes.icon, size: 18, thickness: 2 })),\n                        translate('ra.auth.sign_in')))));\n        } }));\n};\nLoginForm.propTypes = {\n    redirectTo: PropTypes.string,\n};\nexport default LoginForm;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { createElement, useRef, useEffect, useMemo, } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { Card, Avatar } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { ThemeProvider } from '@material-ui/styles';\nimport LockIcon from '@material-ui/icons/Lock';\nimport { useHistory } from 'react-router-dom';\nimport { useCheckAuth } from 'ra-core';\nimport defaultTheme from '../defaultTheme';\nimport { createMuiTheme } from '../layout';\nimport DefaultNotification from '../layout/Notification';\nimport DefaultLoginForm from './LoginForm';\nvar useStyles = makeStyles(function (theme) { return ({\n    main: {\n        display: 'flex',\n        flexDirection: 'column',\n        minHeight: '100vh',\n        height: '1px',\n        alignItems: 'center',\n        justifyContent: 'flex-start',\n        backgroundRepeat: 'no-repeat',\n        backgroundSize: 'cover',\n        backgroundImage: 'radial-gradient(circle at 50% 14em, #313264 0%, #00023b 60%, #00023b 100%)',\n    },\n    card: {\n        minWidth: 300,\n        marginTop: '6em',\n    },\n    avatar: {\n        margin: '1em',\n        display: 'flex',\n        justifyContent: 'center',\n    },\n    icon: {\n        backgroundColor: theme.palette.secondary[500],\n    },\n}); }, { name: 'RaLogin' });\n/**\n * A standalone login page, to serve as authentication gate to the admin\n *\n * Expects the user to enter a login and a password, which will be checked\n * by the `authProvider.login()` method. Redirects to the root page (/)\n * upon success, otherwise displays an authentication error message.\n *\n * Copy and adapt this component to implement your own login logic\n * (e.g. to authenticate via email or facebook or anything else).\n *\n * @example\n *     import MyLoginPage from './MyLoginPage';\n *     const App = () => (\n *         <Admin loginPage={MyLoginPage} authProvider={authProvider}>\n *             ...\n *        </Admin>\n *     );\n */\nvar Login = function (props) {\n    var theme = props.theme, title = props.title, classesOverride = props.classes, className = props.className, children = props.children, notification = props.notification, staticContext = props.staticContext, backgroundImage = props.backgroundImage, rest = __rest(props, [\"theme\", \"title\", \"classes\", \"className\", \"children\", \"notification\", \"staticContext\", \"backgroundImage\"]);\n    var containerRef = useRef();\n    var classes = useStyles(props);\n    var muiTheme = useMemo(function () { return createMuiTheme(theme); }, [theme]);\n    var backgroundImageLoaded = false;\n    var checkAuth = useCheckAuth();\n    var history = useHistory();\n    useEffect(function () {\n        checkAuth({}, false)\n            .then(function () {\n            // already authenticated, redirect to the home page\n            history.push('/');\n        })\n            .catch(function () {\n            // not authenticated, stay on the login page\n        });\n    }, [checkAuth, history]);\n    var updateBackgroundImage = function () {\n        if (!backgroundImageLoaded && containerRef.current) {\n            containerRef.current.style.backgroundImage = \"url(\" + backgroundImage + \")\";\n            backgroundImageLoaded = true;\n        }\n    };\n    // Load background image asynchronously to speed up time to interactive\n    var lazyLoadBackgroundImage = function () {\n        if (backgroundImage) {\n            var img = new Image();\n            img.onload = updateBackgroundImage;\n            img.src = backgroundImage;\n        }\n    };\n    useEffect(function () {\n        if (!backgroundImageLoaded) {\n            lazyLoadBackgroundImage();\n        }\n    });\n    return (React.createElement(ThemeProvider, { theme: muiTheme },\n        React.createElement(\"div\", __assign({ className: classnames(classes.main, className) }, rest, { ref: containerRef }),\n            React.createElement(Card, { className: classes.card },\n                React.createElement(\"div\", { className: classes.avatar },\n                    React.createElement(Avatar, { className: classes.icon },\n                        React.createElement(LockIcon, null))),\n                children),\n            notification ? createElement(notification) : null)));\n};\nLogin.propTypes = {\n    backgroundImage: PropTypes.string,\n    children: PropTypes.node,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    theme: PropTypes.object,\n    staticContext: PropTypes.object,\n};\nLogin.defaultProps = {\n    theme: defaultTheme,\n    children: React.createElement(DefaultLoginForm, null),\n    notification: DefaultNotification,\n};\nexport default Login;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { ListItemIcon, MenuItem, useMediaQuery } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ExitIcon from '@material-ui/icons/PowerSettingsNew';\nimport classnames from 'classnames';\nimport { useTranslate, useLogout } from 'ra-core';\nvar useStyles = makeStyles(function (theme) { return ({\n    menuItem: {\n        color: theme.palette.text.secondary,\n    },\n    icon: { minWidth: theme.spacing(5) },\n}); }, { name: 'RaLogout' });\n/**\n * Logout button component, to be passed to the Admin component\n *\n * Used for the Logout Menu item in the sidebar\n */\nvar LogoutWithRef = React.forwardRef(function Logout(props, ref) {\n    var className = props.className, classesOverride = props.classes, redirectTo = props.redirectTo, icon = props.icon, rest = __rest(props, [\"className\", \"classes\", \"redirectTo\", \"icon\"]);\n    var classes = useStyles(props);\n    var isXSmall = useMediaQuery(function (theme) {\n        return theme.breakpoints.down('xs');\n    });\n    var translate = useTranslate();\n    var logout = useLogout();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    var handleClick = useCallback(function () { return logout(null, redirectTo, false); }, [\n        redirectTo,\n        logout,\n    ]);\n    return (React.createElement(MenuItem, __assign({ className: classnames('logout', classes.menuItem, className), onClick: handleClick, ref: ref, component: isXSmall ? 'span' : 'li' }, rest),\n        React.createElement(ListItemIcon, { className: classes.icon }, icon ? icon : React.createElement(ExitIcon, null)),\n        translate('ra.auth.logout')));\n});\nLogoutWithRef.propTypes = {\n    className: PropTypes.string,\n    redirectTo: PropTypes.string,\n    icon: PropTypes.element,\n};\nexport default LogoutWithRef;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { CoreAdminUI } from 'ra-core';\nimport { Layout as DefaultLayout, LoadingPage, Login, Logout, NotFound, } from 'ra-ui-materialui';\nvar AdminUI = function (props) { return React.createElement(CoreAdminUI, __assign({}, props)); };\nAdminUI.defaultProps = {\n    layout: DefaultLayout,\n    catchAll: NotFound,\n    loading: LoadingPage,\n    loginPage: Login,\n    logout: Logout,\n};\nexport default AdminUI;\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { useCallback } from 'react';\nimport useAuthProvider from './useAuthProvider';\nimport useLogout from './useLogout';\nimport { useNotify } from '../sideEffect';\nimport { useHistory } from 'react-router';\nvar timer;\n/**\n * Returns a callback used to call the authProvider.checkError() method\n * and an error from the dataProvider. If the authProvider rejects the call,\n * the hook logs the user out and shows a logged out notification.\n *\n * Used in the useDataProvider hook to check for access denied responses\n * (e.g. 401 or 403 responses) and trigger a logout.\n *\n * @see useLogout\n * @see useDataProvider\n *\n * @returns {Function} logoutIfAccessDenied callback\n *\n * @example\n *\n * import { useLogoutIfAccessDenied, useNotify, DataProviderContext } from 'react-admin';\n *\n * const FetchRestrictedResource = () => {\n *     const dataProvider = useContext(DataProviderContext);\n *     const logoutIfAccessDenied = useLogoutIfAccessDenied();\n *     const notify = useNotify()\n *     useEffect(() => {\n *         dataProvider.getOne('secret', { id: 123 })\n *             .catch(error => {\n *                  logoutIfAccessDenied(error);\n *                  notify('server error', 'warning');\n *              })\n *     }, []);\n *     // ...\n * }\n */\nvar useLogoutIfAccessDenied = function () {\n    var authProvider = useAuthProvider();\n    var logout = useLogout();\n    var notify = useNotify();\n    var history = useHistory();\n    var logoutIfAccessDenied = useCallback(function (error, disableNotification) {\n        return authProvider\n            .checkError(error)\n            .then(function () { return false; })\n            .catch(function (e) { return __awaiter(void 0, void 0, void 0, function () {\n            var logoutUser, shouldNotify, redirectTo;\n            var _a;\n            return __generator(this, function (_b) {\n                logoutUser = (_a = e === null || e === void 0 ? void 0 : e.logoutUser) !== null && _a !== void 0 ? _a : true;\n                //manual debounce\n                if (timer) {\n                    // side effects already triggered in this tick, exit\n                    return [2 /*return*/, true];\n                }\n                timer = setTimeout(function () {\n                    timer = undefined;\n                }, 0);\n                shouldNotify = !(disableNotification ||\n                    (e && e.message === false) ||\n                    (error && error.message === false));\n                if (shouldNotify) {\n                    // notify only if not yet logged out\n                    authProvider\n                        .checkAuth({})\n                        .then(function () {\n                        if (logoutUser) {\n                            notify('ra.notification.logged_out', 'warning');\n                        }\n                        else {\n                            notify('ra.notification.not_authorized', 'warning');\n                        }\n                    })\n                        .catch(function () { });\n                }\n                redirectTo = e && e.redirectTo\n                    ? e.redirectTo\n                    : error && error.redirectTo\n                        ? error.redirectTo\n                        : undefined;\n                if (logoutUser) {\n                    logout({}, redirectTo);\n                }\n                else {\n                    history.push(redirectTo);\n                }\n                return [2 /*return*/, true];\n            });\n        }); });\n    }, [authProvider, logout, notify, history]);\n    return authProvider\n        ? logoutIfAccessDenied\n        : logoutIfAccessDeniedWithoutProvider;\n};\nvar logoutIfAccessDeniedWithoutProvider = function () { return Promise.resolve(false); };\nexport default useLogoutIfAccessDenied;\n","import * as React from 'react';\nimport AdminContext from './AdminContext';\nimport AdminUI from './AdminUI';\n/**\n * Main admin component, entry point to the application.\n *\n * Initializes the various contexts (auth, data, i18n, redux, router)\n * and defines the main routes.\n *\n * Expects a list of resources as children, or a function returning a list of\n * resources based on the permissions.\n *\n * @example\n *\n * // static list of resources\n *\n * import {\n *     Admin,\n *     Resource,\n *     ListGuesser,\n *     useDataProvider,\n * } from 'react-admin';\n *\n * const App = () => (\n *     <Admin dataProvider={myDataProvider}>\n *         <Resource name=\"posts\" list={ListGuesser} />\n *     </Admin>\n * );\n *\n * // dynamic list of resources based on permissions\n *\n * import {\n *     Admin,\n *     Resource,\n *     ListGuesser,\n *     useDataProvider,\n * } from 'react-admin';\n *\n * const App = () => (\n *     <Admin dataProvider={myDataProvider}>\n *         {permissions => [\n *             <Resource name=\"posts\" key=\"posts\" list={ListGuesser} />,\n *         ]}\n *     </Admin>\n * );\n *\n * // If you have to build a dynamic list of resources using a side effect,\n * // you can't use <Admin>. But as it delegates to sub components,\n * // it's relatively straightforward to replace it:\n *\n * import * as React from 'react';\nimport { useEffect, useState } from 'react';\n * import {\n *     AdminContext,\n *     AdminUI,\n *     Resource,\n *     ListGuesser,\n *     useDataProvider,\n * } from 'react-admin';\n *\n * const App = () => (\n *     <AdminContext dataProvider={myDataProvider}>\n *         <Resources />\n *     </AdminContext>\n * );\n *\n * const Resources = () => {\n *     const [resources, setResources] = useState([]);\n *     const dataProvider = useDataProvider();\n *     useEffect(() => {\n *         dataProvider.introspect().then(r => setResources(r));\n *     }, []);\n *\n *     return (\n *         <AdminUI>\n *             {resources.map(resource => (\n *                 <Resource name={resource.name} key={resource.key} list={ListGuesser} />\n *             ))}\n *         </AdminUI>\n *     );\n * };\n */\nvar Admin = function (_a) {\n    var appLayout = _a.appLayout, authProvider = _a.authProvider, catchAll = _a.catchAll, children = _a.children, customReducers = _a.customReducers, _b = _a.customRoutes, customRoutes = _b === void 0 ? [] : _b, customSagas = _a.customSagas, dashboard = _a.dashboard, dataProvider = _a.dataProvider, disableTelemetry = _a.disableTelemetry, history = _a.history, i18nProvider = _a.i18nProvider, initialState = _a.initialState, layout = _a.layout, loading = _a.loading, locale = _a.locale, loginPage = _a.loginPage, logoutButton = _a.logoutButton, menu = _a.menu, // deprecated, use a custom layout instead\n    ready = _a.ready, theme = _a.theme, _c = _a.title, title = _c === void 0 ? 'React Admin' : _c;\n    if (appLayout && process.env.NODE_ENV !== 'production') {\n        console.warn('You are using deprecated prop \"appLayout\", it was replaced by \"layout\", see https://github.com/marmelab/react-admin/issues/2918');\n    }\n    if (loginPage === true && process.env.NODE_ENV !== 'production') {\n        console.warn('You passed true to the loginPage prop. You must either pass false to disable it or a component class to customize it');\n    }\n    if (locale && process.env.NODE_ENV !== 'production') {\n        console.warn('You are using deprecated prop \"locale\". You must now pass the initial locale to your i18nProvider');\n    }\n    return (React.createElement(AdminContext, { authProvider: authProvider, dataProvider: dataProvider, i18nProvider: i18nProvider, history: history, customReducers: customReducers, customSagas: customSagas, initialState: initialState },\n        React.createElement(AdminUI, { layout: appLayout || layout, customRoutes: customRoutes, dashboard: dashboard, disableTelemetry: disableTelemetry, menu: menu, catchAll: catchAll, theme: theme, title: title, loading: loading, loginPage: loginPage, logout: authProvider ? logoutButton : undefined, ready: ready }, children)));\n};\nexport default Admin;\n","import { createContext } from 'react';\n/**\n * Context to store the current resource information.\n *\n * Use the useResource() hook to read the context. That's what most components do in react-admin.\n *\n * @example\n *\n * import { useResource, useTranslate } from 'ra-core';\n *\n * const MyCustomEditTitle = props => {\n *     const name = useResource(props);\n *\n *     return (\n *         <h1>{translate(`${name}.name`)}</h1>\n *     );\n * };\n */\nexport var ResourceContext = createContext(undefined);\n","import * as React from 'react';\nimport { ResourceContext } from './ResourceContext';\nexport var ResourceContextProvider = function (_a) {\n    var children = _a.children, value = _a.value;\n    return (React.createElement(ResourceContext.Provider, { value: value }, children));\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useEffect, useMemo } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Route, Switch } from 'react-router-dom';\nimport WithPermissions from '../auth/WithPermissions';\nimport { registerResource, unregisterResource } from '../actions';\nimport { ResourceContextProvider } from './ResourceContextProvider';\nvar defaultOptions = {};\nvar ResourceRegister = function (_a) {\n    var name = _a.name, list = _a.list, create = _a.create, edit = _a.edit, show = _a.show, icon = _a.icon, _b = _a.options, options = _b === void 0 ? defaultOptions : _b;\n    var dispatch = useDispatch();\n    useEffect(function () {\n        dispatch(registerResource({\n            name: name,\n            options: options,\n            hasList: !!list,\n            hasEdit: !!edit,\n            hasShow: !!show,\n            hasCreate: !!create,\n            icon: icon,\n        }));\n        return function () { return dispatch(unregisterResource(name)); };\n    }, [dispatch, name, create, edit, icon, list, show, options]);\n    return null;\n};\nvar ResourceRoutes = function (_a) {\n    var name = _a.name, match = _a.match, list = _a.list, create = _a.create, edit = _a.edit, show = _a.show, _b = _a.options, options = _b === void 0 ? defaultOptions : _b;\n    var isRegistered = useSelector(function (state) { return !!state.admin.resources[name]; });\n    var basePath = match ? match.path : '';\n    var resourceData = useMemo(function () { return ({\n        resource: name,\n        options: options,\n        hasList: !!list,\n        hasEdit: !!edit,\n        hasShow: !!show,\n        hasCreate: !!create,\n    }); }, [name, options, create, edit, list, show]);\n    // match tends to change even on the same route ; using memo to avoid an extra render\n    return useMemo(function () {\n        // if the registration hasn't finished, no need to render\n        if (!isRegistered) {\n            return null;\n        }\n        return (React.createElement(ResourceContextProvider, { value: name },\n            React.createElement(Switch, null,\n                create && (React.createElement(Route, { path: basePath + \"/create\", render: function (routeProps) { return (React.createElement(WithPermissions, __assign({ component: create, basePath: basePath }, routeProps, resourceData))); } })),\n                show && (React.createElement(Route, { path: basePath + \"/:id/show\", render: function (routeProps) { return (React.createElement(WithPermissions, __assign({ component: show, basePath: basePath, id: decodeURIComponent(routeProps.match\n                            .params.id) }, routeProps, resourceData))); } })),\n                edit && (React.createElement(Route, { path: basePath + \"/:id\", render: function (routeProps) { return (React.createElement(WithPermissions, __assign({ component: edit, basePath: basePath, id: decodeURIComponent(routeProps.match\n                            .params.id) }, routeProps, resourceData))); } })),\n                list && (React.createElement(Route, { path: \"\" + basePath, render: function (routeProps) { return (React.createElement(WithPermissions, __assign({ component: list, basePath: basePath }, routeProps, resourceData, { syncWithLocation: true }))); } })))));\n    }, [basePath, name, create, edit, list, show, options, isRegistered]); // eslint-disable-line react-hooks/exhaustive-deps\n};\nvar Resource = function (_a) {\n    var _b = _a.intent, intent = _b === void 0 ? 'route' : _b, props = __rest(_a, [\"intent\"]);\n    return intent === 'registration' ? (React.createElement(ResourceRegister, __assign({}, props))) : (React.createElement(ResourceRoutes, __assign({}, props)));\n};\nexport default Resource;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nvar checkMinimumRequiredProps = function (displayName, requiredProps) { return function (WrappedComponent) { return function (props) {\n    useCheckMinimumRequiredProps(displayName, requiredProps, props);\n    return React.createElement(WrappedComponent, __assign({}, props));\n}; }; };\nexport default checkMinimumRequiredProps;\n// Not a hook but named that way to avoid conflicts with the old one\nexport var useCheckMinimumRequiredProps = function (displayName, requiredProps, props) {\n    var propNames = Object.keys(props);\n    var missingProps = requiredProps.filter(function (prop) { return !propNames.includes(prop); });\n    if (missingProps.length > 0) {\n        throw new Error(\"<\" + displayName + \"> component is not properly configured, some essential props are missing.\\nBe sure to pass the props from the parent. Example:\\n\\nconst My\" + displayName + \" = props => (\\n    <\" + displayName + \" {...props}></\" + displayName + \">\\n);\\n\\nThe missing props are: \" + missingProps.join(', '));\n    }\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { shallowEqual } from 'react-redux';\nvar isObject = function (obj) {\n    return obj && Object.prototype.toString.call(obj) === '[object Object]';\n};\nvar isEmpty = function (obj) {\n    return obj instanceof Date\n        ? false\n        : obj === '' ||\n            obj === null ||\n            obj === undefined ||\n            shallowEqual(obj, {});\n};\nvar removeEmpty = function (object) {\n    return Object.keys(object).reduce(function (acc, key) {\n        var _a;\n        var child = object[key];\n        if (isObject(object[key])) {\n            child = removeEmpty(object[key]);\n        }\n        return isEmpty(child) ? acc : __assign(__assign({}, acc), (_a = {}, _a[key] = child, _a));\n    }, {});\n};\nexport default removeEmpty;\n","var removeKey = function (target, path) {\n    return Object.keys(target).reduce(function (acc, key) {\n        var _a;\n        if (key !== path) {\n            return Object.assign({}, acc, (_a = {}, _a[key] = target[key], _a));\n        }\n        return acc;\n    }, {});\n};\nvar deepRemoveKey = function (target, path) {\n    var _a;\n    var paths = path.split('.');\n    if (paths.length === 1) {\n        return removeKey(target, path);\n    }\n    var deepKey = paths[0];\n    if (target[deepKey] === undefined) {\n        return target;\n    }\n    var deep = deepRemoveKey(target[deepKey], paths.slice(1).join('.'));\n    if (Object.keys(deep).length === 0) {\n        return removeKey(target, deepKey);\n    }\n    return Object.assign({}, target, (_a = {}, _a[deepKey] = deep, _a));\n};\nexport default deepRemoveKey;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport set from 'lodash/set';\nimport removeEmpty from '../../../../util/removeEmpty';\nimport removeKey from '../../../../util/removeKey';\nexport var SET_SORT = 'SET_SORT';\nexport var SORT_ASC = 'ASC';\nexport var SORT_DESC = 'DESC';\nexport var SET_PAGE = 'SET_PAGE';\nexport var SET_PER_PAGE = 'SET_PER_PAGE';\nexport var SET_FILTER = 'SET_FILTER';\nexport var SHOW_FILTER = 'SHOW_FILTER';\nexport var HIDE_FILTER = 'HIDE_FILTER';\nvar oppositeOrder = function (direction) {\n    return direction === SORT_DESC ? SORT_ASC : SORT_DESC;\n};\n/**\n * This reducer is for the react-router query string, NOT for redux.\n */\nvar queryReducer = function (previousState, action) {\n    var _a;\n    switch (action.type) {\n        case SET_SORT:\n            if (action.payload.sort === previousState.sort) {\n                return __assign(__assign({}, previousState), { order: oppositeOrder(previousState.order), page: 1 });\n            }\n            return __assign(__assign({}, previousState), { sort: action.payload.sort, order: action.payload.order || SORT_ASC, page: 1 });\n        case SET_PAGE:\n            return __assign(__assign({}, previousState), { page: action.payload });\n        case SET_PER_PAGE:\n            return __assign(__assign({}, previousState), { page: 1, perPage: action.payload });\n        case SET_FILTER: {\n            return __assign(__assign({}, previousState), { page: 1, filter: action.payload.filter, displayedFilters: action.payload.displayedFilters\n                    ? action.payload.displayedFilters\n                    : previousState.displayedFilters });\n        }\n        case SHOW_FILTER: {\n            if (previousState.displayedFilters &&\n                previousState.displayedFilters[action.payload.filterName]) {\n                // the filter is already shown\n                return previousState;\n            }\n            return __assign(__assign({}, previousState), { filter: typeof action.payload.defaultValue !== 'undefined'\n                    ? set(previousState.filter, action.payload.filterName, action.payload.defaultValue)\n                    : previousState.filter, \n                // we don't use lodash.set() for displayed filters\n                // to avoid problems with compound filter names (e.g. 'author.name')\n                displayedFilters: __assign(__assign({}, previousState.displayedFilters), (_a = {}, _a[action.payload.filterName] = true, _a)) });\n        }\n        case HIDE_FILTER: {\n            return __assign(__assign({}, previousState), { filter: removeEmpty(removeKey(previousState.filter, action.payload)), \n                // we don't use lodash.set() for displayed filters\n                // to avoid problems with compound filter names (e.g. 'author.name')\n                displayedFilters: previousState.displayedFilters\n                    ? Object.keys(previousState.displayedFilters).reduce(function (filters, filter) {\n                        var _a;\n                        return filter !== action.payload\n                            ? __assign(__assign({}, filters), (_a = {}, _a[filter] = true, _a)) : filters;\n                    }, {})\n                    : previousState.displayedFilters });\n        }\n        default:\n            return previousState;\n    }\n};\nexport default queryReducer;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { useCallback, useMemo, useEffect, useState, useRef } from 'react';\nimport { useSelector, useDispatch, shallowEqual } from 'react-redux';\nimport { parse, stringify } from 'query-string';\nimport lodashDebounce from 'lodash/debounce';\nimport pickBy from 'lodash/pickBy';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport queryReducer, { SET_FILTER, HIDE_FILTER, SHOW_FILTER, SET_PAGE, SET_PER_PAGE, SET_SORT, SORT_ASC, } from '../reducer/admin/resource/list/queryReducer';\nimport { changeListParams } from '../actions/listActions';\nimport removeEmpty from '../util/removeEmpty';\nvar emptyObject = {};\nvar defaultSort = {\n    field: 'id',\n    order: SORT_ASC,\n};\nvar defaultParams = {};\n/**\n * Get the list parameters (page, sort, filters) and modifiers.\n *\n * These parameters are merged from 3 sources:\n *   - the query string from the URL\n *   - the params stored in the state (from previous navigation)\n *   - the options passed to the hook (including the filter defaultValues)\n *\n * @returns {Array} A tuple [parameters, modifiers].\n * Destructure as [\n *    { page, perPage, sort, order, filter, filterValues, displayedFilters, requestSignature },\n *    { setFilters, hideFilter, showFilter, setPage, setPerPage, setSort }\n * ]\n *\n * @example\n *\n * const [listParams, listParamsActions] = useListParams({\n *      resource: 'posts',\n *      location: location // From react-router. Injected to your component by react-admin inside a List\n *      filterDefaultValues: {\n *          published: true\n *      },\n *      sort: {\n *          field: 'published_at',\n *          order: 'DESC'\n *      },\n *      perPage: 25\n * });\n *\n * const {\n *      page,\n *      perPage,\n *      sort,\n *      order,\n *      filter,\n *      filterValues,\n *      displayedFilters,\n *      requestSignature\n * } = listParams;\n *\n * const {\n *      setFilters,\n *      hideFilter,\n *      showFilter,\n *      setPage,\n *      setPerPage,\n *      setSort,\n * } = listParamsActions;\n */\nvar useListParams = function (_a) {\n    var resource = _a.resource, filterDefaultValues = _a.filterDefaultValues, _b = _a.sort, sort = _b === void 0 ? defaultSort : _b, _c = _a.perPage, perPage = _c === void 0 ? 10 : _c, _d = _a.debounce, debounce = _d === void 0 ? 500 : _d, _e = _a.syncWithLocation, syncWithLocation = _e === void 0 ? false : _e;\n    var dispatch = useDispatch();\n    var location = useLocation();\n    var history = useHistory();\n    var _f = useState(defaultParams), localParams = _f[0], setLocalParams = _f[1];\n    var params = useSelector(function (reduxState) {\n        return reduxState.admin.resources[resource]\n            ? reduxState.admin.resources[resource].list.params\n            : defaultParams;\n    }, shallowEqual);\n    var tempParams = useRef();\n    var requestSignature = [\n        location.search,\n        resource,\n        syncWithLocation ? params : localParams,\n        filterDefaultValues,\n        JSON.stringify(sort),\n        perPage,\n        syncWithLocation,\n    ];\n    var queryFromLocation = syncWithLocation\n        ? parseQueryFromLocation(location)\n        : {};\n    var query = useMemo(function () {\n        return getQuery({\n            queryFromLocation: queryFromLocation,\n            params: syncWithLocation ? params : localParams,\n            filterDefaultValues: filterDefaultValues,\n            sort: sort,\n            perPage: perPage,\n        });\n    }, requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n    );\n    // On mount, if the location includes params (for example from a link like\n    // the categories products on the demo), we need to persist them in the\n    // redux state as well so that we don't lose them after a redirection back\n    // to the list\n    useEffect(function () {\n        if (Object.keys(queryFromLocation).length > 0) {\n            dispatch(changeListParams(resource, query));\n        }\n    }, []); // eslint-disable-line\n    var changeParams = useCallback(function (action) {\n        if (!tempParams.current) {\n            // no other changeParams action dispatched this tick\n            tempParams.current = queryReducer(query, action);\n            // schedule side effects for next tick\n            setTimeout(function () {\n                if (syncWithLocation) {\n                    history.push({\n                        search: \"?\" + stringify(__assign(__assign({}, tempParams.current), { filter: JSON.stringify(tempParams.current.filter), displayedFilters: JSON.stringify(tempParams.current.displayedFilters) })),\n                        state: { _scrollToTop: action.type === SET_PAGE },\n                    });\n                    dispatch(changeListParams(resource, tempParams.current));\n                }\n                else {\n                    setLocalParams(tempParams.current);\n                }\n                tempParams.current = undefined;\n            }, 0);\n        }\n        else {\n            // side effects already scheduled, just change the params\n            tempParams.current = queryReducer(tempParams.current, action);\n        }\n    }, requestSignature); // eslint-disable-line react-hooks/exhaustive-deps\n    var setSort = useCallback(function (sort, order) {\n        return changeParams({\n            type: SET_SORT,\n            payload: { sort: sort, order: order },\n        });\n    }, requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n    );\n    var setPage = useCallback(function (newPage) { return changeParams({ type: SET_PAGE, payload: newPage }); }, requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n    );\n    var setPerPage = useCallback(function (newPerPage) {\n        return changeParams({ type: SET_PER_PAGE, payload: newPerPage });\n    }, requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n    );\n    var filterValues = query.filter || emptyObject;\n    var displayedFilterValues = query.displayedFilters || emptyObject;\n    var debouncedSetFilters = lodashDebounce(function (filter, displayedFilters) {\n        changeParams({\n            type: SET_FILTER,\n            payload: {\n                filter: removeEmpty(filter),\n                displayedFilters: displayedFilters,\n            },\n        });\n    }, debounce);\n    var setFilters = useCallback(function (filter, displayedFilters, debounce) {\n        if (debounce === void 0) { debounce = true; }\n        return debounce\n            ? debouncedSetFilters(filter, displayedFilters)\n            : changeParams({\n                type: SET_FILTER,\n                payload: {\n                    filter: removeEmpty(filter),\n                    displayedFilters: displayedFilters,\n                },\n            });\n    }, requestSignature // eslint-disable-line react-hooks/exhaustive-deps\n    );\n    var hideFilter = useCallback(function (filterName) {\n        changeParams({\n            type: HIDE_FILTER,\n            payload: filterName,\n        });\n    }, requestSignature); // eslint-disable-line react-hooks/exhaustive-deps\n    var showFilter = useCallback(function (filterName, defaultValue) {\n        changeParams({\n            type: SHOW_FILTER,\n            payload: {\n                filterName: filterName,\n                defaultValue: defaultValue,\n            },\n        });\n    }, requestSignature); // eslint-disable-line react-hooks/exhaustive-deps\n    return [\n        __assign({ displayedFilters: displayedFilterValues, filterValues: filterValues,\n            requestSignature: requestSignature }, query),\n        {\n            changeParams: changeParams,\n            setPage: setPage,\n            setPerPage: setPerPage,\n            setSort: setSort,\n            setFilters: setFilters,\n            hideFilter: hideFilter,\n            showFilter: showFilter,\n        },\n    ];\n};\nexport var validQueryParams = [\n    'page',\n    'perPage',\n    'sort',\n    'order',\n    'filter',\n    'displayedFilters',\n];\nvar parseObject = function (query, field) {\n    if (query[field] && typeof query[field] === 'string') {\n        try {\n            query[field] = JSON.parse(query[field]);\n        }\n        catch (err) {\n            delete query[field];\n        }\n    }\n};\nexport var parseQueryFromLocation = function (_a) {\n    var search = _a.search;\n    var query = pickBy(parse(search), function (v, k) { return validQueryParams.indexOf(k) !== -1; });\n    parseObject(query, 'filter');\n    parseObject(query, 'displayedFilters');\n    return query;\n};\n/**\n * Check if user has already set custom sort, page, or filters for this list\n *\n * User params come from the Redux store as the params props. By default,\n * this object is:\n *\n * { filter: {}, order: null, page: 1, perPage: null, sort: null }\n *\n * To check if the user has custom params, we must compare the params\n * to these initial values.\n *\n * @param {Object} params\n */\nexport var hasCustomParams = function (params) {\n    return (params &&\n        params.filter &&\n        (Object.keys(params.filter).length > 0 ||\n            params.order != null ||\n            params.page !== 1 ||\n            params.perPage != null ||\n            params.sort != null));\n};\n/**\n * Merge list params from 3 different sources:\n *   - the query string\n *   - the params stored in the state (from previous navigation)\n *   - the props passed to the List component (including the filter defaultValues)\n */\nexport var getQuery = function (_a) {\n    var queryFromLocation = _a.queryFromLocation, params = _a.params, filterDefaultValues = _a.filterDefaultValues, sort = _a.sort, perPage = _a.perPage;\n    var query = Object.keys(queryFromLocation).length > 0\n        ? queryFromLocation\n        : hasCustomParams(params)\n            ? __assign({}, params) : { filter: filterDefaultValues || {} };\n    if (!query.sort) {\n        query.sort = sort.field;\n        query.order = sort.order;\n    }\n    if (query.perPage == null) {\n        query.perPage = perPage;\n    }\n    if (query.page == null) {\n        query.page = 1;\n    }\n    return __assign(__assign({}, query), { page: getNumberOrDefault(query.page, 1), perPage: getNumberOrDefault(query.perPage, 10) });\n};\nexport var getNumberOrDefault = function (possibleNumber, defaultValue) {\n    var parsedNumber = typeof possibleNumber === 'string'\n        ? parseInt(possibleNumber, 10)\n        : possibleNumber;\n    return isNaN(parsedNumber) ? defaultValue : parsedNumber;\n};\nexport default useListParams;\n","import { useMemo } from 'react';\nimport { useSelector, useDispatch, shallowEqual } from 'react-redux';\nimport { setListSelectedIds, toggleListItem } from '../actions/listActions';\nvar defaultRecords = [];\n/**\n * Get the list of selected items for a resource, and callbacks to change the selection\n *\n * @param resource The resource name, e.g. 'posts'\n *\n * @returns {Object} Destructure as [selectedIds, { select, toggle, clearSelection }].\n */\nvar useRecordSelection = function (resource) {\n    var dispatch = useDispatch();\n    var selectedIds = useSelector(function (reduxState) {\n        return reduxState.admin.resources[resource]\n            ? reduxState.admin.resources[resource].list.selectedIds\n            : defaultRecords;\n    }, shallowEqual);\n    var selectionModifiers = useMemo(function () { return ({\n        select: function (newIds) {\n            dispatch(setListSelectedIds(resource, newIds));\n        },\n        toggle: function (id) {\n            dispatch(toggleListItem(resource, id));\n        },\n        clearSelection: function () {\n            dispatch(setListSelectedIds(resource, []));\n        },\n    }); }, [dispatch, resource]);\n    return [selectedIds, selectionModifiers];\n};\nexport default useRecordSelection;\n","export default {\n    create: function () { return Promise.resolve({ data: null }); },\n    delete: function () { return Promise.resolve({ data: null }); },\n    deleteMany: function () { return Promise.resolve({ data: [] }); },\n    getList: function () { return Promise.resolve({ data: [], total: 0 }); },\n    getMany: function () { return Promise.resolve({ data: [] }); },\n    getManyReference: function () { return Promise.resolve({ data: [], total: 0 }); },\n    getOne: function () { return Promise.resolve({ data: null }); },\n    update: function () { return Promise.resolve({ data: null }); },\n    updateMany: function () { return Promise.resolve({ data: [] }); },\n};\n","var __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\n// List of properties we expect in the options\nvar OptionsProperties = [\n    'action',\n    'fetch',\n    'meta',\n    'onFailure',\n    'onSuccess',\n    'undoable',\n    'mutationMode',\n    'enabled',\n];\nvar isDataProviderOptions = function (value) {\n    if (typeof value === 'undefined')\n        return [];\n    var options = value;\n    return Object.keys(options).some(function (key) { return OptionsProperties.includes(key); });\n};\n// As all dataProvider methods do not have the same signature, we must differentiate\n// standard methods which have the (resource, params, options) signature\n// from the custom ones\nexport var getDataProviderCallArguments = function (args) {\n    var lastArg = args[args.length - 1];\n    var allArguments = __spreadArrays(args);\n    var resource;\n    var payload;\n    var options;\n    if (isDataProviderOptions(lastArg)) {\n        options = lastArg;\n        allArguments = allArguments.slice(0, args.length - 1);\n    }\n    if (typeof allArguments[0] === 'string') {\n        resource = allArguments[0];\n        payload = allArguments[1];\n    }\n    return {\n        resource: resource,\n        payload: payload,\n        allArguments: allArguments,\n        options: options,\n    };\n};\n","import { GET_LIST, GET_ONE, GET_MANY, GET_MANY_REFERENCE, CREATE, UPDATE, UPDATE_MANY, DELETE, DELETE_MANY, } from '../core';\n/**\n * Get a fetch type for a data provider verb.\n *\n * The fetch type is used in reducers.\n *\n * @example getFetchType('getMany'); // 'GET_MANY'\n */\nexport default (function (actionType) {\n    switch (actionType) {\n        case 'getList':\n            return GET_LIST;\n        case 'getOne':\n            return GET_ONE;\n        case 'getMany':\n            return GET_MANY;\n        case 'getManyReference':\n            return GET_MANY_REFERENCE;\n        case 'create':\n            return CREATE;\n        case 'update':\n            return UPDATE;\n        case 'updateMany':\n            return UPDATE_MANY;\n        case 'delete':\n            return DELETE;\n        case 'deleteMany':\n            return DELETE_MANY;\n        default:\n            return actionType;\n    }\n});\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport validateResponseFormat from '../validateResponseFormat';\nimport getFetchType from '../getFetchType';\nimport { startOptimisticMode, stopOptimisticMode, } from '../../actions/undoActions';\nimport { FETCH_END, FETCH_ERROR, FETCH_START, } from '../../actions/fetchActions';\nimport { replayStackedCalls } from './stackedCalls';\n/**\n * In optimistic mode, the useDataProvider hook dispatches an optimistic action\n * and executes the success side effects right away. Then it immediately calls\n * the dataProvider.\n *\n * We call that \"optimistic\" because the hook returns a resolved Promise\n * immediately (although it has an empty value). That only works if the\n * caller reads the result from the Redux store, not from the Promise.\n */\nexport var performOptimisticQuery = function (_a) {\n    var type = _a.type, payload = _a.payload, resource = _a.resource, action = _a.action, rest = _a.rest, onSuccess = _a.onSuccess, onFailure = _a.onFailure, dataProvider = _a.dataProvider, dispatch = _a.dispatch, logoutIfAccessDenied = _a.logoutIfAccessDenied, allArguments = _a.allArguments;\n    dispatch(startOptimisticMode());\n    dispatch({\n        type: action,\n        payload: payload,\n        meta: __assign({ resource: resource }, rest),\n    });\n    dispatch({\n        type: action + \"_OPTIMISTIC\",\n        payload: payload,\n        meta: {\n            resource: resource,\n            fetch: getFetchType(type),\n            optimistic: true,\n        },\n    });\n    onSuccess && onSuccess({});\n    setTimeout(function () {\n        dispatch(stopOptimisticMode());\n        dispatch({\n            type: action + \"_LOADING\",\n            payload: payload,\n            meta: __assign({ resource: resource }, rest),\n        });\n        dispatch({ type: FETCH_START });\n        try {\n            dataProvider[type]\n                .apply(dataProvider, typeof resource !== 'undefined'\n                ? [resource, payload]\n                : allArguments)\n                .then(function (response) {\n                if (process.env.NODE_ENV !== 'production') {\n                    validateResponseFormat(response, type);\n                }\n                dispatch({\n                    type: action + \"_SUCCESS\",\n                    payload: response,\n                    requestPayload: payload,\n                    meta: __assign(__assign({}, rest), { resource: resource, fetchResponse: getFetchType(type), fetchStatus: FETCH_END }),\n                });\n                dispatch({ type: FETCH_END });\n                replayStackedCalls();\n            })\n                .catch(function (error) {\n                if (process.env.NODE_ENV !== 'production') {\n                    console.error(error);\n                }\n                return logoutIfAccessDenied(error).then(function (loggedOut) {\n                    if (loggedOut)\n                        return;\n                    dispatch({\n                        type: action + \"_FAILURE\",\n                        error: error.message ? error.message : error,\n                        payload: error.body ? error.body : null,\n                        requestPayload: payload,\n                        meta: __assign(__assign({}, rest), { resource: resource, fetchResponse: getFetchType(type), fetchStatus: FETCH_ERROR }),\n                    });\n                    dispatch({ type: FETCH_ERROR, error: error });\n                    onFailure && onFailure(error);\n                });\n            });\n        }\n        catch (e) {\n            if (process.env.NODE_ENV !== 'production') {\n                console.error(e);\n            }\n            throw new Error('The dataProvider threw an error. It should return a rejected Promise instead.');\n        }\n    });\n    return Promise.resolve({});\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport validateResponseFormat from '../validateResponseFormat';\nimport getFetchType from '../getFetchType';\nimport undoableEventEmitter from '../undoableEventEmitter';\nimport { startOptimisticMode, stopOptimisticMode, } from '../../actions/undoActions';\nimport { showNotification } from '../../actions/notificationActions';\nimport { refreshView } from '../../actions/uiActions';\nimport { FETCH_END, FETCH_ERROR, FETCH_START, } from '../../actions/fetchActions';\nimport { replayStackedCalls } from './stackedCalls';\n/**\n * In undoable mode, the hook dispatches an optimistic action and executes\n * the success side effects right away. Then it waits for a few seconds to\n * actually call the dataProvider - unless the user dispatches an Undo action.\n *\n * We call that \"optimistic\" because the hook returns a resolved Promise\n * immediately (although it has an empty value). That only works if the\n * caller reads the result from the Redux store, not from the Promise.\n */\nexport var performUndoableQuery = function (_a) {\n    var type = _a.type, payload = _a.payload, resource = _a.resource, action = _a.action, rest = _a.rest, onSuccess = _a.onSuccess, onFailure = _a.onFailure, dataProvider = _a.dataProvider, dispatch = _a.dispatch, logoutIfAccessDenied = _a.logoutIfAccessDenied, allArguments = _a.allArguments;\n    dispatch(startOptimisticMode());\n    if (window) {\n        window.addEventListener('beforeunload', warnBeforeClosingWindow, {\n            capture: true,\n        });\n    }\n    dispatch({\n        type: action,\n        payload: payload,\n        meta: __assign({ resource: resource }, rest),\n    });\n    dispatch({\n        type: action + \"_OPTIMISTIC\",\n        payload: payload,\n        meta: {\n            resource: resource,\n            fetch: getFetchType(type),\n            optimistic: true,\n        },\n    });\n    onSuccess && onSuccess({});\n    undoableEventEmitter.once('end', function (_a) {\n        var isUndo = _a.isUndo;\n        dispatch(stopOptimisticMode());\n        if (isUndo) {\n            dispatch(showNotification('ra.notification.canceled'));\n            dispatch(refreshView());\n            if (window) {\n                window.removeEventListener('beforeunload', warnBeforeClosingWindow, {\n                    capture: true,\n                });\n            }\n            return;\n        }\n        dispatch({\n            type: action + \"_LOADING\",\n            payload: payload,\n            meta: __assign({ resource: resource }, rest),\n        });\n        dispatch({ type: FETCH_START });\n        try {\n            dataProvider[type]\n                .apply(dataProvider, typeof resource !== 'undefined'\n                ? [resource, payload]\n                : allArguments)\n                .then(function (response) {\n                if (process.env.NODE_ENV !== 'production') {\n                    validateResponseFormat(response, type);\n                }\n                dispatch({\n                    type: action + \"_SUCCESS\",\n                    payload: response,\n                    requestPayload: payload,\n                    meta: __assign(__assign({}, rest), { resource: resource, fetchResponse: getFetchType(type), fetchStatus: FETCH_END }),\n                });\n                dispatch({ type: FETCH_END });\n                if (window) {\n                    window.removeEventListener('beforeunload', warnBeforeClosingWindow, {\n                        capture: true,\n                    });\n                }\n                replayStackedCalls();\n            })\n                .catch(function (error) {\n                if (window) {\n                    window.removeEventListener('beforeunload', warnBeforeClosingWindow, {\n                        capture: true,\n                    });\n                }\n                if (process.env.NODE_ENV !== 'production') {\n                    console.error(error);\n                }\n                return logoutIfAccessDenied(error).then(function (loggedOut) {\n                    if (loggedOut)\n                        return;\n                    dispatch({\n                        type: action + \"_FAILURE\",\n                        error: error.message ? error.message : error,\n                        payload: error.body ? error.body : null,\n                        requestPayload: payload,\n                        meta: __assign(__assign({}, rest), { resource: resource, fetchResponse: getFetchType(type), fetchStatus: FETCH_ERROR }),\n                    });\n                    dispatch({ type: FETCH_ERROR, error: error });\n                    onFailure && onFailure(error);\n                });\n            });\n        }\n        catch (e) {\n            if (process.env.NODE_ENV !== 'production') {\n                console.error(e);\n            }\n            throw new Error('The dataProvider threw an error. It should return a rejected Promise instead.');\n        }\n    });\n    return Promise.resolve({});\n};\n// event listener added as window.onbeforeunload when starting optimistic mode, and removed when it ends\nvar warnBeforeClosingWindow = function (event) {\n    event.preventDefault(); // standard\n    event.returnValue = ''; // Chrome\n    return 'Your latest modifications are not yet sent to the server. Are you sure?'; // Old IE\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport validateResponseFormat from '../validateResponseFormat';\nimport getFetchType from '../getFetchType';\nimport { FETCH_END, FETCH_ERROR, FETCH_START, } from '../../actions/fetchActions';\n/**\n * In pessimistic mode, the useDataProvider hook calls the dataProvider. When a\n * successful response arrives, the hook dispatches a SUCCESS action, executes\n * success side effects and returns the response. If the response is an error,\n * the hook dispatches a FAILURE action, executes failure side effects, and\n * throws an error.\n */\nexport var performPessimisticQuery = function (_a) {\n    var type = _a.type, payload = _a.payload, resource = _a.resource, action = _a.action, rest = _a.rest, onSuccess = _a.onSuccess, onFailure = _a.onFailure, dataProvider = _a.dataProvider, dispatch = _a.dispatch, logoutIfAccessDenied = _a.logoutIfAccessDenied, allArguments = _a.allArguments;\n    dispatch({\n        type: action,\n        payload: payload,\n        meta: __assign({ resource: resource }, rest),\n    });\n    dispatch({\n        type: action + \"_LOADING\",\n        payload: payload,\n        meta: __assign({ resource: resource }, rest),\n    });\n    dispatch({ type: FETCH_START });\n    try {\n        return dataProvider[type]\n            .apply(dataProvider, typeof resource !== 'undefined'\n            ? [resource, payload]\n            : allArguments)\n            .then(function (response) {\n            if (process.env.NODE_ENV !== 'production') {\n                validateResponseFormat(response, type);\n            }\n            dispatch({\n                type: action + \"_SUCCESS\",\n                payload: response,\n                requestPayload: payload,\n                meta: __assign(__assign({}, rest), { resource: resource, fetchResponse: getFetchType(type), fetchStatus: FETCH_END }),\n            });\n            dispatch({ type: FETCH_END });\n            onSuccess && onSuccess(response);\n            return response;\n        })\n            .catch(function (error) {\n            if (process.env.NODE_ENV !== 'production') {\n                console.error(error);\n            }\n            return logoutIfAccessDenied(error).then(function (loggedOut) {\n                if (loggedOut)\n                    return;\n                dispatch({\n                    type: action + \"_FAILURE\",\n                    error: error.message ? error.message : error,\n                    payload: error.body ? error.body : null,\n                    requestPayload: payload,\n                    meta: __assign(__assign({}, rest), { resource: resource, fetchResponse: getFetchType(type), fetchStatus: FETCH_ERROR }),\n                });\n                dispatch({ type: FETCH_ERROR, error: error });\n                onFailure && onFailure(error);\n                throw error;\n            });\n        });\n    }\n    catch (e) {\n        if (process.env.NODE_ENV !== 'production') {\n            console.error(e);\n        }\n        throw new Error('The dataProvider threw an error. It should return a rejected Promise instead.');\n    }\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { getResultFromCache } from '../replyWithCache';\nimport getFetchType from '../getFetchType';\nimport { FETCH_END } from '../../actions/fetchActions';\nexport var answerWithCache = function (_a) {\n    var type = _a.type, payload = _a.payload, resource = _a.resource, action = _a.action, rest = _a.rest, onSuccess = _a.onSuccess, resourceState = _a.resourceState, dispatch = _a.dispatch;\n    dispatch({\n        type: action,\n        payload: payload,\n        meta: __assign({ resource: resource }, rest),\n    });\n    var response = getResultFromCache(type, payload, resourceState);\n    dispatch({\n        type: action + \"_SUCCESS\",\n        payload: response,\n        requestPayload: payload,\n        meta: __assign(__assign({}, rest), { resource: resource, fetchResponse: getFetchType(type), fetchStatus: FETCH_END, fromCache: true }),\n    });\n    onSuccess && onSuccess(response);\n    return Promise.resolve(response);\n};\n","import get from 'lodash/get';\nexport var canReplyWithCache = function (type, payload, resourceState) {\n    var now = new Date();\n    switch (type) {\n        case 'getList':\n            return (get(resourceState, [\n                'list',\n                'cachedRequests',\n                JSON.stringify(payload),\n                'validity',\n            ]) > now);\n        case 'getOne':\n            return (resourceState &&\n                resourceState.validity &&\n                resourceState.validity[payload.id] > now);\n        case 'getMany':\n            return (resourceState &&\n                resourceState.validity &&\n                payload.ids.every(function (id) { return resourceState.validity[id] > now; }));\n        default:\n            return false;\n    }\n};\nexport var getResultFromCache = function (type, payload, resourceState) {\n    switch (type) {\n        case 'getList': {\n            var data_1 = resourceState.data;\n            var requestSignature = JSON.stringify(payload);\n            var cachedRequest = resourceState.list.cachedRequests[requestSignature];\n            return {\n                data: cachedRequest.ids.map(function (id) { return data_1[id]; }),\n                total: cachedRequest.total,\n            };\n        }\n        case 'getOne':\n            return { data: resourceState.data[payload.id] };\n        case 'getMany':\n            return {\n                data: payload.ids.map(function (id) { return resourceState.data[id]; }),\n            };\n        default:\n            throw new Error('cannot reply with cache for this method');\n    }\n};\n","import { performOptimisticQuery } from './performOptimisticQuery';\nimport { performUndoableQuery } from './performUndoableQuery';\nimport { performPessimisticQuery } from './performPessimisticQuery';\nimport { answerWithCache } from './answerWithCache';\nimport { canReplyWithCache } from '../replyWithCache';\n/**\n * Execute a dataProvider call\n *\n * Delegates execution to cache, optimistic, undoable, or pessimistic queries\n *\n * @see useDataProvider\n */\nexport var doQuery = function (_a) {\n    var type = _a.type, payload = _a.payload, resource = _a.resource, action = _a.action, rest = _a.rest, onSuccess = _a.onSuccess, onFailure = _a.onFailure, dataProvider = _a.dataProvider, dispatch = _a.dispatch, logoutIfAccessDenied = _a.logoutIfAccessDenied, allArguments = _a.allArguments, store = _a.store, mutationMode = _a.mutationMode;\n    var resourceState = store.getState().admin.resources[resource];\n    if (canReplyWithCache(type, payload, resourceState)) {\n        return answerWithCache({\n            type: type,\n            payload: payload,\n            resource: resource,\n            action: action,\n            rest: rest,\n            onSuccess: onSuccess,\n            resourceState: resourceState,\n            dispatch: dispatch,\n        });\n    }\n    else if (mutationMode === 'optimistic') {\n        return performOptimisticQuery({\n            type: type,\n            payload: payload,\n            resource: resource,\n            action: action,\n            rest: rest,\n            onSuccess: onSuccess,\n            onFailure: onFailure,\n            dataProvider: dataProvider,\n            dispatch: dispatch,\n            logoutIfAccessDenied: logoutIfAccessDenied,\n            allArguments: allArguments,\n        });\n    }\n    else if (mutationMode === 'undoable') {\n        return performUndoableQuery({\n            type: type,\n            payload: payload,\n            resource: resource,\n            action: action,\n            rest: rest,\n            onSuccess: onSuccess,\n            onFailure: onFailure,\n            dataProvider: dataProvider,\n            dispatch: dispatch,\n            logoutIfAccessDenied: logoutIfAccessDenied,\n            allArguments: allArguments,\n        });\n    }\n    else {\n        return performPessimisticQuery({\n            type: type,\n            payload: payload,\n            resource: resource,\n            action: action,\n            rest: rest,\n            onSuccess: onSuccess,\n            onFailure: onFailure,\n            dataProvider: dataProvider,\n            dispatch: dispatch,\n            logoutIfAccessDenied: logoutIfAccessDenied,\n            allArguments: allArguments,\n        });\n    }\n};\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { doQuery } from './doQuery';\nvar nbRemainingStackedCalls = 0;\nexport var getRemainingStackedCalls = function () { return nbRemainingStackedCalls; };\n// List of dataProvider calls emitted while in optimistic mode.\n// These calls get replayed once the dataProvider exits optimistic mode\nvar stackedCalls = [];\nexport var stackCall = function (params) {\n    stackedCalls.push(params);\n    nbRemainingStackedCalls++;\n};\nvar stackedOptimisticCalls = [];\nexport var stackOptimisticCall = function (params) {\n    stackedOptimisticCalls.push(params);\n    nbRemainingStackedCalls++;\n};\n// Replay calls recorded while in optimistic mode\nexport var replayStackedCalls = function () { return __awaiter(void 0, void 0, void 0, function () {\n    var clone;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (!(stackedOptimisticCalls.length > 0)) return [3 /*break*/, 2];\n                clone = __spreadArrays(stackedOptimisticCalls);\n                // remove these calls from the list *before* doing them\n                // because side effects in the calls can add more calls\n                // so we don't want to erase these.\n                stackedOptimisticCalls.splice(0, stackedOptimisticCalls.length);\n                return [4 /*yield*/, Promise.all(clone.map(function (params) { return Promise.resolve(doQuery.call(null, params)); }))];\n            case 1:\n                _a.sent();\n                // once the calls are finished, decrease the number of remaining calls\n                nbRemainingStackedCalls -= clone.length;\n                return [3 /*break*/, 4];\n            case 2:\n                clone = __spreadArrays(stackedCalls);\n                // remove these calls from the list *before* doing them\n                // because side effects in the calls can add more calls\n                // so we don't want to erase these.\n                stackedCalls.splice(0, stackedCalls.length);\n                return [4 /*yield*/, Promise.all(clone.map(function (params) { return Promise.resolve(doQuery.call(null, params)); }))];\n            case 3:\n                _a.sent();\n                // once the calls are finished, decrease the number of remaining calls\n                nbRemainingStackedCalls -= clone.length;\n                _a.label = 4;\n            case 4: return [2 /*return*/];\n        }\n    });\n}); };\n","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { useContext, useMemo } from 'react';\nimport { useDispatch, useSelector, useStore } from 'react-redux';\nimport DataProviderContext from './DataProviderContext';\nimport defaultDataProvider from './defaultDataProvider';\nimport useLogoutIfAccessDenied from '../auth/useLogoutIfAccessDenied';\nimport { getDataProviderCallArguments } from './getDataProviderCallArguments';\nimport { doQuery, stackCall, stackOptimisticCall, getRemainingStackedCalls, } from './performQuery';\n/**\n * Hook for getting a dataProvider\n *\n * Gets a dataProvider object, which behaves just like the real dataProvider\n * (same methods returning a Promise). But it's actually a Proxy object, which\n * dispatches Redux actions along the process. The benefit is that react-admin\n * tracks the loading state when using this hook, and stores results in the\n * Redux store for future use.\n *\n * In addition to the 2 usual parameters of the dataProvider methods (resource,\n * payload), the Proxy supports a third parameter for every call. It's an\n * object literal which may contain side effects, or make the action optimistic\n * (with mutationMode: optimistic) or undoable (with mutationMode: undoable).\n *\n * @return dataProvider\n *\n * @example Basic usage\n *\n * import * as React from 'react';\n * import { useState } from 'react';\n * import { useDataProvider } from 'react-admin';\n *\n * const PostList = () => {\n *      const [posts, setPosts] = useState([])\n *      const dataProvider = useDataProvider();\n *      useEffect(() => {\n *          dataProvider.getList('posts', { filter: { status: 'pending' }})\n *            .then(({ data }) => setPosts(data));\n *      }, [])\n *\n *      return (\n *          <Fragment>\n *              {posts.map((post, key) => <PostDetail post={post} key={key} />)}\n *          </Fragment>\n *     );\n * }\n *\n * @example Handling all states (loading, error, success)\n *\n * import { useState, useEffect } from 'react';\n * import { useDataProvider } from 'react-admin';\n *\n * const UserProfile = ({ userId }) => {\n *     const dataProvider = useDataProvider();\n *     const [user, setUser] = useState();\n *     const [loading, setLoading] = useState(true);\n *     const [error, setError] = useState();\n *     useEffect(() => {\n *         dataProvider.getOne('users', { id: userId })\n *             .then(({ data }) => {\n *                 setUser(data);\n *                 setLoading(false);\n *             })\n *             .catch(error => {\n *                 setError(error);\n *                 setLoading(false);\n *             })\n *     }, []);\n *\n *     if (loading) return <Loading />;\n *     if (error) return <Error />\n *     if (!user) return null;\n *\n *     return (\n *         <ul>\n *             <li>Name: {user.name}</li>\n *             <li>Email: {user.email}</li>\n *         </ul>\n *     )\n * }\n *\n * @example Action customization\n *\n * dataProvider.getOne('users', { id: 123 });\n * // will dispatch the following actions:\n * // - CUSTOM_FETCH\n * // - CUSTOM_FETCH_LOADING\n * // - FETCH_START\n * // - CUSTOM_FETCH_SUCCESS\n * // - FETCH_END\n *\n * dataProvider.getOne('users', { id: 123 }, { action: CRUD_GET_ONE });\n * // will dispatch the following actions:\n * // - CRUD_GET_ONE\n * // - CRUD_GET_ONE_LOADING\n * // - FETCH_START\n * // - CRUD_GET_ONE_SUCCESS\n * // - FETCH_END\n */\nvar useDataProvider = function () {\n    var dispatch = useDispatch();\n    var dataProvider = useContext(DataProviderContext) || defaultDataProvider;\n    // optimistic mode can be triggered by a previous optimistic or undoable query\n    var isOptimistic = useSelector(function (state) { return state.admin.ui.optimistic; });\n    var store = useStore();\n    var logoutIfAccessDenied = useLogoutIfAccessDenied();\n    var dataProviderProxy = useMemo(function () {\n        return new Proxy(dataProvider, {\n            get: function (target, name) {\n                if (typeof name === 'symbol') {\n                    return;\n                }\n                return function () {\n                    var args = [];\n                    for (var _i = 0; _i < arguments.length; _i++) {\n                        args[_i] = arguments[_i];\n                    }\n                    var _a = getDataProviderCallArguments(args), resource = _a.resource, payload = _a.payload, allArguments = _a.allArguments, options = _a.options;\n                    var type = name.toString();\n                    var _b = options || {}, _c = _b.action, action = _c === void 0 ? 'CUSTOM_FETCH' : _c, _d = _b.undoable, undoable = _d === void 0 ? false : _d, _e = _b.onSuccess, onSuccess = _e === void 0 ? undefined : _e, _f = _b.onFailure, onFailure = _f === void 0 ? undefined : _f, _g = _b.mutationMode, mutationMode = _g === void 0 ? undoable ? 'undoable' : 'pessimistic' : _g, _h = _b.enabled, enabled = _h === void 0 ? true : _h, rest = __rest(_b, [\"action\", \"undoable\", \"onSuccess\", \"onFailure\", \"mutationMode\", \"enabled\"]);\n                    if (typeof dataProvider[type] !== 'function') {\n                        throw new Error(\"Unknown dataProvider function: \" + type);\n                    }\n                    if (onSuccess && typeof onSuccess !== 'function') {\n                        throw new Error('The onSuccess option must be a function');\n                    }\n                    if (onFailure && typeof onFailure !== 'function') {\n                        throw new Error('The onFailure option must be a function');\n                    }\n                    if (mutationMode === 'undoable' && !onSuccess) {\n                        throw new Error('You must pass an onSuccess callback calling notify() to use the undoable mode');\n                    }\n                    if (typeof enabled !== 'boolean') {\n                        throw new Error('The enabled option must be a boolean');\n                    }\n                    if (enabled === false) {\n                        return Promise.resolve({});\n                    }\n                    var params = {\n                        resource: resource,\n                        type: type,\n                        payload: payload,\n                        action: action,\n                        onFailure: onFailure,\n                        onSuccess: onSuccess,\n                        rest: rest,\n                        mutationMode: mutationMode,\n                        // these ones are passed down because of the rules of hooks\n                        dataProvider: dataProvider,\n                        store: store,\n                        dispatch: dispatch,\n                        logoutIfAccessDenied: logoutIfAccessDenied,\n                        allArguments: allArguments,\n                    };\n                    if (isOptimistic) {\n                        // When in optimistic mode, fetch calls aren't executed\n                        // right away. Instead, they are are stacked, to be\n                        // executed once the dataProvider leaves optimistic mode.\n                        // In the meantime, the admin uses data from the store.\n                        if (mutationMode === 'undoable' ||\n                            mutationMode === 'optimistic') {\n                            // optimistic and undoable calls are added to a\n                            // specific stack, as they must be replayed first\n                            stackOptimisticCall(params);\n                        }\n                        else {\n                            // pessimistic calls are added to the regular stack\n                            // and will be replayed last\n                            stackCall(params);\n                        }\n                        // Return a Promise that only resolves when the optimistic call was made\n                        // otherwise hooks like useQueryWithStore will return loaded = true\n                        // before the content actually reaches the Redux store.\n                        // But as we can't determine when this particular query was finished,\n                        // the Promise resolves only when *all* optimistic queries are done.\n                        return waitFor(function () { return getRemainingStackedCalls() === 0; });\n                    }\n                    else {\n                        return doQuery(params);\n                    }\n                };\n            },\n        });\n    }, [dataProvider, dispatch, isOptimistic, logoutIfAccessDenied, store]);\n    return dataProviderProxy;\n};\n// get a Promise that resolves after a delay in milliseconds\nvar later = function (delay) {\n    if (delay === void 0) { delay = 100; }\n    return new Promise(function (resolve) {\n        setTimeout(resolve, delay);\n    });\n};\n// get a Promise that resolves once a condition is satisfied\nvar waitFor = function (condition) {\n    return new Promise(function (resolve) {\n        return condition()\n            ? resolve()\n            : later().then(function () { return waitFor(condition).then(function () { return resolve(); }); });\n    });\n};\nexport default useDataProvider;\n","import { useSelector } from 'react-redux';\n/**\n * Get the UI version from the store\n *\n * The UI version is an integer incremented by the refresh button;\n * it serves to force running fetch hooks again.\n */\nvar useVersion = function () {\n    return useSelector(function (reduxState) { return reduxState.admin.ui.viewVersion; });\n};\nexport default useVersion;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { useCallback, useEffect, useRef, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport isEqual from 'lodash/isEqual';\nimport useDataProvider from './useDataProvider';\nimport useVersion from '../controller/useVersion';\nimport getFetchType from './getFetchType';\nimport { useSafeSetState } from '../util/hooks';\nvar queriesThisTick = {};\n/**\n * Default cache selector. Allows to cache responses by default.\n *\n * By default, custom queries are dispatched as a CUSTOM_QUERY Redux action.\n * The useDataProvider hook dispatches a CUSTOM_QUERY_SUCCESS when the response\n * comes, and the customQueries reducer stores the result in the store.\n * This selector reads the customQueries store and acts as a response cache.\n */\nvar defaultDataSelector = function (query) { return function (state) {\n    var key = JSON.stringify(__assign(__assign({}, query), { type: getFetchType(query.type) }));\n    return state.admin.customQueries[key]\n        ? state.admin.customQueries[key].data\n        : undefined;\n}; };\nvar defaultTotalSelector = function (query) { return function (state) {\n    var key = JSON.stringify(__assign(__assign({}, query), { type: getFetchType(query.type) }));\n    return state.admin.customQueries[key]\n        ? state.admin.customQueries[key].total\n        : null;\n}; };\nvar defaultIsDataLoaded = function (data) { return data !== undefined; };\n/**\n * Fetch the data provider through Redux, return the value from the store.\n *\n * The return value updates according to the request state:\n *\n * - start: { loading: true, loaded: false, refetch }\n * - success: { data: [data from response], total: [total from response], loading: false, loaded: true, refetch }\n * - error: { error: [error from response], loading: false, loaded: false, refetch }\n *\n * This hook will return the cached result when called a second time\n * with the same parameters, until the response arrives.\n *\n * @param {Object} query\n * @param {string} query.type The verb passed to th data provider, e.g. 'getList', 'getOne'\n * @param {string} query.resource A resource name, e.g. 'posts', 'comments'\n * @param {Object} query.payload The payload object, e.g; { post_id: 12 }\n * @param {Object} options\n * @param {string} options.action Redux action type\n * @param {boolean} options.enabled Flag to conditionally run the query. If it's false, the query will not run\n * @param {Function} options.onSuccess Side effect function to be executed upon success, e.g. () => refresh()\n * @param {Function} options.onFailure Side effect function to be executed upon failure, e.g. (error) => notify(error.message)\n * @param {Function} dataSelector Redux selector to get the result. Required.\n * @param {Function} totalSelector Redux selector to get the total (optional, only for LIST queries)\n * @param {Function} isDataLoaded\n *\n * @returns The current request state. Destructure as { data, total, error, loading, loaded, refetch }.\n *\n * @example\n *\n * import { useQueryWithStore } from 'react-admin';\n *\n * const UserProfile = ({ record }) => {\n *     const { data, loading, error } = useQueryWithStore(\n *         {\n *             type: 'getOne',\n *             resource: 'users',\n *             payload: { id: record.id }\n *         },\n *         {},\n *         state => state.admin.resources.users.data[record.id]\n *     );\n *     if (loading) { return <Loading />; }\n *     if (error) { return <p>ERROR</p>; }\n *     return <div>User {data.username}</div>;\n * };\n */\nexport var useQueryWithStore = function (query, options, dataSelector, totalSelector, isDataLoaded) {\n    if (options === void 0) { options = { action: 'CUSTOM_QUERY' }; }\n    if (dataSelector === void 0) { dataSelector = defaultDataSelector(query); }\n    if (totalSelector === void 0) { totalSelector = defaultTotalSelector(query); }\n    if (isDataLoaded === void 0) { isDataLoaded = defaultIsDataLoaded; }\n    var type = query.type, resource = query.resource, payload = query.payload;\n    var version = useVersion(); // used to allow force reload\n    // used to force a refetch without relying on version\n    // which might trigger other queries as well\n    var _a = useState(0), innerVersion = _a[0], setInnerVersion = _a[1];\n    var requestSignature = JSON.stringify({\n        query: query,\n        options: options,\n        version: version,\n        innerVersion: innerVersion,\n    });\n    var requestSignatureRef = useRef(requestSignature);\n    var data = useSelector(dataSelector);\n    var total = useSelector(totalSelector);\n    var refetch = useCallback(function () {\n        setInnerVersion(function (prevInnerVersion) { return prevInnerVersion + 1; });\n    }, []);\n    var _b = useSafeSetState({\n        data: data,\n        total: total,\n        error: null,\n        loading: (options === null || options === void 0 ? void 0 : options.enabled) === false ? false : true,\n        loaded: (options === null || options === void 0 ? void 0 : options.enabled) === false ? false : isDataLoaded(data),\n        refetch: refetch,\n    }), state = _b[0], setState = _b[1];\n    useEffect(function () {\n        if (requestSignatureRef.current !== requestSignature) {\n            // request has changed, reset the loading state\n            requestSignatureRef.current = requestSignature;\n            setState({\n                data: data,\n                total: total,\n                error: null,\n                loading: (options === null || options === void 0 ? void 0 : options.enabled) === false ? false : true,\n                loaded: (options === null || options === void 0 ? void 0 : options.enabled) === false ? false : isDataLoaded(data),\n                refetch: refetch,\n            });\n        }\n        else if (!isEqual(state.data, data) || state.total !== total) {\n            // the dataProvider response arrived in the Redux store\n            if (typeof total !== 'undefined' && isNaN(total)) {\n                console.error('Total from response is not a number. Please check your dataProvider or the API.');\n            }\n            else {\n                setState(function (prevState) { return (__assign(__assign({}, prevState), { data: data,\n                    total: total, loaded: true, loading: false })); });\n            }\n        }\n    }, [\n        data,\n        requestSignature,\n        setState,\n        state.data,\n        state.total,\n        total,\n        isDataLoaded,\n        refetch,\n        options.enabled,\n    ]);\n    var dataProvider = useDataProvider();\n    useEffect(function () {\n        // When several identical queries are issued during the same tick,\n        // we only pass one query to the dataProvider.\n        // To achieve that, the closure keeps a list of dataProvider promises\n        // issued this tick. Before calling the dataProvider, this effect\n        // checks if another effect has already issued a similar dataProvider\n        // call.\n        if (!queriesThisTick.hasOwnProperty(requestSignature)) {\n            queriesThisTick[requestSignature] = new Promise(function (resolve) {\n                dataProvider[type](resource, payload, options)\n                    .then(function () {\n                    // We don't care about the dataProvider response here, because\n                    // it was already passed to SUCCESS reducers by the dataProvider\n                    // hook, and the result is available from the Redux store\n                    // through the data and total selectors.\n                    // In addition, if the query is optimistic, the response\n                    // will be empty, so it should not be used at all.\n                    if (requestSignature !== requestSignatureRef.current) {\n                        resolve(undefined);\n                    }\n                    resolve({\n                        error: null,\n                        loading: false,\n                        loaded: (options === null || options === void 0 ? void 0 : options.enabled) === false ? false : true,\n                    });\n                })\n                    .catch(function (error) {\n                    if (requestSignature !== requestSignatureRef.current) {\n                        resolve(undefined);\n                    }\n                    resolve({\n                        error: error,\n                        loading: false,\n                        loaded: false,\n                    });\n                });\n            });\n            // cleanup the list on next tick\n            setTimeout(function () {\n                delete queriesThisTick[requestSignature];\n            }, 0);\n        }\n        (function () { return __awaiter(void 0, void 0, void 0, function () {\n            var newState;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, queriesThisTick[requestSignature]];\n                    case 1:\n                        newState = _a.sent();\n                        if (newState)\n                            setState(function (state) { return (__assign(__assign({}, state), newState)); });\n                        return [2 /*return*/];\n                }\n            });\n        }); })();\n        // deep equality, see https://github.com/facebook/react/issues/14476#issuecomment-471199055\n    }, [requestSignature]); // eslint-disable-line\n    return state;\n};\n","import { useMemo, useRef } from 'react';\nimport get from 'lodash/get';\nimport { useQueryWithStore } from './useQueryWithStore';\nvar defaultIds = [];\nvar defaultData = {};\n/**\n * Call the dataProvider.getList() method and return the resolved result\n * as well as the loading state.\n *\n * Uses a special cache to avoid showing an empty list while re-fetching the\n * list after changing params.\n *\n * The return value updates according to the request state:\n *\n * - start: { loading: true, loaded: false, refetch }\n * - success: { data: [data from store], ids: [ids from response], total: [total from response], loading: false, loaded: true, refetch }\n * - error: { error: [error from response], loading: false, loaded: false, refetch }\n *\n * This hook will return the cached result when called a second time\n * with the same parameters, until the response arrives.\n *\n * @param {string} resource The resource name, e.g. 'posts'\n * @param {Object} pagination The request pagination { page, perPage }, e.g. { page: 1, perPage: 10 }\n * @param {Object} sort The request sort { field, order }, e.g. { field: 'id', order: 'DESC' }\n * @param {Object} filter The request filters, e.g. { title: 'hello, world' }\n * @param {Object} options Options object to pass to the dataProvider. May include side effects to be executed upon success or failure, e.g. { onSuccess: { refresh: true } }\n *\n * @returns The current request state. Destructure as { data, total, ids, error, loading, loaded, refetch }.\n *\n * @example\n *\n * import { useGetMainList } from 'react-admin';\n *\n * const LatestNews = () => {\n *     const { data, ids, loading, error } = useGetMainList(\n *         'posts',\n *         { page: 1, perPage: 10 },\n *         { field: 'published_at', order: 'DESC' }\n *     );\n *     if (loading) { return <Loading />; }\n *     if (error) { return <p>ERROR</p>; }\n *     return <ul>{ids.map(id =>\n *         <li key={id}>{data[id].title}</li>\n *     )}</ul>;\n * };\n */\nexport var useGetMainList = function (resource, pagination, sort, filter, options) {\n    var requestSignature = JSON.stringify({ pagination: pagination, sort: sort, filter: filter });\n    var memo = useRef({});\n    var _a = useQueryWithStore({ type: 'getList', resource: resource, payload: { pagination: pagination, sort: sort, filter: filter } }, options, \n    // ids and data selector\n    function (state) {\n        var ids = get(state.admin.resources, [\n            resource,\n            'list',\n            'cachedRequests',\n            requestSignature,\n            'ids',\n        ]); // default value undefined\n        var total = get(state.admin.resources, [\n            resource,\n            'list',\n            'cachedRequests',\n            requestSignature,\n            'total',\n        ]); // default value undefined\n        // When the user changes the page/sort/filter, the list of ids from\n        // the cached requests is empty. To avoid rendering an empty list\n        // at that moment, we override the ids and total with the latest\n        // loaded ones.\n        var mainIds = get(state.admin.resources, [\n            resource,\n            'list',\n            'ids',\n        ]); // default value [] (see list.ids reducer)\n        // Since the total can be empty during the loading phase\n        // We need to override that total with the latest loaded one\n        var mainTotal = get(state.admin.resources, [\n            resource,\n            'list',\n            'total',\n        ]); // default value null (see list.total reducer)\n        // Is [] for a page that was never loaded\n        var finalIds = typeof ids === 'undefined' ? mainIds : ids;\n        // Is null for a page that was never loaded.\n        var finalTotal = typeof total === 'undefined' ? mainTotal : total;\n        var allRecords = get(state.admin.resources, [resource, 'data'], defaultData);\n        // poor man's useMemo inside a hook using a ref\n        if (memo.current.finalIds !== finalIds ||\n            memo.current.finalTotal !== finalTotal ||\n            memo.current.allRecords !== allRecords) {\n            var result = {\n                finalIds: finalIds,\n                finalTotal: finalTotal,\n                allRecords: allRecords,\n            };\n            memo.current = { finalIds: finalIds, finalTotal: finalTotal, allRecords: allRecords, result: result };\n        }\n        return memo.current.result;\n    }, function () { return null; }, isDataLoaded), _b = _a.data, finalIds = _b.finalIds, finalTotal = _b.finalTotal, allRecords = _b.allRecords, error = _a.error, loading = _a.loading, loaded = _a.loaded, refetch = _a.refetch;\n    var data = useMemo(function () {\n        return typeof finalIds === 'undefined'\n            ? defaultData\n            : finalIds\n                .map(function (id) { return allRecords[id]; })\n                .reduce(function (acc, record) {\n                if (!record)\n                    return acc;\n                acc[record.id] = record;\n                return acc;\n            }, {});\n    }, [finalIds, allRecords]);\n    return {\n        data: data,\n        ids: typeof finalIds === 'undefined' ? defaultIds : finalIds,\n        total: finalTotal,\n        error: error,\n        loading: loading,\n        loaded: loaded,\n        refetch: refetch,\n    };\n};\nvar isDataLoaded = function (data) { return data.finalTotal != null; }; // null or undefined\n","import jsonExport from 'jsonexport/dist';\nimport downloadCSV from './downloadCSV';\nvar defaultExporter = function (data, _, __, resource) {\n    return jsonExport(data, function (err, csv) { return downloadCSV(csv, resource); });\n};\nexport default defaultExporter;\n","export default (function (csv, filename) {\n    var fakeLink = document.createElement('a');\n    fakeLink.style.display = 'none';\n    document.body.appendChild(fakeLink);\n    var blob = new Blob([csv], { type: 'text/csv;charset=utf-8' });\n    if (window.navigator && window.navigator.msSaveOrOpenBlob) {\n        // Manage IE11+ & Edge\n        window.navigator.msSaveOrOpenBlob(blob, filename + \".csv\");\n    }\n    else {\n        fakeLink.setAttribute('href', URL.createObjectURL(blob));\n        fakeLink.setAttribute('download', filename + \".csv\");\n        fakeLink.click();\n    }\n});\n","import { useContext } from 'react';\nimport { ResourceContext } from './ResourceContext';\n/**\n * Hook to read the resource from the ResourceContext.\n *\n * Must be used within a <ResourceContextProvider> (e.g. as a descendent of <Resource>\n * or any reference related components), or called with a resource prop.\n *\n * @example\n *\n * const ResourceName = (props) => {\n *   const { resource } = useResourceContext(props);\n *   const getResourceLabel = useGetResourceLabel();\n *   return <>{getResourceLabel(resource, 1)}</>;\n * }\n *\n * // use it in a resource context\n * const MyComponent = () => (\n *   <ResourceContextProvider value=\"posts\">\n *     <ResourceName />\n *     ...\n *   </ResourceContextProvider>\n * );\n *\n * // override resource via props\n * const MyComponent = () => (\n *   <>\n *     <ResourceName resource=\"posts\"/>\n *     ...\n *   </>\n * );\n *\n * @returns {ResourceContextValue} The resource name, e.g. 'posts'\n */\nexport var useResourceContext = function (props) {\n    var context = useContext(ResourceContext);\n    return (props && props.resource) || context;\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { isValidElement, useEffect, useMemo } from 'react';\nimport { useCheckMinimumRequiredProps } from './checkMinimumRequiredProps';\nimport useListParams from './useListParams';\nimport useRecordSelection from './useRecordSelection';\nimport useTranslate from '../i18n/useTranslate';\nimport useNotify from '../sideEffect/useNotify';\nimport { useGetMainList } from '../dataProvider/useGetMainList';\nimport { SORT_ASC } from '../reducer/admin/resource/list/queryReducer';\nimport { CRUD_GET_LIST } from '../actions';\nimport defaultExporter from '../export/defaultExporter';\nimport { useResourceContext, useGetResourceLabel } from '../core';\nvar defaultSort = {\n    field: 'id',\n    order: SORT_ASC,\n};\n/**\n * Prepare data for the List view\n *\n * @param {Object} props The props passed to the List component.\n *\n * @return {Object} controllerProps Fetched and computed data for the List view\n *\n * @example\n *\n * import { useListController } from 'react-admin';\n * import ListView from './ListView';\n *\n * const MyList = props => {\n *     const controllerProps = useListController(props);\n *     return <ListView {...controllerProps} {...props} />;\n * }\n */\nvar useListController = function (props) {\n    useCheckMinimumRequiredProps('List', ['basePath'], props);\n    var basePath = props.basePath, _a = props.exporter, exporter = _a === void 0 ? defaultExporter : _a, filterDefaultValues = props.filterDefaultValues, hasCreate = props.hasCreate, _b = props.sort, sort = _b === void 0 ? defaultSort : _b, _c = props.perPage, perPage = _c === void 0 ? 10 : _c, filter = props.filter, _d = props.debounce, debounce = _d === void 0 ? 500 : _d, syncWithLocation = props.syncWithLocation;\n    var resource = useResourceContext(props);\n    if (!resource) {\n        throw new Error(\"<List> was called outside of a ResourceContext and without a resource prop. You must set the resource prop.\");\n    }\n    if (filter && isValidElement(filter)) {\n        throw new Error('<List> received a React element as `filter` props. If you intended to set the list filter elements, use the `filters` (with an s) prop instead. The `filter` prop is internal and should not be set by the developer.');\n    }\n    var translate = useTranslate();\n    var notify = useNotify();\n    var _e = useListParams({\n        resource: resource,\n        filterDefaultValues: filterDefaultValues,\n        sort: sort,\n        perPage: perPage,\n        debounce: debounce,\n        syncWithLocation: syncWithLocation,\n    }), query = _e[0], queryModifiers = _e[1];\n    var _f = useRecordSelection(resource), selectedIds = _f[0], selectionModifiers = _f[1];\n    /**\n     * We want the list of ids to be always available for optimistic rendering,\n     * and therefore we need a custom action (CRUD_GET_LIST) that will be used.\n     */\n    var _g = useGetMainList(resource, {\n        page: query.page,\n        perPage: query.perPage,\n    }, { field: query.sort, order: query.order }, __assign(__assign({}, query.filter), filter), {\n        action: CRUD_GET_LIST,\n        onFailure: function (error) {\n            return notify(typeof error === 'string'\n                ? error\n                : error.message || 'ra.notification.http_error', 'warning', {\n                _: typeof error === 'string'\n                    ? error\n                    : error && error.message\n                        ? error.message\n                        : undefined,\n            });\n        },\n    }), ids = _g.ids, data = _g.data, total = _g.total, error = _g.error, loading = _g.loading, loaded = _g.loaded, refetch = _g.refetch;\n    var totalPages = Math.ceil(total / query.perPage) || 1;\n    useEffect(function () {\n        if (query.page <= 0 ||\n            (!loading && query.page > 1 && ids.length === 0)) {\n            // Query for a page that doesn't exist, set page to 1\n            queryModifiers.setPage(1);\n        }\n        else if (!loading && query.page > totalPages) {\n            // Query for a page out of bounds, set page to the last existing page\n            // It occurs when deleting the last element of the last page\n            queryModifiers.setPage(totalPages);\n        }\n    }, [loading, query.page, ids, queryModifiers, total, totalPages]);\n    var currentSort = useMemo(function () { return ({\n        field: query.sort,\n        order: query.order,\n    }); }, [query.sort, query.order]);\n    var getResourceLabel = useGetResourceLabel();\n    var defaultTitle = translate('ra.page.list', {\n        name: getResourceLabel(resource, 2),\n    });\n    return {\n        basePath: basePath,\n        currentSort: currentSort,\n        data: data,\n        defaultTitle: defaultTitle,\n        displayedFilters: query.displayedFilters,\n        error: error,\n        exporter: exporter,\n        filter: filter,\n        filterValues: query.filterValues,\n        hasCreate: hasCreate,\n        hideFilter: queryModifiers.hideFilter,\n        ids: ids,\n        loaded: loaded || ids.length > 0,\n        loading: loading,\n        onSelect: selectionModifiers.select,\n        onToggleItem: selectionModifiers.toggle,\n        onUnselectItems: selectionModifiers.clearSelection,\n        page: query.page,\n        perPage: query.perPage,\n        refetch: refetch,\n        resource: resource,\n        selectedIds: selectedIds,\n        setFilters: queryModifiers.setFilters,\n        setPage: queryModifiers.setPage,\n        setPerPage: queryModifiers.setPerPage,\n        setSort: queryModifiers.setSort,\n        showFilter: queryModifiers.showFilter,\n        total: total,\n    };\n};\nexport var injectedProps = [\n    'basePath',\n    'currentSort',\n    'data',\n    'defaultTitle',\n    'displayedFilters',\n    'error',\n    'exporter',\n    'filterValues',\n    'hasCreate',\n    'hideFilter',\n    'ids',\n    'loading',\n    'loaded',\n    'onSelect',\n    'onToggleItem',\n    'onUnselectItems',\n    'page',\n    'perPage',\n    'refetch',\n    'refresh',\n    'resource',\n    'selectedIds',\n    'setFilters',\n    'setPage',\n    'setPerPage',\n    'setSort',\n    'showFilter',\n    'total',\n    'totalPages',\n    'version',\n];\n/**\n * Select the props injected by the useListController hook\n * to be passed to the List children need\n * This is an implementation of pick()\n */\nexport var getListControllerProps = function (props) {\n    return injectedProps.reduce(function (acc, key) {\n        var _a;\n        return (__assign(__assign({}, acc), (_a = {}, _a[key] = props[key], _a)));\n    }, {});\n};\n/**\n * Select the props not injected by the useListController hook\n * to be used inside the List children to sanitize props injected by List\n * This is an implementation of omit()\n */\nexport var sanitizeListRestProps = function (props) {\n    return Object.keys(props)\n        .filter(function (propName) { return !injectedProps.includes(propName); })\n        .reduce(function (acc, key) {\n        var _a;\n        return (__assign(__assign({}, acc), (_a = {}, _a[key] = props[key], _a)));\n    }, {});\n};\nexport default useListController;\n","import { createContext } from 'react';\n/**\n * Context to store the result of the useListController() hook.\n *\n * Use the useListContext() hook to read the context. That's what many\n * List components do in react-admin (e.g. <Datagrid>, <FilterForm>, <Pagination>).\n *\n * @typedef {Object} ListControllerProps\n * @prop {Object}   data an id-based dictionary of the list data, e.g. { 123: { id: 123, title: 'hello world' }, 456: { ... } }\n * @prop {Array}    ids an array listing the ids of the records in the list, e.g. [123, 456, ...]\n * @prop {integer}  total the total number of results for the current filters, excluding pagination. Useful to build the pagination controls. e.g. 23\n * @prop {boolean}  loaded boolean that is false until the data is available\n * @prop {boolean}  loading boolean that is true on mount, and false once the data was fetched\n * @prop {integer}  page the current page. Starts at 1\n * @prop {Function} setPage a callback to change the page, e.g. setPage(3)\n * @prop {integer}  perPage the number of results per page. Defaults to 25\n * @prop {Function} setPerPage a callback to change the number of results per page, e.g. setPerPage(25)\n * @prop {Object}   currentSort a sort object { field, order }, e.g. { field: 'date', order: 'DESC' }\n * @prop {Function} setSort a callback to change the sort, e.g. setSort('name', 'ASC')\n * @prop {Object}   filterValues a dictionary of filter values, e.g. { title: 'lorem', nationality: 'fr' }\n * @prop {Function} setFilters a callback to update the filters, e.g. setFilters(filters, displayedFilters)\n * @prop {Object}   displayedFilters a dictionary of the displayed filters, e.g. { title: true, nationality: true }\n * @prop {Function} showFilter a callback to show one of the filters, e.g. showFilter('title', defaultValue)\n * @prop {Function} hideFilter a callback to hide one of the filters, e.g. hideFilter('title')\n * @prop {Array}    selectedIds an array listing the ids of the selected rows, e.g. [123, 456]\n * @prop {Function} onSelect callback to change the list of selected rows, e.g. onSelect([456, 789])\n * @prop {Function} onToggleItem callback to toggle the selection of a given record based on its id, e.g. onToggleItem(456)\n * @prop {Function} onUnselectItems callback to clear the selection, e.g. onUnselectItems();\n * @prop {string}   basePath deduced from the location, useful for action buttons\n * @prop {string}   defaultTitle the translated title based on the resource, e.g. 'Posts'\n * @prop {string}   resource the resource name, deduced from the location. e.g. 'posts'\n * @prop {Function} refetch a function for triggering a refetch of the list data\n *\n * @typedef Props\n * @prop {ListControllerProps} value\n *\n * @param {Props}\n *\n * @see useListController\n * @see useListContext\n *\n * @example\n *\n * import { useListController, ListContext } from 'ra-core';\n *\n * const List = props => {\n *     const controllerProps = useListController(props);\n *     return (\n *         <ListContext.Provider value={controllerProps}>\n *             ...\n *         </ListContext.Provider>\n *     );\n * };\n */\nvar ListContext = createContext({\n    basePath: null,\n    currentSort: null,\n    data: null,\n    defaultTitle: null,\n    displayedFilters: null,\n    filterValues: null,\n    hasCreate: null,\n    hideFilter: null,\n    ids: null,\n    loaded: null,\n    loading: null,\n    onSelect: null,\n    onToggleItem: null,\n    onUnselectItems: null,\n    page: null,\n    perPage: null,\n    refetch: null,\n    resource: null,\n    selectedIds: null,\n    setFilters: null,\n    setPage: null,\n    setPerPage: null,\n    setSort: null,\n    showFilter: null,\n    total: null,\n});\nListContext.displayName = 'ListContext';\nexport default ListContext;\n","import { createContext, useMemo } from 'react';\nimport pick from 'lodash/pick';\n/**\n * Context to store the filter part of the useListController() result.\n *\n * Use the useListFilterContext() hook to read the context. That's what many\n * List components do in react-admin (e.g. <FilterForm>, <FilterListItem>).\n *\n * @typedef {Object} ListFilterContextValue\n * @prop {Object}   filterValues a dictionary of filter values, e.g. { title: 'lorem', nationality: 'fr' }\n * @prop {Function} setFilters a callback to update the filters, e.g. setFilters(filters, displayedFilters)\n * @prop {Object}   displayedFilters a dictionary of the displayed filters, e.g. { title: true, nationality: true }\n * @prop {Function} showFilter a callback to show one of the filters, e.g. showFilter('title', defaultValue)\n * @prop {Function} hideFilter a callback to hide one of the filters, e.g. hideFilter('title')\n * @prop {string}   resource the resource name, deduced from the location. e.g. 'posts'\n *\n * @typedef Props\n * @prop {ListFilterContextValue} value\n *\n * @param {Props}\n *\n * @see useListController\n * @see useListFilterContext\n *\n * @example\n *\n * import { useListController, usePickFilterContext, ListFilterContext } from 'ra-core';\n *\n * const List = props => {\n *     const controllerProps = useListController(props);\n *     return (\n *         <ListFilterContext.Provider value={usePickFilterContext(controllerProps)}>\n *             ...\n *         </ListFilterContext.Provider>\n *     );\n * };\n */\nvar ListFilterContext = createContext({\n    displayedFilters: null,\n    filterValues: null,\n    hideFilter: null,\n    setFilters: null,\n    showFilter: null,\n    resource: null,\n});\nexport var usePickFilterContext = function (context) {\n    return useMemo(function () {\n        return pick(context, [\n            'displayedFilters',\n            'filterValues',\n            'hideFilter',\n            'setFilters',\n            'showFilter',\n            'resource',\n        ]);\n    }, \n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [\n        context.displayedFilters,\n        context.filterValues,\n        context.hideFilter,\n        context.setFilters,\n        context.showFilter,\n    ]);\n};\nListFilterContext.displayName = 'ListFilterContext';\nexport default ListFilterContext;\n","import { createContext, useMemo } from 'react';\nimport pick from 'lodash/pick';\n/**\n * Context to store the sort part of the useListController() result.\n *\n * Use the useListSortContext() hook to read the context. That's what many\n * List components do in react-admin (e.g. <SortButton>).\n *\n * @typedef {Object} ListSortContextValue\n * @prop {Object}   currentSort a sort object { field, order }, e.g. { field: 'date', order: 'DESC' }\n * @prop {Function} setSort a callback to change the sort, e.g. setSort('name', 'ASC')\n * @prop {string}   resource the resource name, deduced from the location. e.g. 'posts'\n *\n * @typedef Props\n * @prop {ListSortContextValue} value\n *\n * @param {Props}\n *\n * @see useListController\n * @see useListSortContext\n *\n * @example\n *\n * import { useListController, usePickSortContext, ListSortContext } from 'ra-core';\n *\n * const List = props => {\n *     const controllerProps = useListController(props);\n *     return (\n *         <ListSortContext.Provider value={usePickSortContext(controllerProps)}>\n *             ...\n *         </ListSortContext.Provider>\n *     );\n * };\n */\nvar ListSortContext = createContext({\n    currentSort: null,\n    setSort: null,\n    resource: null,\n});\nexport var usePickSortContext = function (context) {\n    return useMemo(function () { return pick(context, ['currentSort', 'setSort', 'resource']); }, \n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [context.currentSort, context.setSort]);\n};\nListSortContext.displayName = 'ListSortContext';\nexport default ListSortContext;\n","import { createContext, useMemo } from 'react';\nimport pick from 'lodash/pick';\n/**\n * Context to store the pagination part of the useListController() result.\n *\n * Use the useListPaginationContext() hook to read the pagination information.\n * That's what List components do in react-admin (e.g. <Pagination>).\n *\n * @typedef {Object} ListPaginationContextValue\n * @prop {boolean}  loading boolean that is true on mount, and false once the data was fetched\n * @prop {integer}  total the total number of results for the current filters, excluding pagination. Useful to build the pagination controls. e.g. 23\n * @prop {integer}  page the current page. Starts at 1\n * @prop {Function} setPage a callback to change the page, e.g. setPage(3)\n * @prop {integer}  perPage the number of results per page. Defaults to 25\n * @prop {Function} setPerPage a callback to change the number of results per page, e.g. setPerPage(25)\n * @prop {string}   resource the resource name, deduced from the location. e.g. 'posts'\n *\n * @typedef Props\n * @prop {ListPaginationContextValue} value\n *\n * @param {Props}\n *\n * @see useListController\n * @see useListContext\n *\n * @example\n *\n * import { useListController, ListPaginationContext } from 'ra-core';\n *\n * const List = props => {\n *     const controllerProps = useListController(props);\n *     return (\n *         <ListPaginationContext.Provider value={controllerProps}>\n *             ...\n *         </ListPaginationContext.Provider>\n *     );\n * };\n */\nvar ListPaginationContext = createContext({\n    loading: null,\n    page: null,\n    perPage: null,\n    setPage: null,\n    setPerPage: null,\n    total: null,\n    resource: null,\n});\nListPaginationContext.displayName = 'ListPaginationContext';\nexport var usePickPaginationContext = function (context) {\n    return useMemo(function () {\n        return pick(context, [\n            'loading',\n            'page',\n            'perPage',\n            'setPage',\n            'setPerPage',\n            'total',\n            'resource',\n        ]);\n    }, \n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [\n        context.loading,\n        context.page,\n        context.perPage,\n        context.setPage,\n        context.setPerPage,\n        context.total,\n    ]);\n};\nexport default ListPaginationContext;\n","import * as React from 'react';\nimport ListContext from './ListContext';\nimport ListFilterContext, { usePickFilterContext } from './ListFilterContext';\nimport ListSortContext, { usePickSortContext } from './ListSortContext';\nimport ListPaginationContext, { usePickPaginationContext, } from './ListPaginationContext';\n/**\n * Create a List Context and several thematic List subcontext.\n *\n * Allows children to subscribe to part of the ListContext, and bail out of\n * rendering when some parts of the context that they don't depend on change\n * (because unfortunately React doesn't allow to use context selectors yet).\n *\n * @example\n *\n * const MyList = (props) => {\n *     const controllerProps = useListController(props);\n *     return (\n *         <ListContextProvider value={controllerProps}>\n *             <MyListView>\n *         </ListContextProvider>\n *     );\n * };\n *\n * const MyListView = () => {\n *     const { data, ids, filterValues, setFilters } = useListContext();\n *     // or, to rerender only when filters change but not data\n *     const { filterValues, setFilters } = useListFilterContext();\n * }\n *\n * @see ListContext\n * @see ListFilterContext\n */\nvar ListContextProvider = function (_a) {\n    var value = _a.value, children = _a.children;\n    return (React.createElement(ListContext.Provider, { value: value },\n        React.createElement(ListFilterContext.Provider, { value: usePickFilterContext(value) },\n            React.createElement(ListSortContext.Provider, { value: usePickSortContext(value) },\n                React.createElement(ListPaginationContext.Provider, { value: usePickPaginationContext(value) }, children)))));\n};\nexport default ListContextProvider;\n","/**\n * Gets a list of values indexed by field based on a list of records\n *\n * @example\n * const records = [\n *     {\n *         id: 1,\n *         title: \"Lorem Ipsum\",\n *         views: 254,\n *         user_id: 123,\n *     },\n *     {\n *         id: 2,\n *         title: \"Sic Dolor amet\",\n *         views: 65,\n *         user_id: 456,\n *     },\n * ];\n * getValuesFromRecords(records);\n * // {\n * //    id: [1, 2],\n * //    title: ['Lorem Ipsum', 'Sic Dolor amet'],\n * //    views: [254, 65],\n * //    user_id: [123, 456],\n * // }\n */\nexport default (function (records) {\n    return records.reduce(function (values, record) {\n        Object.keys(record).forEach(function (fieldName) {\n            if (!values[fieldName]) {\n                values[fieldName] = [];\n            }\n            if (record[fieldName] != null) {\n                var value = Array.isArray(record[fieldName])\n                    ? [record[fieldName]]\n                    : record[fieldName];\n                values[fieldName] = values[fieldName].concat(value);\n            }\n        });\n        return values;\n    }, {});\n});\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { createElement } from 'react';\nvar InferredElement = /** @class */ (function () {\n    function InferredElement(type, props, children) {\n        this.type = type;\n        this.props = props;\n        this.children = children;\n    }\n    InferredElement.prototype.getElement = function (props) {\n        if (props === void 0) { props = {}; }\n        if (!this.isDefined()) {\n            return;\n        }\n        return this.children\n            ? createElement(this.type.component, __assign(__assign({}, this.props), props), this.children.length > 0\n                ? this.children.map(function (child, index) {\n                    return child.getElement({ key: index });\n                })\n                : this.children.getElement())\n            : createElement(this.type.component, __assign(__assign({}, this.props), props));\n    };\n    InferredElement.prototype.getProps = function () {\n        return this.props;\n    };\n    InferredElement.prototype.isDefined = function () {\n        return !!this.type;\n    };\n    InferredElement.prototype.getRepresentation = function () {\n        if (!this.isDefined()) {\n            return;\n        }\n        if (this.type.representation) {\n            return this.type.representation(this.props, this.children);\n        }\n        return \"<\" + (this.type.component.displayName || this.type.component.name) + \" source=\\\"\" + this.props.source + \"\\\" />\";\n    };\n    return InferredElement;\n}());\nexport default InferredElement;\n","import isValid from 'date-fns/is_valid';\nimport parseDate from 'date-fns/parse';\nexport var isNumeric = function (value) {\n    return !isNaN(parseFloat(value)) && isFinite(value);\n};\nexport var valuesAreNumeric = function (values) { return values.every(isNumeric); };\nexport var isInteger = function (value) {\n    return Number.isInteger(value) || !isNaN(parseInt(value));\n};\nexport var valuesAreInteger = function (values) { return values.every(isInteger); };\nexport var isBoolean = function (value) { return typeof value === 'boolean'; };\nexport var valuesAreBoolean = function (values) { return values.every(isBoolean); };\nexport var isBooleanString = function (value) {\n    return ['true', 'false'].includes(value.toString().toLowerCase());\n};\nexport var valuesAreBooleanString = function (values) {\n    return values.every(isBooleanString);\n};\nexport var isString = function (value) { return typeof value === 'string'; };\nexport var valuesAreString = function (values) { return values.every(isString); };\nvar HtmlRegexp = /<([A-Z][A-Z0-9]*)\\b[^>]*>(.*?)<\\/\\1>/i;\nexport var isHtml = function (value) { return !value || HtmlRegexp.test(value); };\nexport var valuesAreHtml = function (values) { return values.every(isHtml); };\nvar UrlRegexp = /http(s*):\\/\\/.*/i;\nexport var isUrl = function (value) { return !value || UrlRegexp.test(value); };\nexport var valuesAreUrl = function (values) { return values.every(isUrl); };\nvar ImageUrlRegexp = /http(s*):\\/\\/.*\\.(jpeg|jpg|jfif|pjpeg|pjp|png|svg|gif|webp|apng|bmp|ico|cur|tif|tiff)/i;\nexport var isImageUrl = function (value) { return !value || ImageUrlRegexp.test(value); };\nexport var valuesAreImageUrl = function (values) { return values.every(isImageUrl); };\n// This is a very simple regex to find emails\n// It it NOT meant to validate emails as the spec is way more complicated but is\n// enough for our inference needs\nvar EmailRegexp = /@{1}/;\nexport var isEmail = function (value) { return !value || EmailRegexp.test(value); };\nexport var valuesAreEmail = function (values) { return values.every(isEmail); };\nexport var isArray = function (value) { return Array.isArray(value); };\nexport var valuesAreArray = function (values) { return values.every(isArray); };\nexport var isDate = function (value) { return !value || value instanceof Date; };\nexport var valuesAreDate = function (values) { return values.every(isDate); };\nexport var isDateString = function (value) {\n    return !value || (typeof value === 'string' && isValid(parseDate(value)));\n};\nexport var valuesAreDateString = function (values) {\n    return values.every(isDateString);\n};\nexport var isObject = function (value) {\n    return Object.prototype.toString.call(value) === '[object Object]';\n};\nexport var valuesAreObject = function (values) { return values.every(isObject); };\n","import * as React from 'react';\nimport inflection from 'inflection';\nimport getValuesFromRecords from './getValuesFromRecords';\nimport InferredElement from './InferredElement';\nimport { isObject, valuesAreArray, valuesAreBoolean, valuesAreDate, valuesAreDateString, valuesAreHtml, valuesAreInteger, valuesAreNumeric, valuesAreObject, valuesAreString, } from './assertions';\nvar DefaultComponent = function () { return React.createElement(\"span\", null, \";\"); };\nvar defaultType = {\n    type: DefaultComponent,\n    representation: function () { return '<DefaultComponent />'; },\n};\nvar defaultTypes = {\n    array: defaultType,\n    boolean: defaultType,\n    date: defaultType,\n    email: defaultType,\n    id: defaultType,\n    number: defaultType,\n    reference: defaultType,\n    referenceArray: defaultType,\n    richText: defaultType,\n    string: defaultType,\n    url: defaultType,\n};\nvar hasType = function (type, types) { return typeof types[type] !== 'undefined'; };\n/**\n * Guesses an element based on an array of values\n *\n * @example\n *     inferElementFromValues(\n *         'address',\n *         ['2 Baker Street', '1 Downing street'],\n *         { number: NumberField, string: StringField }\n *     );\n *     // new InferredElement(<StringField source=\"address\" />)\n *\n * Types are optional: if a type isn't provided, the function falls back\n * to the nearest type.\n *\n * @example\n *     inferElementFromValues(\n *         'content',\n *         ['<h1>Hello</h1>'],\n *         { string: StringField } // no richText type\n *     );\n *     // new InferredElement(<StringField source=\"content\" />)\n *\n * Types can be disabled by passing a falsy value.\n *\n * @example\n *     inferElementFromValues(\n *         'content',\n *         ['<h1>Hello</h1>'],\n *         { string: StringField, richText: false }\n *     );\n *     // null\n *\n * @param {string} name Property name, e.g. 'date_of_birth'\n * @param {any[]} values an array of values from which to determine the type, e.g. [12, 34.4, 43]\n * @param {Object} types A set of components indexed by type. The string type is the only required one\n *\n * @return InferredElement\n */\nvar inferElementFromValues = function (name, values, types) {\n    if (values === void 0) { values = []; }\n    if (types === void 0) { types = defaultTypes; }\n    if (name === 'id' && hasType('id', types)) {\n        return new InferredElement(types.id, { source: name });\n    }\n    if (name.substr(name.length - 3) === '_id' && hasType('reference', types)) {\n        var reference = inflection.pluralize(name.substr(0, name.length - 3));\n        return (types.reference &&\n            new InferredElement(types.reference, {\n                source: name,\n                reference: reference,\n            }, new InferredElement(types.referenceChild)));\n    }\n    if (name.substr(name.length - 2) === 'Id' && hasType('reference', types)) {\n        var reference = inflection.pluralize(name.substr(0, name.length - 2));\n        return (types.reference &&\n            new InferredElement(types.reference, {\n                source: name,\n                reference: reference,\n            }, new InferredElement(types.referenceChild)));\n    }\n    if (name.substr(name.length - 4) === '_ids' &&\n        hasType('referenceArray', types)) {\n        var reference = inflection.pluralize(name.substr(0, name.length - 4));\n        return (types.referenceArray &&\n            new InferredElement(types.referenceArray, {\n                source: name,\n                reference: reference,\n            }, new InferredElement(types.referenceArrayChild)));\n    }\n    if (name.substr(name.length - 3) === 'Ids' &&\n        hasType('referenceArray', types)) {\n        var reference = inflection.pluralize(name.substr(0, name.length - 3));\n        return (types.referenceArray &&\n            new InferredElement(types.referenceArray, {\n                source: name,\n                reference: reference,\n            }, new InferredElement(types.referenceArrayChild)));\n    }\n    if (values.length === 0) {\n        // FIXME introspect further using name\n        return new InferredElement(types.string, { source: name });\n    }\n    if (valuesAreArray(values)) {\n        if (isObject(values[0][0]) && hasType('array', types)) {\n            var leafValues_1 = getValuesFromRecords(values.reduce(function (acc, vals) { return acc.concat(vals); }, []));\n            // FIXME bad visual representation\n            return (types.array &&\n                new InferredElement(types.array, {\n                    source: name,\n                }, Object.keys(leafValues_1).map(function (leafName) {\n                    return inferElementFromValues(leafName, leafValues_1[leafName], types);\n                })));\n        }\n        // FIXME introspect further\n        return new InferredElement(types.string, { source: name });\n    }\n    if (valuesAreBoolean(values) && hasType('boolean', types)) {\n        return new InferredElement(types.boolean, { source: name });\n    }\n    if (valuesAreDate(values) && hasType('date', types)) {\n        return new InferredElement(types.date, { source: name });\n    }\n    if (valuesAreString(values)) {\n        if (name === 'email' && hasType('email', types)) {\n            return new InferredElement(types.email, { source: name });\n        }\n        if (name === 'url' && hasType('url', types)) {\n            return new InferredElement(types.url, { source: name });\n        }\n        if (valuesAreDateString(values) && hasType('date', types)) {\n            return new InferredElement(types.date, { source: name });\n        }\n        if (valuesAreHtml(values) && hasType('richText', types)) {\n            return new InferredElement(types.richText, { source: name });\n        }\n        return new InferredElement(types.string, { source: name });\n    }\n    if ((valuesAreInteger(values) || valuesAreNumeric(values)) &&\n        hasType('number', types)) {\n        return new InferredElement(types.number, { source: name });\n    }\n    if (valuesAreObject(values)) {\n        // we need to go deeper\n        // Arbitrarily, choose the first prop of the first object\n        var propName_1 = Object.keys(values[0]).shift();\n        var leafValues = values.map(function (v) { return v[propName_1]; });\n        return inferElementFromValues(name + \".\" + propName_1, leafValues, types);\n    }\n    return new InferredElement(types.string, { source: name });\n};\nexport default inferElementFromValues;\n","import { useContext, useMemo } from 'react';\nimport defaults from 'lodash/defaults';\nimport ListContext from './ListContext';\n/**\n * Hook to read the list controller props from the ListContext.\n *\n * Mostly used within a <ListContext.Provider> (e.g. as a descendent of <List>\n * or <ListBase>).\n *\n * But you can also use it without a <ListContext.Provider>. In this case, it is up to you\n * to pass all the necessary props (see the list below).\n *\n * The given props will take precedence over context values.\n *\n * @typedef {Object} ListControllerProps\n * @prop {Object}   data an id-based dictionary of the list data, e.g. { 123: { id: 123, title: 'hello world' }, 456: { ... } }\n * @prop {Array}    ids an array listing the ids of the records in the list, e.g. [123, 456, ...]\n * @prop {integer}  total the total number of results for the current filters, excluding pagination. Useful to build the pagination controls. e.g. 23\n * @prop {boolean}  loaded boolean that is false until the data is available\n * @prop {boolean}  loading boolean that is true on mount, and false once the data was fetched\n * @prop {integer}  page the current page. Starts at 1\n * @prop {Function} setPage a callback to change the page, e.g. setPage(3)\n * @prop {integer}  perPage the number of results per page. Defaults to 25\n * @prop {Function} setPerPage a callback to change the number of results per page, e.g. setPerPage(25)\n * @prop {Object}   currentSort a sort object { field, order }, e.g. { field: 'date', order: 'DESC' }\n * @prop {Function} setSort a callback to change the sort, e.g. setSort('name', 'ASC')\n * @prop {Object}   filterValues a dictionary of filter values, e.g. { title: 'lorem', nationality: 'fr' }\n * @prop {Function} setFilters a callback to update the filters, e.g. setFilters(filters, displayedFilters)\n * @prop {Object}   displayedFilters a dictionary of the displayed filters, e.g. { title: true, nationality: true }\n * @prop {Function} showFilter a callback to show one of the filters, e.g. showFilter('title', defaultValue)\n * @prop {Function} hideFilter a callback to hide one of the filters, e.g. hideFilter('title')\n * @prop {Array}    selectedIds an array listing the ids of the selected rows, e.g. [123, 456]\n * @prop {Function} onSelect callback to change the list of selected rows, e.g. onSelect([456, 789])\n * @prop {Function} onToggleItem callback to toggle the selection of a given record based on its id, e.g. onToggleItem(456)\n * @prop {Function} onUnselectItems callback to clear the selection, e.g. onUnselectItems();\n * @prop {string}   basePath deduced from the location, useful for action buttons\n * @prop {string}   defaultTitle the translated title based on the resource, e.g. 'Posts'\n * @prop {string}   resource the resource name, deduced from the location. e.g. 'posts'\n *\n * @returns {ListControllerProps} list controller props\n *\n * @see useListController for how it is filled\n *\n * @example // custom list view\n *\n * import { useListContext } from 'react-admin';\n *\n * const MyList = () => {\n *     const { data, ids, loaded } = useListContext();\n *     if (!loaded) {\n *         return <>Loading...</>;\n *     }\n *     const records = ids.map(id => data[id]);\n *     return (\n *         <ul>\n *             {records.map(record => (\n *                 <li key={record.id}>{record.name}</li>\n *             ))}\n *         </ul>\n *     );\n * }\n *\n * @example // custom pagination\n *\n * import { useListContext } from 'react-admin';\n * import { Button, Toolbar } from '@material-ui/core';\n * import ChevronLeft from '@material-ui/icons/ChevronLeft';\n * import ChevronRight from '@material-ui/icons/ChevronRight';\n *\n * const PrevNextPagination = () => {\n *     const { page, perPage, total, setPage } = useListContext();\n *     const nbPages = Math.ceil(total / perPage) || 1;\n *     return (\n *         nbPages > 1 &&\n *             <Toolbar>\n *                 {page > 1 &&\n *                     <Button color=\"primary\" key=\"prev\" onClick={() => setPage(page - 1)}>\n *                         <ChevronLeft />\n *                         Prev\n *                     </Button>\n *                 }\n *                 {page !== nbPages &&\n *                     <Button color=\"primary\" key=\"next\" onClick={() => setPage(page + 1)}>\n *                         Next\n *                         <ChevronRight />\n *                     </Button>\n *                 }\n *             </Toolbar>\n *     );\n * }\n */\nvar useListContext = function (props) {\n    var context = useContext(ListContext);\n    // Props take precedence over the context\n    // @ts-ignore\n    return useMemo(function () {\n        return defaults({}, props != null ? extractListContextProps(props) : {}, context);\n    }, [context, props]);\n};\nexport default useListContext;\n/**\n * Extract only the list controller props\n *\n * @param {Object} props Props passed to the useListContext hook\n *\n * @returns {ListControllerProps} List controller props\n */\nvar extractListContextProps = function (_a) {\n    var basePath = _a.basePath, currentSort = _a.currentSort, data = _a.data, defaultTitle = _a.defaultTitle, displayedFilters = _a.displayedFilters, filterValues = _a.filterValues, hasCreate = _a.hasCreate, hideFilter = _a.hideFilter, ids = _a.ids, loaded = _a.loaded, loading = _a.loading, onSelect = _a.onSelect, onToggleItem = _a.onToggleItem, onUnselectItems = _a.onUnselectItems, page = _a.page, perPage = _a.perPage, refetch = _a.refetch, resource = _a.resource, selectedIds = _a.selectedIds, setFilters = _a.setFilters, setPage = _a.setPage, setPerPage = _a.setPerPage, setSort = _a.setSort, showFilter = _a.showFilter, total = _a.total;\n    return ({\n        basePath: basePath,\n        currentSort: currentSort,\n        data: data,\n        defaultTitle: defaultTitle,\n        displayedFilters: displayedFilters,\n        filterValues: filterValues,\n        hasCreate: hasCreate,\n        hideFilter: hideFilter,\n        ids: ids,\n        loaded: loaded,\n        loading: loading,\n        onSelect: onSelect,\n        onToggleItem: onToggleItem,\n        onUnselectItems: onUnselectItems,\n        page: page,\n        perPage: perPage,\n        refetch: refetch,\n        resource: resource,\n        selectedIds: selectedIds,\n        setFilters: setFilters,\n        setPage: setPage,\n        setPerPage: setPerPage,\n        setSort: setSort,\n        showFilter: showFilter,\n        total: total,\n    });\n};\n","import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport IconButton from '@material-ui/core/IconButton';\nimport ActionHide from '@material-ui/icons/HighlightOff';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nimport { useResourceContext, useTranslate } from 'ra-core';\nvar emptyRecord = {};\nvar useStyles = makeStyles(function (theme) { return ({\n    body: {\n        display: 'flex',\n        alignItems: 'flex-end',\n        pointerEvents: 'auto',\n    },\n    spacer: { width: theme.spacing(2) },\n    hideButton: {},\n}); }, { name: 'RaFilterFormInput' });\nvar FilterFormInput = function (props) {\n    var filterElement = props.filterElement, handleHide = props.handleHide, variant = props.variant, margin = props.margin;\n    var resource = useResourceContext(props);\n    var translate = useTranslate();\n    var classes = useStyles(props);\n    return (React.createElement(\"div\", { \"data-source\": filterElement.props.source, className: classnames('filter-field', classes.body) },\n        !filterElement.props.alwaysOn && (React.createElement(IconButton, { className: classnames('hide-filter', classes.hideButton), onClick: handleHide, \"data-key\": filterElement.props.source, title: translate('ra.action.remove_filter') },\n            React.createElement(ActionHide, null))),\n        React.cloneElement(filterElement, {\n            allowEmpty: filterElement.props.allowEmpty === undefined\n                ? true\n                : filterElement.props.allowEmpty,\n            resource: resource,\n            record: emptyRecord,\n            variant: variant,\n            margin: margin,\n            helperText: false,\n            // ignore defaultValue in Field because it was already set in Form (via mergedInitialValuesWithDefaultValues)\n            defaultValue: undefined,\n        }),\n        React.createElement(\"div\", { className: classes.spacer }, \"\\u00A0\")));\n};\nFilterFormInput.propTypes = {\n    filterElement: PropTypes.node,\n    handleHide: PropTypes.func,\n    classes: PropTypes.object,\n    resource: PropTypes.string,\n    margin: PropTypes.string,\n    variant: PropTypes.string,\n};\nexport default FilterFormInput;\n","import * as React from 'react';\n/**\n * Make filters accessible to sub components\n */\nexport var FilterContext = React.createContext(undefined);\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useEffect, useCallback, useContext, } from 'react';\nimport PropTypes from 'prop-types';\nimport { useListContext, useResourceContext } from 'ra-core';\nimport { Form, FormSpy } from 'react-final-form';\nimport arrayMutators from 'final-form-arrays';\nimport classnames from 'classnames';\nimport { makeStyles } from '@material-ui/core/styles';\nimport lodashSet from 'lodash/set';\nimport lodashGet from 'lodash/get';\nimport FilterFormInput from './FilterFormInput';\nimport { FilterContext } from '../FilterContext';\nexport var FilterForm = function (props) {\n    var _a = props.classes, classes = _a === void 0 ? {} : _a, className = props.className, margin = props.margin, filters = props.filters, variant = props.variant, initialValues = props.initialValues, rest = __rest(props, [\"classes\", \"className\", \"margin\", \"filters\", \"variant\", \"initialValues\"]);\n    var resource = useResourceContext(props);\n    var _b = useListContext(props), _c = _b.displayedFilters, displayedFilters = _c === void 0 ? {} : _c, hideFilter = _b.hideFilter;\n    useEffect(function () {\n        filters.forEach(function (filter) {\n            if (filter.props.alwaysOn && filter.props.defaultValue) {\n                throw new Error('Cannot use alwaysOn and defaultValue on a filter input. Please set the filterDefaultValues props on the <List> element instead.');\n            }\n        });\n    }, [filters]);\n    var getShownFilters = function () {\n        return filters.filter(function (filterElement) {\n            return filterElement.props.alwaysOn ||\n                displayedFilters[filterElement.props.source] ||\n                typeof lodashGet(initialValues, filterElement.props.source) !==\n                    'undefined';\n        });\n    };\n    var handleHide = useCallback(function (event) { return hideFilter(event.currentTarget.dataset.key); }, [hideFilter]);\n    return (React.createElement(\"form\", __assign({ className: classnames(className, classes.form) }, sanitizeRestProps(rest), { onSubmit: handleSubmit }),\n        getShownFilters().map(function (filterElement) { return (React.createElement(FilterFormInput, { key: filterElement.props.source, filterElement: filterElement, handleHide: handleHide, resource: resource, variant: filterElement.props.variant || variant, margin: filterElement.props.margin || margin })); }),\n        React.createElement(\"div\", { className: classes.clearFix })));\n};\nvar handleSubmit = function (event) {\n    event.preventDefault();\n    return false;\n};\nFilterForm.propTypes = {\n    resource: PropTypes.string,\n    filters: PropTypes.arrayOf(PropTypes.node).isRequired,\n    displayedFilters: PropTypes.object,\n    hideFilter: PropTypes.func,\n    initialValues: PropTypes.object,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    form: {\n        marginTop: -theme.spacing(2),\n        paddingTop: 0,\n        display: 'flex',\n        alignItems: 'flex-end',\n        flexWrap: 'wrap',\n        minHeight: theme.spacing(10),\n        pointerEvents: 'none',\n    },\n    clearFix: { clear: 'right' },\n}); }, { name: 'RaFilterForm' });\nvar sanitizeRestProps = function (_a) {\n    var active = _a.active, dirty = _a.dirty, dirtyFields = _a.dirtyFields, dirtyFieldsSinceLastSubmit = _a.dirtyFieldsSinceLastSubmit, dirtySinceLastSubmit = _a.dirtySinceLastSubmit, displayedFilters = _a.displayedFilters, error = _a.error, errors = _a.errors, filterValues = _a.filterValues, form = _a.form, handleSubmit = _a.handleSubmit, hasSubmitErrors = _a.hasSubmitErrors, hasValidationErrors = _a.hasValidationErrors, hideFilter = _a.hideFilter, invalid = _a.invalid, modified = _a.modified, modifiedSinceLastSubmit = _a.modifiedSinceLastSubmit, pristine = _a.pristine, resource = _a.resource, setFilters = _a.setFilters, submitError = _a.submitError, submitErrors = _a.submitErrors, submitFailed = _a.submitFailed, submitSucceeded = _a.submitSucceeded, submitting = _a.submitting, touched = _a.touched, valid = _a.valid, validating = _a.validating, values = _a.values, visited = _a.visited, props = __rest(_a, [\"active\", \"dirty\", \"dirtyFields\", \"dirtyFieldsSinceLastSubmit\", \"dirtySinceLastSubmit\", \"displayedFilters\", \"error\", \"errors\", \"filterValues\", \"form\", \"handleSubmit\", \"hasSubmitErrors\", \"hasValidationErrors\", \"hideFilter\", \"invalid\", \"modified\", \"modifiedSinceLastSubmit\", \"pristine\", \"resource\", \"setFilters\", \"submitError\", \"submitErrors\", \"submitFailed\", \"submitSucceeded\", \"submitting\", \"touched\", \"valid\", \"validating\", \"values\", \"visited\"]);\n    return props;\n};\nexport var mergeInitialValuesWithDefaultValues = function (initialValues, filters) { return (__assign(__assign({}, filters\n    .filter(function (filterElement) {\n    return filterElement.props.alwaysOn && filterElement.props.defaultValue;\n})\n    .reduce(function (acc, filterElement) {\n    return lodashSet(__assign({}, acc), filterElement.props.source, filterElement.props.defaultValue);\n}, {})), initialValues)); };\nvar EnhancedFilterForm = function (props) {\n    var classesOverride = props.classes, filtersProps = props.filters, initialValues = props.initialValues, rest = __rest(props, [\"classes\", \"filters\", \"initialValues\"]);\n    var classes = useStyles(props);\n    var _a = useListContext(props), setFilters = _a.setFilters, displayedFilters = _a.displayedFilters, filterValues = _a.filterValues;\n    var filters = useContext(FilterContext) || filtersProps;\n    var mergedInitialValuesWithDefaultValues = mergeInitialValuesWithDefaultValues(initialValues || filterValues, filters);\n    return (React.createElement(Form, { onSubmit: handleFinalFormSubmit, initialValues: mergedInitialValuesWithDefaultValues, mutators: __assign({}, arrayMutators), render: function (formProps) { return (React.createElement(React.Fragment, null,\n            React.createElement(FormSpy, { subscription: FormSpySubscription, onChange: function (_a) {\n                    var pristine = _a.pristine, values = _a.values, invalid = _a.invalid;\n                    if (pristine || invalid) {\n                        return;\n                    }\n                    setFilters(values, displayedFilters);\n                } }),\n            React.createElement(FilterForm, __assign({ classes: classes }, formProps, rest, { filters: filters })))); } }));\n};\nvar handleFinalFormSubmit = function () { };\n// Options to instruct the FormSpy that it should only listen to the values and pristine changes\nvar FormSpySubscription = { values: true, pristine: true, invalid: true };\nexport default EnhancedFilterForm;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { Toolbar } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FilterForm } from './filter';\nimport { FilterContext } from './FilterContext';\nvar useStyles = makeStyles(function (theme) {\n    var _a, _b;\n    return ({\n        toolbar: (_a = {\n                justifyContent: 'space-between',\n                alignItems: 'flex-start',\n                paddingRight: 0\n            },\n            _a[theme.breakpoints.up('xs')] = {\n                paddingLeft: 0,\n            },\n            _a[theme.breakpoints.down('xs')] = {\n                paddingLeft: theme.spacing(2),\n                backgroundColor: theme.palette.background.paper,\n            },\n            _a),\n        actions: (_b = {\n                paddingTop: theme.spacing(3),\n                minHeight: theme.spacing(5)\n            },\n            _b[theme.breakpoints.down('xs')] = {\n                padding: theme.spacing(1),\n                backgroundColor: theme.palette.background.paper,\n            },\n            _b),\n    });\n}, { name: 'RaListToolbar' });\nvar ListToolbar = function (props) {\n    var classesOverride = props.classes, filters = props.filters, actions = props.actions, rest = __rest(props, [\"classes\", \"filters\", \"actions\"]);\n    var classes = useStyles(props);\n    return Array.isArray(filters) ? (React.createElement(FilterContext.Provider, { value: filters },\n        React.createElement(Toolbar, { className: classes.toolbar },\n            React.createElement(FilterForm, null),\n            React.createElement(\"span\", null),\n            actions &&\n                React.cloneElement(actions, __assign(__assign(__assign({}, rest), { className: classes.actions }), actions.props))))) : (React.createElement(Toolbar, { className: classes.toolbar },\n        filters &&\n            React.cloneElement(filters, __assign(__assign({}, rest), { context: 'form' })),\n        React.createElement(\"span\", null),\n        actions &&\n            React.cloneElement(actions, __assign(__assign(__assign({}, rest), { className: classes.actions, filters: filters }), actions.props))));\n};\nListToolbar.propTypes = {\n    classes: PropTypes.object,\n    filters: PropTypes.oneOfType([\n        PropTypes.element,\n        PropTypes.arrayOf(PropTypes.element),\n    ]),\n    // @ts-ignore\n    actions: PropTypes.oneOfType([PropTypes.bool, PropTypes.element]),\n    // @ts-ignore\n    exporter: PropTypes.oneOfType([PropTypes.func, PropTypes.bool]),\n};\nexport default React.memo(ListToolbar);\n","import { useContext } from 'react';\nimport ListPaginationContext from './ListPaginationContext';\n/**\n * Hook to read the list controller props from the ListContext.\n *\n * Must be used within a <ListContextProvider> (e.g. as a descendent of <List>\n * or <ListBase>).\n *\n * @typedef {Object} ListPaginationContextValue\n * @prop {integer}  total the total number of results for the current filters, excluding pagination. Useful to build the pagination controls. e.g. 23\n * @prop {integer}  page the current page. Starts at 1\n * @prop {Function} setPage a callback to change the page, e.g. setPage(3)\n * @prop {integer}  perPage the number of results per page. Defaults to 25\n * @prop {Function} setPerPage a callback to change the number of results per page, e.g. setPerPage(25)\n * @prop {string}   resource the resource name, deduced from the location. e.g. 'posts'\n *\n * @returns {ListPaginationContextValue} list controller props\n *\n * @see useListController for how it is filled\n */\nvar useListPaginationContext = function (props) {\n    var context = useContext(ListPaginationContext);\n    if (!context.setPage) {\n        /**\n         * The element isn't inside a <ListPaginationContext.Provider>\n         *\n         * This may only happen when using Datagrid / SimpleList / SingleFieldList components\n         * outside of a List / ReferenceManyField / ReferenceArrayField -\n         * which isn't documented but tolerated.\n         * To avoid breakage in that case, fallback to props\n         *\n         * @deprecated - to be removed in 4.0\n         */\n        if (process.env.NODE_ENV !== 'production') {\n            console.log(\"List components must be used inside a <ListContextProvider>. Relying on props rather than context to get List data and callbacks is deprecated and won't be supported in the next major version of react-admin.\");\n        }\n        return props;\n    }\n    return context;\n};\nexport default useListPaginationContext;\n","import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\nimport ChevronRight from '@material-ui/icons/ChevronRight';\nimport { useTranslate } from 'ra-core';\nimport classnames from 'classnames';\nvar useStyles = makeStyles(function (theme) { return ({\n    actions: {\n        flexShrink: 0,\n        color: theme.palette.text.secondary,\n        marginLeft: 20,\n    },\n    button: {},\n    currentPageButton: {},\n    hellip: { padding: '1.2em' },\n}); }, { name: 'RaPaginationActions' });\nfunction PaginationActions(props) {\n    var page = props.page, rowsPerPage = props.rowsPerPage, count = props.count, onChangePage = props.onChangePage, color = props.color, size = props.size;\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    var theme = useTheme();\n    /**\n     * Warning: material-ui's page is 0-based\n     */\n    var range = function () {\n        var nbPages = Math.ceil(count / rowsPerPage) || 1;\n        if (isNaN(page) || nbPages === 1) {\n            return [];\n        }\n        var input = [];\n        // display page links around the current page\n        if (page > 1) {\n            input.push(1);\n        }\n        if (page === 3) {\n            input.push(2);\n        }\n        if (page > 3) {\n            input.push('.');\n        }\n        if (page > 0) {\n            input.push(page);\n        }\n        input.push(page + 1);\n        if (page < nbPages - 1) {\n            input.push(page + 2);\n        }\n        if (page === nbPages - 4) {\n            input.push(nbPages - 1);\n        }\n        if (page < nbPages - 4) {\n            input.push('.');\n        }\n        if (page < nbPages - 2) {\n            input.push(nbPages);\n        }\n        return input;\n    };\n    var getNbPages = function () { return Math.ceil(count / rowsPerPage) || 1; };\n    var prevPage = function (event) {\n        if (page === 0) {\n            throw new Error(translate('ra.navigation.page_out_from_begin'));\n        }\n        onChangePage(event, page - 1);\n    };\n    var nextPage = function (event) {\n        if (page > getNbPages() - 1) {\n            throw new Error(translate('ra.navigation.page_out_from_end'));\n        }\n        onChangePage(event, page + 1);\n    };\n    var gotoPage = function (event) {\n        var page = parseInt(event.currentTarget.dataset.page, 10);\n        if (page < 0 || page > getNbPages() - 1) {\n            throw new Error(translate('ra.navigation.page_out_of_boundaries', {\n                page: page + 1,\n            }));\n        }\n        onChangePage(event, page);\n    };\n    var renderPageNums = function () {\n        return range().map(function (pageNum, index) {\n            var _a;\n            return pageNum === '.' ? (React.createElement(\"span\", { key: \"hyphen_\" + index, className: classes.hellip }, \"\\u2026\")) : (React.createElement(Button, { size: size, className: classnames('page-number', classes.button, (_a = {},\n                    _a[classes.currentPageButton] = pageNum === page + 1,\n                    _a)), color: pageNum === page + 1 ? 'default' : color, key: pageNum, \"data-page\": pageNum - 1, onClick: gotoPage }, pageNum));\n        });\n    };\n    var nbPages = getNbPages();\n    if (nbPages === 1) {\n        return React.createElement(\"div\", { className: classes.actions });\n    }\n    return (React.createElement(\"div\", { className: classes.actions },\n        page > 0 && (React.createElement(Button, { color: color, size: size, key: \"prev\", onClick: prevPage, className: \"previous-page\" },\n            theme.direction === 'rtl' ? (React.createElement(ChevronRight, null)) : (React.createElement(ChevronLeft, null)),\n            translate('ra.navigation.prev'))),\n        renderPageNums(),\n        page !== nbPages - 1 && (React.createElement(Button, { color: color, size: size, key: \"next\", onClick: nextPage, className: \"next-page\" },\n            translate('ra.navigation.next'),\n            theme.direction === 'rtl' ? (React.createElement(ChevronLeft, null)) : (React.createElement(ChevronRight, null))))));\n}\n/**\n * PaginationActions propTypes are copied over from material-uis\n * TablePaginationActions propTypes. See\n * https://github.com/mui-org/material-ui/blob/869692ecf3812bc4577ed4dde81a9911c5949695/packages/material-ui/src/TablePaginationActions/TablePaginationActions.js#L53-L85\n * for reference.\n */\nPaginationActions.propTypes = {\n    backIconButtonProps: PropTypes.object,\n    count: PropTypes.number.isRequired,\n    classes: PropTypes.object,\n    nextIconButtonProps: PropTypes.object,\n    onChangePage: PropTypes.func.isRequired,\n    page: PropTypes.number.isRequired,\n    rowsPerPage: PropTypes.number.isRequired,\n    color: PropTypes.oneOf(['primary', 'secondary']),\n    size: PropTypes.oneOf(['small', 'medium', 'large']),\n    theme: PropTypes.object,\n};\nPaginationActions.defaultProps = {\n    color: 'primary',\n    size: 'small',\n};\nexport default React.memo(PaginationActions);\n","import * as React from 'react';\nimport { memo } from 'react';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\nimport { useTranslate } from 'ra-core';\nvar PaginationLimit = function () {\n    var translate = useTranslate();\n    return (React.createElement(CardContent, null,\n        React.createElement(Typography, { variant: \"body2\" }, translate('ra.navigation.no_results'))));\n};\nexport default memo(PaginationLimit);\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useCallback, useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport { TablePagination, Toolbar, useMediaQuery, } from '@material-ui/core';\nimport { useTranslate, useListPaginationContext, sanitizeListRestProps, ComponentPropType, } from 'ra-core';\nimport DefaultPaginationActions from './PaginationActions';\nimport DefaultPaginationLimit from './PaginationLimit';\nvar emptyArray = [];\nvar Pagination = function (props) {\n    var rowsPerPageOptions = props.rowsPerPageOptions, actions = props.actions, limit = props.limit, rest = __rest(props, [\"rowsPerPageOptions\", \"actions\", \"limit\"]);\n    var _a = useListPaginationContext(props), loading = _a.loading, page = _a.page, perPage = _a.perPage, total = _a.total, setPage = _a.setPage, setPerPage = _a.setPerPage;\n    var translate = useTranslate();\n    var isSmall = useMediaQuery(function (theme) {\n        return theme.breakpoints.down('sm');\n    });\n    var totalPages = useMemo(function () {\n        return Math.ceil(total / perPage) || 1;\n    }, [perPage, total]);\n    /**\n     * Warning: material-ui's page is 0-based\n     */\n    var handlePageChange = useCallback(function (event, page) {\n        event && event.stopPropagation();\n        if (page < 0 || page > totalPages - 1) {\n            throw new Error(translate('ra.navigation.page_out_of_boundaries', {\n                page: page + 1,\n            }));\n        }\n        setPage(page + 1);\n    }, [totalPages, setPage, translate]);\n    var handlePerPageChange = useCallback(function (event) {\n        setPerPage(event.target.value);\n    }, [setPerPage]);\n    var labelDisplayedRows = useCallback(function (_a) {\n        var from = _a.from, to = _a.to, count = _a.count;\n        return translate('ra.navigation.page_range_info', {\n            offsetBegin: from,\n            offsetEnd: to,\n            total: count,\n        });\n    }, [translate]);\n    // Avoid rendering TablePagination if \"page\" value is invalid\n    if (total === null || total === 0 || page < 1 || page > totalPages) {\n        return loading ? React.createElement(Toolbar, { variant: \"dense\" }) : limit;\n    }\n    if (isSmall) {\n        return (React.createElement(TablePagination, __assign({ count: total, rowsPerPage: perPage, page: page - 1, onChangePage: handlePageChange, rowsPerPageOptions: emptyArray, component: \"span\", labelDisplayedRows: labelDisplayedRows }, sanitizeListRestProps(rest))));\n    }\n    return (React.createElement(TablePagination, __assign({ count: total, rowsPerPage: perPage, page: page - 1, onChangePage: handlePageChange, onChangeRowsPerPage: handlePerPageChange, ActionsComponent: actions, component: \"span\", labelRowsPerPage: translate('ra.navigation.page_rows_per_page'), labelDisplayedRows: labelDisplayedRows, rowsPerPageOptions: rowsPerPageOptions }, sanitizeListRestProps(rest))));\n};\nPagination.propTypes = {\n    actions: ComponentPropType,\n    limit: PropTypes.element,\n    rowsPerPageOptions: PropTypes.arrayOf(PropTypes.number),\n};\nPagination.defaultProps = {\n    actions: DefaultPaginationActions,\n    limit: React.createElement(DefaultPaginationLimit, null),\n    rowsPerPageOptions: [5, 10, 25],\n};\nexport default React.memo(Pagination);\n","import { useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { setListSelectedIds } from '../actions';\nimport { warning } from '../util';\n/**\n * Hook for Unselect All Side Effect\n *\n * @example\n *\n * const unselectAll = useUnselectAll('posts');\n * unselectAll();\n */\nvar useUnselectAll = function (resource1) {\n    var dispatch = useDispatch();\n    return useCallback(function (resource2) {\n        warning(!resource2 && !resource1, \"You didn't specify the resource at initialization (useUnselectAll('posts')) nor when using the callback (unselectAll('posts'))\");\n        dispatch(setListSelectedIds(resource2 || resource1, []));\n    }, [dispatch, resource1]);\n};\nexport default useUnselectAll;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { parsePath } from 'history';\nimport resolveRedirectTo from '../util/resolveRedirectTo';\nimport { refreshView } from '../actions/uiActions';\n/**\n * Hook for Redirection Side Effect\n *\n * @example\n *\n * const redirect = useRedirect();\n * // redirect to list view\n * redirect('list', '/posts');\n * // redirect to edit view\n * redirect('edit', '/posts', 123);\n * // redirect to edit view with state data\n * redirect('edit', '/comment', 123, {}, { record: { post_id: record.id } });\n * // do not redirect (resets the record form)\n * redirect(false);\n * // redirect to the result of a function\n * redirect((redirectTo, basePath, id, data) => ...)\n */\nvar useRedirect = function () {\n    var dispatch = useDispatch();\n    var history = useHistory(); // Note: history is mutable. This prevents render loops in useCallback.\n    return useCallback(function (redirectTo, basePath, id, data, state) {\n        if (basePath === void 0) { basePath = ''; }\n        if (state === void 0) { state = {}; }\n        if (!redirectTo) {\n            if (history.location.state || history.location.search) {\n                history.replace(__assign(__assign({}, history.location), { state: state, search: undefined }));\n            }\n            else {\n                dispatch(refreshView());\n            }\n            return;\n        }\n        history.push(__assign(__assign({}, parsePath(resolveRedirectTo(redirectTo, basePath, id, data))), { state: __assign({ _scrollToTop: true }, state) }));\n    }, [dispatch, history]);\n};\nexport default useRedirect;\n","import { useNotify, useRedirect, useRefresh, useUnselectAll, } from '../sideEffect';\nimport { useMemo } from 'react';\nvar defaultSideEffects = {\n    onSuccess: undefined,\n    onFailure: undefined,\n};\nvar useDeclarativeSideEffects = function () {\n    var notify = useNotify();\n    var redirect = useRedirect();\n    var refresh = useRefresh();\n    var unselectAll = useUnselectAll();\n    return useMemo(function () { return function (resource, _a) {\n        var _b = _a === void 0 ? defaultSideEffects : _a, onSuccess = _b.onSuccess, onFailure = _b.onFailure;\n        var convertToFunctionSideEffect = function (resource, sideEffects) {\n            if (!sideEffects || typeof sideEffects === 'function') {\n                return sideEffects;\n            }\n            if (Object.keys(sideEffects).length === 0) {\n                return undefined;\n            }\n            var notification = sideEffects.notification, redirectTo = sideEffects.redirectTo, needRefresh = sideEffects.refresh, needUnselectAll = sideEffects.unselectAll;\n            return function () {\n                if (notification) {\n                    notify(notification.body, notification.level, notification.messageArgs);\n                }\n                if (redirectTo) {\n                    redirect(redirectTo);\n                }\n                if (needRefresh) {\n                    refresh();\n                }\n                if (needUnselectAll) {\n                    unselectAll(resource);\n                }\n            };\n        };\n        return {\n            onSuccess: convertToFunctionSideEffect(resource, onSuccess),\n            onFailure: convertToFunctionSideEffect(resource, onFailure),\n        };\n    }; }, [notify, redirect, refresh, unselectAll]);\n};\nexport default useDeclarativeSideEffects;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport useDataProvider from './useDataProvider';\nimport { useMemo } from 'react';\nimport useDeclarativeSideEffects from './useDeclarativeSideEffects';\nimport { getDataProviderCallArguments } from './getDataProviderCallArguments';\n/**\n * This version of the useDataProvider hook ensure Query and Mutation components are still usable\n * with side effects declared as objects.\n *\n * @deprecated This is for backward compatibility only and will be removed in next major version.\n */\nvar useDataProviderWithDeclarativeSideEffects = function () {\n    var dataProvider = useDataProvider();\n    var getSideEffects = useDeclarativeSideEffects();\n    // @ts-ignore\n    var dataProviderProxy = useMemo(function () {\n        return new Proxy(dataProvider, {\n            get: function (target, name) {\n                if (typeof name === 'symbol') {\n                    return;\n                }\n                return function () {\n                    var args = [];\n                    for (var _i = 0; _i < arguments.length; _i++) {\n                        args[_i] = arguments[_i];\n                    }\n                    var _a = getDataProviderCallArguments(args), resource = _a.resource, payload = _a.payload, allArguments = _a.allArguments, options = _a.options;\n                    var onSuccess;\n                    var onFailure;\n                    var finalOptions = options;\n                    var finalAllArguments = allArguments;\n                    if (options &&\n                        Object.keys(options).some(function (key) {\n                            return ['onSuccess', 'onFailure'].includes(key);\n                        })) {\n                        var sideEffect = getSideEffects(resource, options);\n                        var ignoreOnSuccess = options.onSuccess, // Used to extract options without onSuccess\n                        ignoreOnFailure = options.onFailure, // Used to extract options without onFailure\n                        otherOptions = __rest(options, [\"onSuccess\", \"onFailure\"]);\n                        onSuccess = sideEffect.onSuccess;\n                        onFailure = sideEffect.onFailure;\n                        finalOptions = otherOptions;\n                        finalAllArguments = __spreadArrays(args).slice(0, args.length - 1);\n                    }\n                    try {\n                        return target[name.toString()].apply(target, typeof resource === 'string'\n                            ? [\n                                resource,\n                                payload,\n                                __assign(__assign({}, finalOptions), { onSuccess: onSuccess,\n                                    onFailure: onFailure }),\n                            ]\n                            : finalAllArguments);\n                    }\n                    catch (e) {\n                        // turn synchronous exceptions (e.g. in parameter preparation)\n                        // into async ones, otherwise they'll be lost\n                        return Promise.reject(e);\n                    }\n                };\n            },\n        });\n    }, [dataProvider, getSideEffects]);\n    return dataProviderProxy;\n};\nexport default useDataProviderWithDeclarativeSideEffects;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { useCallback } from 'react';\nimport merge from 'lodash/merge';\nimport { useSafeSetState } from '../util/hooks';\nimport useDataProvider from './useDataProvider';\nimport useDataProviderWithDeclarativeSideEffects from './useDataProviderWithDeclarativeSideEffects';\n/**\n * Get a callback to fetch the data provider through Redux, usually for mutations.\n *\n * The request starts when the callback is called.\n *\n * useMutation() parameters can be passed:\n *\n * - at definition time\n *\n *       const [mutate] = useMutation(query, options); mutate();\n *\n * - at call time\n *\n *       const [mutate] = useMutation(); mutate(query, options);\n *\n * - both, in which case the definition and call time parameters are merged\n *\n *       const [mutate] = useMutation(query1, options1); mutate(query2, options2);\n *\n * @param {Object} query\n * @param {string} query.type The method called on the data provider, e.g. 'getList', 'getOne'. Can also be a custom method if the dataProvider supports is.\n * @param {string} query.resource A resource name, e.g. 'posts', 'comments'\n * @param {Object} query.payload The payload object, e.g; { post_id: 12 }\n * @param {Object} options\n * @param {string} options.action Redux action type\n * @param {boolean} options.undoable Set to true to run the mutation locally before calling the dataProvider\n * @param {boolean} options.returnPromise Set to true to return the result promise of the mutation\n * @param {Function} options.onSuccess Side effect function to be executed upon success, e.g. () => refresh()\n * @param {Function} options.onFailure Side effect function to be executed upon failure, e.g. (error) => notify(error.message)\n * @param {boolean} options.withDeclarativeSideEffectsSupport Set to true to support legacy side effects e.g. { onSuccess: { refresh: true } }\n *\n * @returns A tuple with the mutation callback and the request state. Destructure as [mutate, { data, total, error, loading, loaded }].\n *\n * The return value updates according to the request state:\n *\n * - mount:         [mutate, { loading: false, loaded: false }]\n * - mutate called: [mutate, { loading: true, loaded: false }]\n * - success:       [mutate, { data: [data from response], total: [total from response], loading: false, loaded: true }]\n * - error:         [mutate, { error: [error from response], loading: false, loaded: false }]\n *\n * The mutate function accepts the following arguments\n * - {Object} query\n * - {string} query.type The method called on the data provider, e.g. 'update'\n * - {string} query.resource A resource name, e.g. 'posts', 'comments'\n * - {Object} query.payload The payload object, e.g. { id: 123, data: { isApproved: true } }\n * - {Object} options\n * - {string} options.action Redux action type\n * - {boolean} options.undoable Set to true to run the mutation locally before calling the dataProvider\n * - {boolean} options.returnPromise Set to true to return the result promise of the mutation\n * - {Function} options.onSuccess Side effect function to be executed upon success or failure, e.g. { onSuccess: response => refresh() }\n * - {Function} options.onFailure Side effect function to be executed upon failure, e.g. { onFailure: error => notify(error.message) }\n * - {boolean} withDeclarativeSideEffectsSupport Set to true to support legacy side effects e.g. { onSuccess: { refresh: true } }\n *\n * @example\n *\n * // pass parameters at definition time\n * // use when all parameters are determined at definition time\n * // the mutation callback can be used as an even handler\n * // because Event parameters are ignored\n * import { useMutation } from 'react-admin';\n *\n * const ApproveButton = ({ record }) => {\n *     const [approve, { loading }] = useMutation({\n *         type: 'update',\n *         resource: 'comments',\n *         payload: { id: record.id, data: { isApproved: true } }\n *     });\n *     return <Button label=\"Approve\" onClick={approve} disabled={loading} />;\n * };\n *\n * @example\n *\n * // pass parameters at call time\n * // use when some parameters are only known at call time\n * import { useMutation } from 'react-admin';\n *\n * const ApproveButton = ({ record }) => {\n *     const [mutate, { loading }] = useMutation();\n *     const approve = event => mutate({\n *         type: 'update',\n *         resource: 'comments',\n *         payload: {\n *             id: event.target.dataset.id,\n *             data: { isApproved: true, updatedAt: new Date() }\n *         },\n *     });\n *     return <Button\n *         label=\"Approve\"\n *         onClick={approve}\n *         disabled={loading}\n *     />;\n * };\n *\n * @example\n *\n * // use the second argument to pass options\n * import { useMutation, useNotify, CRUD_UPDATE } from 'react-admin';\n *\n * const ResetStockButton = ({ record }) => {\n *     const [mutate, { loading }] = useMutation();\n *     const notify = useNotify();\n *     const handleClick = () => mutate(\n *         {\n *              type: 'update',\n *              resource: 'items',\n *              payload: { id: record.id, data: { stock: 0 } }\n *         },\n *         {\n *              undoable: true,\n *              action: CRUD_UPDATE,\n *              onSuccess: response => notify('Success !'),\n *              onFailure: error => notify('Failure !')\n *         }\n *     );\n *     return <Button label=\"Reset stock\" onClick={handleClick} disabled={loading} />;\n * };\n */\nvar useMutation = function (query, options) {\n    var _a = useSafeSetState({\n        data: null,\n        error: null,\n        total: null,\n        loading: false,\n        loaded: false,\n    }), state = _a[0], setState = _a[1];\n    var dataProvider = useDataProvider();\n    var dataProviderWithDeclarativeSideEffects = useDataProviderWithDeclarativeSideEffects();\n    /* eslint-disable react-hooks/exhaustive-deps */\n    var mutate = useCallback(function (callTimeQuery, callTimeOptions) {\n        var finalDataProvider = hasDeclarativeSideEffectsSupport(options, callTimeOptions)\n            ? dataProviderWithDeclarativeSideEffects\n            : dataProvider;\n        var params = mergeDefinitionAndCallTimeParameters(query, callTimeQuery, options, callTimeOptions);\n        setState(function (prevState) { return (__assign(__assign({}, prevState), { loading: true })); });\n        var returnPromise = params.options.returnPromise;\n        var promise = finalDataProvider[params.type]\n            .apply(finalDataProvider, typeof params.resource !== 'undefined'\n            ? [params.resource, params.payload, params.options]\n            : [params.payload, params.options])\n            .then(function (response) {\n            var data = response.data, total = response.total;\n            setState({\n                data: data,\n                error: null,\n                loaded: true,\n                loading: false,\n                total: total,\n            });\n            if (returnPromise) {\n                return response;\n            }\n        })\n            .catch(function (errorFromResponse) {\n            setState({\n                data: null,\n                error: errorFromResponse,\n                loaded: false,\n                loading: false,\n                total: null,\n            });\n            if (returnPromise) {\n                throw errorFromResponse;\n            }\n        });\n        if (returnPromise) {\n            return promise;\n        }\n    }, [\n        // deep equality, see https://github.com/facebook/react/issues/14476#issuecomment-471199055\n        JSON.stringify({ query: query, options: options }),\n        dataProvider,\n        dataProviderWithDeclarativeSideEffects,\n        setState,\n    ]\n    /* eslint-enable react-hooks/exhaustive-deps */\n    );\n    return [mutate, state];\n};\n/**\n * Utility function for merging parameters\n *\n * useMutation() parameters can be passed:\n * - at definition time (e.g. useMutation({ type: 'update', resource: 'posts', payload: { id: 1, data: { title: '' } } }) )\n * - at call time (e.g. [mutate] = useMutation(); mutate({ type: 'update', resource: 'posts', payload: { id: 1, data: { title: '' } } }))\n * - both\n *\n * This function merges the definition time and call time parameters.\n *\n * This is useful because useMutation() is used by higher-level hooks like\n * useCreate() or useUpdate(), and these hooks can be called both ways.\n * So it makes sense to make useMutation() capable of handling both call types\n * as it avoids repetition higher in the hook chain.\n *\n * Also, the call time query may be a DOM Event if the callback is used\n * as an event listener, as in:\n *\n * const UpdateButton = () => {\n *     const mutate = useMutation({ type: 'update', resource: 'posts', payload: { id: 1, data: { title: '' } } });\n *     return <button onclick={mutate}>Click me</button>\n * };\n *\n * This usage is accepted, and therefore this function checks if the call time\n * query is an Event, and discards it in that case.\n *\n * @param query {Mutation}\n * @param callTimeQuery {Mutation}\n * @param options {Object}\n * @param callTimeOptions {Object}\n *\n * @return { type, resource, payload, options } The merged parameters\n */\nvar mergeDefinitionAndCallTimeParameters = function (query, callTimeQuery, options, callTimeOptions) {\n    if (!query && (!callTimeQuery || callTimeQuery instanceof Event)) {\n        throw new Error('Missing query either at definition or at call time');\n    }\n    if (callTimeQuery instanceof Event)\n        return {\n            type: query.type,\n            resource: query.resource,\n            payload: query.payload,\n            options: sanitizeOptions(options),\n        };\n    if (query)\n        return {\n            type: query.type || callTimeQuery.type,\n            resource: query.resource || callTimeQuery.resource,\n            payload: callTimeQuery\n                ? merge({}, query.payload, callTimeQuery.payload)\n                : query.payload,\n            options: callTimeOptions\n                ? merge({}, sanitizeOptions(options), sanitizeOptions(callTimeOptions))\n                : sanitizeOptions(options),\n        };\n    return {\n        type: callTimeQuery.type,\n        resource: callTimeQuery.resource,\n        payload: callTimeQuery.payload,\n        options: sanitizeOptions(callTimeOptions),\n    };\n};\nvar hasDeclarativeSideEffectsSupport = function (options, callTimeOptions) {\n    if (!options && !callTimeOptions)\n        return false;\n    if (callTimeOptions && callTimeOptions.withDeclarativeSideEffectsSupport)\n        return true;\n    return options && options.withDeclarativeSideEffectsSupport;\n};\nvar sanitizeOptions = function (args) {\n    if (!args)\n        return { onSuccess: undefined };\n    var withDeclarativeSideEffectsSupport = args.withDeclarativeSideEffectsSupport, options = __rest(args, [\"withDeclarativeSideEffectsSupport\"]);\n    return __assign({ onSuccess: undefined }, options);\n};\nexport default useMutation;\n","import { useCallback } from 'react';\nimport useMutation from './useMutation';\n/**\n * Get a callback to call the dataProvider.deleteMany() method, the result\n * of the call (the list of deleted record ids), and the loading state.\n *\n * The return value updates according to the request state:\n *\n * - initial: [deleteMany, { loading: false, loaded: false }]\n * - start:   [deleteMany, { loading: true, loaded: false }]\n * - success: [deleteMany, { data: [data from response], loading: false, loaded: true }]\n * - error:   [deleteMany, { error: [error from response], loading: false, loaded: false }]\n *\n * @param resource The resource name, e.g. 'posts'\n * @param ids The resource identifiers, e.g. [123, 456]\n * @param options Options object to pass to the dataProvider. May include side effects to be executed upon success or failure, e.g. { onSuccess: { refresh: true } }\n *\n * @returns The current request state. Destructure as [deleteMany, { data, error, loading, loaded }].\n *\n * The deleteMany() function can be called in 3 different ways:\n *  - with the same parameters as the useDeleteMany() hook: deleteMany(resource, ids, options)\n *  - with the same syntax as useMutation: deleteMany({ resource, payload: { ids } }, options)\n *  - with no parameter (if they were already passed to useDeleteMany()): deleteMany()\n *\n * @example // set params when calling the deleteMany callback\n *\n * import { useDeleteMany } from 'react-admin';\n *\n * const BulkDeletePostsButton = ({ selectedIds }) => {\n *     const [deleteMany, { loading, error }] = useDeleteMany();\n *     const handleClick = () => {\n *         deleteMany('posts', selectedIds)\n *     }\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={loading} onClick={deleteMany}>Delete selected posts</button>;\n * };\n *\n * @example // set params when calling the hook\n *\n * import { useDeleteMany } from 'react-admin';\n *\n * const BulkDeletePostsButton = ({ selectedIds }) => {\n *     const [deleteMany, { loading, error }] = useDeleteMany('posts', selectedIds);\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={loading} onClick={deleteMany}>Delete selected posts</button>;\n * };\n */\nvar useDeleteMany = function (resource, ids, options) {\n    var _a = useMutation({ type: 'deleteMany', resource: resource, payload: { ids: ids } }, options), mutate = _a[0], state = _a[1];\n    var deleteMany = useCallback(function (resource, ids, options) {\n        if (typeof resource === 'string') {\n            var query = {\n                type: 'deleteMany',\n                resource: resource,\n                payload: {\n                    ids: ids,\n                },\n            };\n            return mutate(query, options);\n        }\n        else {\n            return mutate(resource, ids);\n        }\n    }, [mutate] // eslint-disable-line react-hooks/exhaustive-deps\n    );\n    return [deleteMany, state];\n};\nexport default useDeleteMany;\n","import { DELETE_MANY } from '../../core';\nexport var crudDeleteMany = function (resource, ids, basePath, refresh) {\n    if (refresh === void 0) { refresh = true; }\n    return ({\n        type: CRUD_DELETE_MANY,\n        payload: { ids: ids },\n        meta: {\n            resource: resource,\n            fetch: DELETE_MANY,\n            onSuccess: {\n                notification: {\n                    body: 'ra.notification.deleted',\n                    level: 'info',\n                    messageArgs: {\n                        smart_count: ids.length,\n                    },\n                },\n                basePath: basePath,\n                refresh: refresh,\n                unselectAll: true,\n            },\n            onFailure: {\n                notification: {\n                    body: 'ra.notification.http_error',\n                    level: 'warning',\n                },\n            },\n        },\n    });\n};\nexport var CRUD_DELETE_MANY = 'RA/CRUD_DELETE_MANY';\nexport var CRUD_DELETE_MANY_LOADING = 'RA/CRUD_DELETE_MANY_LOADING';\nexport var CRUD_DELETE_MANY_FAILURE = 'RA/CRUD_DELETE_MANY_FAILURE';\nexport var CRUD_DELETE_MANY_SUCCESS = 'RA/CRUD_DELETE_MANY_SUCCESS';\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { fade } from '@material-ui/core/styles/colorManipulator';\nimport ActionCheck from '@material-ui/icons/CheckCircle';\nimport AlertError from '@material-ui/icons/ErrorOutline';\nimport classnames from 'classnames';\nimport { useTranslate } from 'ra-core';\nvar useStyles = makeStyles(function (theme) { return ({\n    confirmPrimary: {\n        color: theme.palette.primary.main,\n    },\n    confirmWarning: {\n        color: theme.palette.error.main,\n        '&:hover': {\n            backgroundColor: fade(theme.palette.error.main, 0.12),\n            // Reset on mouse devices\n            '@media (hover: none)': {\n                backgroundColor: 'transparent',\n            },\n        },\n    },\n    iconPaddingStyle: {\n        paddingRight: '0.5em',\n    },\n}); }, { name: 'RaConfirm' });\n/**\n * Confirmation dialog\n *\n * @example\n * <Confirm\n *     isOpen={true}\n *     title=\"Delete Item\"\n *     content=\"Are you sure you want to delete this item?\"\n *     confirm=\"Yes\"\n *     confirmColor=\"primary\"\n *     ConfirmIcon=ActionCheck\n *     CancelIcon=AlertError\n *     cancel=\"Cancel\"\n *     onConfirm={() => { // do something }}\n *     onClose={() => { // do something }}\n * />\n */\nvar Confirm = function (props) {\n    var _a;\n    var isOpen = props.isOpen, loading = props.loading, title = props.title, content = props.content, confirm = props.confirm, cancel = props.cancel, confirmColor = props.confirmColor, ConfirmIcon = props.ConfirmIcon, CancelIcon = props.CancelIcon, onClose = props.onClose, onConfirm = props.onConfirm, _b = props.translateOptions, translateOptions = _b === void 0 ? {} : _b;\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    var handleConfirm = useCallback(function (e) {\n        e.stopPropagation();\n        onConfirm(e);\n    }, [onConfirm]);\n    var handleClick = useCallback(function (e) {\n        e.stopPropagation();\n    }, []);\n    return (React.createElement(Dialog, { open: isOpen, onClose: onClose, onClick: handleClick, \"aria-labelledby\": \"alert-dialog-title\" },\n        React.createElement(DialogTitle, { id: \"alert-dialog-title\" }, translate(title, __assign({ _: title }, translateOptions))),\n        React.createElement(DialogContent, null, typeof content === 'string' ? (React.createElement(DialogContentText, null, translate(content, __assign({ _: content }, translateOptions)))) : (content)),\n        React.createElement(DialogActions, null,\n            React.createElement(Button, { disabled: loading, onClick: onClose },\n                React.createElement(CancelIcon, { className: classes.iconPaddingStyle }),\n                translate(cancel, { _: cancel })),\n            React.createElement(Button, { disabled: loading, onClick: handleConfirm, className: classnames('ra-confirm', (_a = {},\n                    _a[classes.confirmWarning] = confirmColor === 'warning',\n                    _a[classes.confirmPrimary] = confirmColor === 'primary',\n                    _a)), autoFocus: true },\n                React.createElement(ConfirmIcon, { className: classes.iconPaddingStyle }),\n                translate(confirm, { _: confirm })))));\n};\nConfirm.propTypes = {\n    cancel: PropTypes.string,\n    classes: PropTypes.object,\n    confirm: PropTypes.string,\n    confirmColor: PropTypes.string,\n    ConfirmIcon: PropTypes.elementType,\n    CancelIcon: PropTypes.elementType,\n    content: PropTypes.node.isRequired,\n    isOpen: PropTypes.bool,\n    loading: PropTypes.bool,\n    onClose: PropTypes.func.isRequired,\n    onConfirm: PropTypes.func.isRequired,\n    title: PropTypes.string.isRequired,\n};\nConfirm.defaultProps = {\n    cancel: 'ra.action.cancel',\n    classes: {},\n    confirm: 'ra.action.confirm',\n    confirmColor: 'primary',\n    ConfirmIcon: ActionCheck,\n    CancelIcon: AlertError,\n    isOpen: false,\n};\nexport default Confirm;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { Fragment, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport ActionDelete from '@material-ui/icons/Delete';\nimport { fade } from '@material-ui/core/styles/colorManipulator';\nimport inflection from 'inflection';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate, useDeleteMany, useRefresh, useNotify, useUnselectAll, CRUD_DELETE_MANY, useResourceContext, } from 'ra-core';\nimport Confirm from '../layout/Confirm';\nimport Button from './Button';\nvar useStyles = makeStyles(function (theme) { return ({\n    deleteButton: {\n        color: theme.palette.error.main,\n        '&:hover': {\n            backgroundColor: fade(theme.palette.error.main, 0.12),\n            // Reset on mouse devices\n            '@media (hover: none)': {\n                backgroundColor: 'transparent',\n            },\n        },\n    },\n}); }, { name: 'RaBulkDeleteWithConfirmButton' });\nvar defaultIcon = React.createElement(ActionDelete, null);\nvar BulkDeleteWithConfirmButton = function (props) {\n    var basePath = props.basePath, classesOverride = props.classes, _a = props.confirmTitle, confirmTitle = _a === void 0 ? 'ra.message.bulk_delete_title' : _a, _b = props.confirmContent, confirmContent = _b === void 0 ? 'ra.message.bulk_delete_content' : _b, _c = props.icon, icon = _c === void 0 ? defaultIcon : _c, label = props.label, onClick = props.onClick, selectedIds = props.selectedIds, rest = __rest(props, [\"basePath\", \"classes\", \"confirmTitle\", \"confirmContent\", \"icon\", \"label\", \"onClick\", \"selectedIds\"]);\n    var _d = useState(false), isOpen = _d[0], setOpen = _d[1];\n    var classes = useStyles(props);\n    var notify = useNotify();\n    var unselectAll = useUnselectAll();\n    var refresh = useRefresh();\n    var translate = useTranslate();\n    var resource = useResourceContext(props);\n    var _e = useDeleteMany(resource, selectedIds, {\n        action: CRUD_DELETE_MANY,\n        onSuccess: function () {\n            refresh();\n            notify('ra.notification.deleted', 'info', {\n                smart_count: selectedIds.length,\n            });\n            unselectAll(resource);\n        },\n        onFailure: function (error) {\n            notify(typeof error === 'string'\n                ? error\n                : error.message || 'ra.notification.http_error', 'warning', {\n                _: typeof error === 'string'\n                    ? error\n                    : error && error.message\n                        ? error.message\n                        : undefined,\n            });\n            setOpen(false);\n        },\n    }), deleteMany = _e[0], loading = _e[1].loading;\n    var handleClick = function (e) {\n        setOpen(true);\n        e.stopPropagation();\n    };\n    var handleDialogClose = function () {\n        setOpen(false);\n    };\n    var handleDelete = function (e) {\n        deleteMany();\n        if (typeof onClick === 'function') {\n            onClick(e);\n        }\n    };\n    return (React.createElement(Fragment, null,\n        React.createElement(Button, __assign({ onClick: handleClick, label: label, className: classes.deleteButton }, sanitizeRestProps(rest)), icon),\n        React.createElement(Confirm, { isOpen: isOpen, loading: loading, title: confirmTitle, content: confirmContent, translateOptions: {\n                smart_count: selectedIds.length,\n                name: translate(\"resources.\" + resource + \".forcedCaseName\", {\n                    smart_count: selectedIds.length,\n                    _: inflection.humanize(translate(\"resources.\" + resource + \".name\", {\n                        smart_count: selectedIds.length,\n                        _: inflection.inflect(resource, selectedIds.length),\n                    }), true),\n                }),\n            }, onConfirm: handleDelete, onClose: handleDialogClose })));\n};\nvar sanitizeRestProps = function (_a) {\n    var basePath = _a.basePath, classes = _a.classes, filterValues = _a.filterValues, label = _a.label, rest = __rest(_a, [\"basePath\", \"classes\", \"filterValues\", \"label\"]);\n    return rest;\n};\nBulkDeleteWithConfirmButton.propTypes = {\n    basePath: PropTypes.string,\n    classes: PropTypes.object,\n    confirmTitle: PropTypes.string,\n    confirmContent: PropTypes.string,\n    label: PropTypes.string,\n    resource: PropTypes.string,\n    selectedIds: PropTypes.arrayOf(PropTypes.any),\n    icon: PropTypes.element,\n};\nBulkDeleteWithConfirmButton.defaultProps = {\n    label: 'ra.action.delete',\n};\nexport default BulkDeleteWithConfirmButton;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport ActionDelete from '@material-ui/icons/Delete';\nimport { fade } from '@material-ui/core/styles/colorManipulator';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useDeleteMany, useRefresh, useNotify, useUnselectAll, CRUD_DELETE_MANY, useResourceContext, useListContext, } from 'ra-core';\nimport Button from './Button';\nvar useStyles = makeStyles(function (theme) { return ({\n    deleteButton: {\n        color: theme.palette.error.main,\n        '&:hover': {\n            backgroundColor: fade(theme.palette.error.main, 0.12),\n            // Reset on mouse devices\n            '@media (hover: none)': {\n                backgroundColor: 'transparent',\n            },\n        },\n    },\n}); }, { name: 'RaBulkDeleteWithUndoButton' });\nvar BulkDeleteWithUndoButton = function (props) {\n    var basePath = props.basePath, classesOverride = props.classes, icon = props.icon, label = props.label, onClick = props.onClick, rest = __rest(props, [\"basePath\", \"classes\", \"icon\", \"label\", \"onClick\"]);\n    var selectedIds = useListContext(props).selectedIds;\n    var classes = useStyles(props);\n    var notify = useNotify();\n    var unselectAll = useUnselectAll();\n    var refresh = useRefresh();\n    var resource = useResourceContext(props);\n    var _a = useDeleteMany(resource, selectedIds, {\n        action: CRUD_DELETE_MANY,\n        onSuccess: function () {\n            notify('ra.notification.deleted', 'info', { smart_count: selectedIds.length }, true);\n            unselectAll(resource);\n            refresh();\n        },\n        onFailure: function (error) {\n            return notify(typeof error === 'string'\n                ? error\n                : error.message || 'ra.notification.http_error', 'warning', {\n                _: typeof error === 'string'\n                    ? error\n                    : error && error.message\n                        ? error.message\n                        : undefined,\n            });\n        },\n        undoable: true,\n    }), deleteMany = _a[0], loading = _a[1].loading;\n    var handleClick = function (e) {\n        deleteMany();\n        if (typeof onClick === 'function') {\n            onClick(e);\n        }\n    };\n    return (React.createElement(Button, __assign({ onClick: handleClick, label: label, className: classes.deleteButton, disabled: loading }, sanitizeRestProps(rest)), icon));\n};\nvar sanitizeRestProps = function (_a) {\n    var basePath = _a.basePath, classes = _a.classes, filterValues = _a.filterValues, label = _a.label, selectedIds = _a.selectedIds, rest = __rest(_a, [\"basePath\", \"classes\", \"filterValues\", \"label\", \"selectedIds\"]);\n    return rest;\n};\nBulkDeleteWithUndoButton.propTypes = {\n    basePath: PropTypes.string,\n    classes: PropTypes.object,\n    label: PropTypes.string,\n    resource: PropTypes.string,\n    selectedIds: PropTypes.arrayOf(PropTypes.any),\n    icon: PropTypes.element,\n};\nBulkDeleteWithUndoButton.defaultProps = {\n    label: 'ra.action.delete',\n    icon: React.createElement(ActionDelete, null),\n};\nexport default BulkDeleteWithUndoButton;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport BulkDeleteWithConfirmButton from './BulkDeleteWithConfirmButton';\nimport BulkDeleteWithUndoButton from './BulkDeleteWithUndoButton';\n/**\n * Deletes the selected rows.\n *\n * To be used inside the <List bulkActionButtons> prop (where it's enabled by default).\n *\n * @example // basic usage\n * import * as React from 'react';\n * import { Fragment } from 'react';\n * import { BulkDeleteButton, BulkExportButton } from 'react-admin';\n *\n * const PostBulkActionButtons = ({ basePath }) => (\n *     <Fragment>\n *         <BulkExportButton />\n *         <BulkDeleteButton basePath={basePath} />\n *     </Fragment>\n * );\n *\n * export const PostList = (props) => (\n *     <List {...props} bulkActionButtons={<PostBulkActionButtons />}>\n *         ...\n *     </List>\n * );\n */\nvar BulkDeleteButton = function (_a) {\n    var undoable = _a.undoable, props = __rest(_a, [\"undoable\"]);\n    return undoable ? (React.createElement(BulkDeleteWithUndoButton, __assign({}, props))) : (React.createElement(BulkDeleteWithConfirmButton, __assign({}, props)));\n};\nBulkDeleteButton.propTypes = {\n    basePath: PropTypes.string,\n    label: PropTypes.string,\n    resource: PropTypes.string,\n    selectedIds: PropTypes.arrayOf(PropTypes.any),\n    undoable: PropTypes.bool,\n    icon: PropTypes.element,\n};\nBulkDeleteButton.defaultProps = {\n    undoable: true,\n};\nexport default BulkDeleteButton;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nvar useStyles = makeStyles(function (theme) {\n    var _a;\n    return ({\n        root: (_a = {\n                display: 'flex',\n                justifyContent: 'flex-end',\n                alignItems: 'flex-start',\n                paddingTop: theme.spacing(3),\n                paddingBottom: theme.spacing(1),\n                minHeight: theme.spacing(5)\n            },\n            _a[theme.breakpoints.up('xs')] = {\n                paddingLeft: 0,\n                paddingRight: 0,\n            },\n            _a[theme.breakpoints.down('sm')] = {\n                paddingRight: theme.spacing(2),\n            },\n            _a[theme.breakpoints.down('xs')] = {\n                padding: theme.spacing(1),\n                backgroundColor: theme.palette.background.paper,\n            },\n            _a),\n    });\n}, { name: 'RaTopToolbar' });\nvar TopToolbar = function (props) {\n    var className = props.className, children = props.children, rest = __rest(props, [\"className\", \"children\"]);\n    var classes = useStyles(props);\n    return (React.createElement(Toolbar, __assign({ className: classnames(classes.root, className) }, rest), children));\n};\nTopToolbar.propTypes = {\n    children: PropTypes.node,\n    className: PropTypes.string,\n};\nexport default TopToolbar;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { Children, cloneElement, isValidElement } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { lighten } from '@material-ui/core/styles/colorManipulator';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { useTranslate, sanitizeListRestProps, useListContext } from 'ra-core';\nimport TopToolbar from '../layout/TopToolbar';\nvar useStyles = makeStyles(function (theme) { return ({\n    toolbar: {\n        zIndex: 3,\n        color: theme.palette.type === 'light'\n            ? theme.palette.primary.main\n            : theme.palette.text.primary,\n        justifyContent: 'space-between',\n        backgroundColor: theme.palette.type === 'light'\n            ? lighten(theme.palette.primary.light, 0.85)\n            : theme.palette.primary.dark,\n        minHeight: theme.spacing(8),\n        height: theme.spacing(8),\n        transition: theme.transitions.create('height') + \", \" + theme.transitions.create('min-height'),\n    },\n    topToolbar: {\n        paddingTop: theme.spacing(2),\n    },\n    buttons: {},\n    collapsed: {\n        minHeight: 0,\n        height: 0,\n        overflowY: 'hidden',\n    },\n    title: {\n        display: 'flex',\n        flex: '0 0 auto',\n    },\n    icon: {\n        marginLeft: '-0.5em',\n        marginRight: '0.5em',\n    },\n}); }, { name: 'RaBulkActionsToolbar' });\nvar BulkActionsToolbar = function (props) {\n    var _a;\n    var classesOverride = props.classes, _b = props.label, label = _b === void 0 ? 'ra.action.bulk_actions' : _b, children = props.children, rest = __rest(props, [\"classes\", \"label\", \"children\"]);\n    var _c = useListContext(props), basePath = _c.basePath, filterValues = _c.filterValues, resource = _c.resource, selectedIds = _c.selectedIds, onUnselectItems = _c.onUnselectItems;\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    return (React.createElement(Toolbar, __assign({ \"data-test\": \"bulk-actions-toolbar\", className: classnames(classes.toolbar, (_a = {},\n            _a[classes.collapsed] = selectedIds.length === 0,\n            _a)) }, sanitizeListRestProps(rest)),\n        React.createElement(\"div\", { className: classes.title },\n            React.createElement(IconButton, { className: classes.icon, \"aria-label\": translate('ra.action.unselect'), title: translate('ra.action.unselect'), onClick: onUnselectItems, size: \"small\" },\n                React.createElement(CloseIcon, { fontSize: \"small\" })),\n            React.createElement(Typography, { color: \"inherit\", variant: \"subtitle1\" }, translate(label, {\n                _: label,\n                smart_count: selectedIds.length,\n            }))),\n        React.createElement(TopToolbar, { className: classes.topToolbar }, Children.map(children, function (child) {\n            return isValidElement(child)\n                ? cloneElement(child, {\n                    basePath: basePath,\n                    filterValues: filterValues,\n                    resource: resource,\n                    selectedIds: selectedIds,\n                })\n                : null;\n        }))));\n};\nBulkActionsToolbar.propTypes = {\n    children: PropTypes.node,\n    classes: PropTypes.object,\n    label: PropTypes.string,\n};\nexport default BulkActionsToolbar;\n","import { useSelector } from 'react-redux';\nimport defaults from 'lodash/defaults';\nimport { getResources } from '../reducer';\nimport { useResourceContext } from './useResourceContext';\nimport { useMemo } from 'react';\n/**\n * Hook which returns the definition of the requested resource\n */\nexport var useResourceDefinition = function (props) {\n    var resource = useResourceContext(props);\n    var resources = useSelector(getResources);\n    var hasCreate = props.hasCreate, hasEdit = props.hasEdit, hasList = props.hasList, hasShow = props.hasShow;\n    var definition = useMemo(function () {\n        var definitionFromRedux = resources.find(function (r) { return (r === null || r === void 0 ? void 0 : r.name) === resource; });\n        return defaults({}, {\n            hasCreate: hasCreate,\n            hasEdit: hasEdit,\n            hasList: hasList,\n            hasShow: hasShow,\n        }, definitionFromRedux);\n    }, [resource, resources, hasCreate, hasEdit, hasList, hasShow]);\n    return definition;\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { memo, useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport { Fab, useMediaQuery } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ContentAdd from '@material-ui/icons/Add';\nimport classnames from 'classnames';\nimport { Link } from 'react-router-dom';\nimport { useTranslate, useResourceContext } from 'ra-core';\nimport Button, { sanitizeButtonRestProps } from './Button';\n/**\n * Opens the Create view of a given resource\n *\n * Renders as a regular button on desktop, and a Floating Action Button\n * on mobile.\n *\n * @example // basic usage\n * import { CreateButton } from 'react-admin';\n *\n * const CommentCreateButton = () => (\n *     <CreateButton basePath=\"/comments\" label=\"Create comment\" />\n * );\n */\nvar CreateButton = function (props) {\n    var _a = props.basePath, basePath = _a === void 0 ? '' : _a, className = props.className, classesOverride = props.classes, _b = props.icon, icon = _b === void 0 ? defaultIcon : _b, _c = props.label, label = _c === void 0 ? 'ra.action.create' : _c, _d = props.scrollToTop, scrollToTop = _d === void 0 ? true : _d, variant = props.variant, rest = __rest(props, [\"basePath\", \"className\", \"classes\", \"icon\", \"label\", \"scrollToTop\", \"variant\"]);\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    var isSmall = useMediaQuery(function (theme) {\n        return theme.breakpoints.down('sm');\n    });\n    var resource = useResourceContext();\n    var location = useMemo(function () { return ({\n        pathname: basePath ? basePath + \"/create\" : \"/\" + resource + \"/create\",\n        state: { _scrollToTop: scrollToTop },\n    }); }, [basePath, resource, scrollToTop]);\n    return isSmall ? (React.createElement(Fab, __assign({ component: Link, color: \"primary\", className: classnames(classes.floating, className), to: location, \"aria-label\": label && translate(label) }, sanitizeButtonRestProps(rest)), icon)) : (React.createElement(Button, __assign({ component: Link, to: location, className: className, label: label, variant: variant }, rest), icon));\n};\nvar defaultIcon = React.createElement(ContentAdd, null);\nvar useStyles = makeStyles(function (theme) { return ({\n    floating: {\n        color: theme.palette.getContrastText(theme.palette.primary.main),\n        margin: 0,\n        top: 'auto',\n        right: 20,\n        bottom: 60,\n        left: 'auto',\n        position: 'fixed',\n        zIndex: 1000,\n    },\n}); }, { name: 'RaCreateButton' });\nCreateButton.propTypes = {\n    basePath: PropTypes.string,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    icon: PropTypes.element,\n    label: PropTypes.string,\n};\nexport default memo(CreateButton, function (prevProps, nextProps) {\n    return (prevProps.basePath === nextProps.basePath &&\n        prevProps.label === nextProps.label &&\n        prevProps.translate === nextProps.translate &&\n        prevProps.to === nextProps.to &&\n        prevProps.disabled === nextProps.disabled);\n});\n","/**\n * Helper function for calling the dataProvider.getMany() method,\n * and getting a Promise for the records indexed by id in return.\n *\n * @example\n *     fetchRelatedRecords(dataProvider)(records, 'post_id', 'posts').then(posts =>\n *         posts.map(record => ({\n *             ...record,\n *             post_title: posts[record.post_id].title,\n *         }))\n *     );\n */\nvar fetchRelatedRecords = function (dataProvider) { return function (data, field, resource) {\n    return dataProvider\n        .getMany(resource, { ids: getRelatedIds(data, field) })\n        .then(function (_a) {\n        var data = _a.data;\n        return data.reduce(function (acc, post) {\n            acc[post.id] = post;\n            return acc;\n        }, {});\n    });\n}; };\n/**\n * Extracts, aggregates and deduplicates the ids of related records\n *\n * @example\n *     const books = [\n *         { id: 1, author_id: 123, title: 'Pride and Prejudice' },\n *         { id: 2, author_id: 123, title: 'Sense and Sensibility' },\n *         { id: 3, author_id: 456, title: 'War and Peace' },\n *     ];\n *     getRelatedIds(books, 'author_id'); => [123, 456]\n *\n * @example\n *     const books = [\n *         { id: 1, tag_ids: [1, 2], title: 'Pride and Prejudice' },\n *         { id: 2, tag_ids: [2, 3], title: 'Sense and Sensibility' },\n *         { id: 3, tag_ids: [4], title: 'War and Peace' },\n *     ];\n *     getRelatedIds(records, 'tag_ids'); => [1, 2, 3, 4]\n *\n * @param {Object[]} records An array of records\n * @param {string} field the identifier of the record field to use\n */\nexport var getRelatedIds = function (records, field) {\n    return Array.from(new Set(records\n        .filter(function (record) { return record[field] != null; })\n        .map(function (record) { return record[field]; })\n        .reduce(function (ids, value) { return ids.concat(value); }, [])));\n};\nexport default fetchRelatedRecords;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport DownloadIcon from '@material-ui/icons/GetApp';\nimport { fetchRelatedRecords, useDataProvider, useNotify, useListContext, useResourceContext, } from 'ra-core';\nimport Button from './Button';\nvar ExportButton = function (props) {\n    var _a = props.maxResults, maxResults = _a === void 0 ? 1000 : _a, onClick = props.onClick, _b = props.label, label = _b === void 0 ? 'ra.action.export' : _b, _c = props.icon, icon = _c === void 0 ? defaultIcon : _c, customExporter = props.exporter, sort = props.sort, // deprecated, to be removed in v4\n    rest = __rest(props, [\"maxResults\", \"onClick\", \"label\", \"icon\", \"exporter\", \"sort\"]);\n    var _d = useListContext(props), filter = _d.filter, filterValues = _d.filterValues, currentSort = _d.currentSort, exporterFromContext = _d.exporter, total = _d.total;\n    var resource = useResourceContext(props);\n    var exporter = customExporter || exporterFromContext;\n    var dataProvider = useDataProvider();\n    var notify = useNotify();\n    var handleClick = useCallback(function (event) {\n        dataProvider\n            .getList(resource, {\n            sort: currentSort || sort,\n            filter: filter\n                ? __assign(__assign({}, filterValues), filter) : filterValues,\n            pagination: { page: 1, perPage: maxResults },\n        })\n            .then(function (_a) {\n            var data = _a.data;\n            return exporter &&\n                exporter(data, fetchRelatedRecords(dataProvider), dataProvider, resource);\n        })\n            .catch(function (error) {\n            console.error(error);\n            notify('ra.notification.http_error', 'warning');\n        });\n        if (typeof onClick === 'function') {\n            onClick(event);\n        }\n    }, [\n        currentSort,\n        dataProvider,\n        exporter,\n        filter,\n        filterValues,\n        maxResults,\n        notify,\n        onClick,\n        resource,\n        sort,\n    ]);\n    return (React.createElement(Button, __assign({ onClick: handleClick, label: label, disabled: total === 0 }, sanitizeRestProps(rest)), icon));\n};\nvar defaultIcon = React.createElement(DownloadIcon, null);\nvar sanitizeRestProps = function (_a) {\n    var basePath = _a.basePath, filterValues = _a.filterValues, resource = _a.resource, rest = __rest(_a, [\"basePath\", \"filterValues\", \"resource\"]);\n    return rest;\n};\nExportButton.propTypes = {\n    basePath: PropTypes.string,\n    exporter: PropTypes.func,\n    filterValues: PropTypes.object,\n    label: PropTypes.string,\n    maxResults: PropTypes.number,\n    resource: PropTypes.string,\n    sort: PropTypes.exact({\n        field: PropTypes.string,\n        order: PropTypes.string,\n    }),\n    icon: PropTypes.element,\n};\nexport default ExportButton;\n","import inflection from 'inflection';\n/**\n * Returns an array of arguments to use with the translate function for the label of a field.\n * The label will be the one specified by the label prop or one computed from the resource and source props.\n *\n * Usage:\n *  <span>\n *      {translate(...getFieldLabelTranslationArgs({ label, resource, source }))}\n *  </span>\n */\nexport default (function (options) {\n    if (!options) {\n        return [''];\n    }\n    var label = options.label, resource = options.resource, source = options.source;\n    return typeof label !== 'undefined'\n        ? [label, { _: label }]\n        : typeof source !== 'undefined'\n            ? [\n                \"resources.\" + resource + \".fields.\" + source,\n                {\n                    _: inflection.transform(source, ['underscore', 'humanize']),\n                },\n            ]\n            : [''];\n});\n","import * as React from 'react';\nimport { memo } from 'react';\nimport useTranslate from '../i18n/useTranslate';\nimport getFieldLabelTranslationArgs from './getFieldLabelTranslationArgs';\nexport var FieldTitle = function (_a) {\n    var resource = _a.resource, source = _a.source, label = _a.label, isRequired = _a.isRequired;\n    var translate = useTranslate();\n    if (label === false || label === '') {\n        return null;\n    }\n    if (label && typeof label !== 'string') {\n        return label;\n    }\n    return (React.createElement(\"span\", null,\n        translate.apply(void 0, getFieldLabelTranslationArgs({\n            label: label,\n            resource: resource,\n            source: source,\n        })),\n        isRequired && ' *'));\n};\n// What? TypeScript loses the displayName if we don't set it explicitly\nFieldTitle.displayName = 'FieldTitle';\nexport default memo(FieldTitle);\n","import * as React from 'react';\nimport { forwardRef, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { FieldTitle, useResourceContext } from 'ra-core';\nexport var FilterButtonMenuItem = forwardRef(function (props, ref) {\n    var filter = props.filter, onShow = props.onShow;\n    var resource = useResourceContext(props);\n    var handleShow = useCallback(function () {\n        onShow({\n            source: filter.props.source,\n            defaultValue: filter.props.defaultValue,\n        });\n    }, [filter.props.defaultValue, filter.props.source, onShow]);\n    return (React.createElement(MenuItem, { className: \"new-filter-item\", \"data-key\": filter.props.source, \"data-default-value\": filter.props.defaultValue, key: filter.props.source, onClick: handleShow, ref: ref },\n        React.createElement(FieldTitle, { label: filter.props.label, source: filter.props.source, resource: resource })));\n});\nFilterButtonMenuItem.propTypes = {\n    filter: PropTypes.element.isRequired,\n    onShow: PropTypes.func.isRequired,\n    resource: PropTypes.string,\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useState, useCallback, useRef, useContext, } from 'react';\nimport PropTypes from 'prop-types';\nimport Menu from '@material-ui/core/Menu';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ContentFilter from '@material-ui/icons/FilterList';\nimport classnames from 'classnames';\nimport lodashGet from 'lodash/get';\nimport { useListContext, useResourceContext } from 'ra-core';\nimport { FilterButtonMenuItem } from './FilterButtonMenuItem';\nimport Button from '../../button/Button';\nimport { FilterContext } from '../FilterContext';\nvar useStyles = makeStyles({\n    root: { display: 'inline-block' },\n}, { name: 'RaFilterButton' });\nvar FilterButton = function (props) {\n    var filtersProp = props.filters, classesOverride = props.classes, className = props.className, rest = __rest(props, [\"filters\", \"classes\", \"className\"]);\n    var filters = useContext(FilterContext) || filtersProp;\n    var resource = useResourceContext(props);\n    var _a = useListContext(props), _b = _a.displayedFilters, displayedFilters = _b === void 0 ? {} : _b, filterValues = _a.filterValues, showFilter = _a.showFilter;\n    var _c = useState(false), open = _c[0], setOpen = _c[1];\n    var anchorEl = useRef();\n    var classes = useStyles(props);\n    var hiddenFilters = filters.filter(function (filterElement) {\n        return !filterElement.props.alwaysOn &&\n            !displayedFilters[filterElement.props.source] &&\n            typeof lodashGet(filterValues, filterElement.props.source) ===\n                'undefined';\n    });\n    var handleClickButton = useCallback(function (event) {\n        // This prevents ghost click.\n        event.preventDefault();\n        setOpen(true);\n        anchorEl.current = event.currentTarget;\n    }, [anchorEl, setOpen]);\n    var handleRequestClose = useCallback(function () {\n        setOpen(false);\n    }, [setOpen]);\n    var handleShow = useCallback(function (_a) {\n        var source = _a.source, defaultValue = _a.defaultValue;\n        showFilter(source, defaultValue);\n        setOpen(false);\n    }, [showFilter, setOpen]);\n    if (hiddenFilters.length === 0)\n        return null;\n    return (React.createElement(\"div\", __assign({ className: classnames(classes.root, className) }, sanitizeRestProps(rest)),\n        React.createElement(Button, { className: \"add-filter\", label: \"ra.action.add_filter\", onClick: handleClickButton },\n            React.createElement(ContentFilter, null)),\n        React.createElement(Menu, { open: open, anchorEl: anchorEl.current, onClose: handleRequestClose }, hiddenFilters.map(function (filterElement) { return (React.createElement(FilterButtonMenuItem, { key: filterElement.props.source, filter: filterElement, resource: resource, onShow: handleShow })); }))));\n};\nvar sanitizeRestProps = function (_a) {\n    var _b = _a.displayedFilters, displayedFilters = _b === void 0 ? null : _b, _c = _a.filterValues, filterValues = _c === void 0 ? null : _c, _d = _a.showFilter, showFilter = _d === void 0 ? null : _d, rest = __rest(_a, [\"displayedFilters\", \"filterValues\", \"showFilter\"]);\n    return rest;\n};\nFilterButton.propTypes = {\n    resource: PropTypes.string,\n    filters: PropTypes.arrayOf(PropTypes.node),\n    displayedFilters: PropTypes.object,\n    filterValues: PropTypes.object,\n    showFilter: PropTypes.func,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n};\nexport default FilterButton;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { cloneElement, useMemo, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { sanitizeListRestProps, useListContext, useResourceContext, useResourceDefinition, } from 'ra-core';\nimport TopToolbar from '../layout/TopToolbar';\nimport { CreateButton, ExportButton } from '../button';\nimport { FilterContext } from './FilterContext';\nimport FilterButton from './filter/FilterButton';\n/**\n * Action Toolbar for the List view\n *\n * Internal component. If you want to add or remove actions for a List view,\n * write your own ListActions Component. Then, in the <List> component,\n * use it in the `actions` prop to pass a custom component.\n *\n * @example\n *     import { cloneElement } from 'react';\n *     import Button from '@material-ui/core/Button';\n *     import { TopToolbar, List, CreateButton, ExportButton } from 'react-admin';\n *\n *     const PostListActions = ({ basePath, filters }) => (\n *         <TopToolbar>\n *             { cloneElement(filters, { context: 'button' }) }\n *             <CreateButton/>\n *             <ExportButton/>\n *             // Add your custom actions here //\n *             <Button onClick={customAction}>Custom Action</Button>\n *         </TopToolbar>\n *     );\n *\n *     export const PostList = (props) => (\n *         <List actions={<PostListActions />} {...props}>\n *             ...\n *         </List>\n *     );\n */\nvar ListActions = function (props) {\n    var className = props.className, exporter = props.exporter, filtersProp = props.filters, rest = __rest(props, [\"className\", \"exporter\", \"filters\"]);\n    var _a = useListContext(props), currentSort = _a.currentSort, displayedFilters = _a.displayedFilters, filterValues = _a.filterValues, basePath = _a.basePath, selectedIds = _a.selectedIds, showFilter = _a.showFilter, total = _a.total;\n    var resource = useResourceContext(rest);\n    var hasCreate = useResourceDefinition(rest).hasCreate;\n    var filters = useContext(FilterContext) || filtersProp;\n    return useMemo(function () { return (React.createElement(TopToolbar, __assign({ className: className }, sanitizeListRestProps(rest)),\n        filtersProp\n            ? cloneElement(filtersProp, {\n                resource: resource,\n                showFilter: showFilter,\n                displayedFilters: displayedFilters,\n                filterValues: filterValues,\n                context: 'button',\n            })\n            : filters && React.createElement(FilterButton, null),\n        hasCreate && React.createElement(CreateButton, { basePath: basePath }),\n        exporter !== false && (React.createElement(ExportButton, { disabled: total === 0, resource: resource, sort: currentSort, filterValues: filterValues })))); }, [resource, displayedFilters, filterValues, selectedIds, filters, total] // eslint-disable-line react-hooks/exhaustive-deps\n    );\n};\nListActions.propTypes = {\n    basePath: PropTypes.string,\n    className: PropTypes.string,\n    currentSort: PropTypes.any,\n    displayedFilters: PropTypes.object,\n    exporter: PropTypes.oneOfType([PropTypes.func, PropTypes.bool]),\n    filters: PropTypes.element,\n    filterValues: PropTypes.object,\n    hasCreate: PropTypes.bool,\n    resource: PropTypes.string,\n    onUnselectItems: PropTypes.func.isRequired,\n    selectedIds: PropTypes.arrayOf(PropTypes.any),\n    showFilter: PropTypes.func,\n    total: PropTypes.number,\n};\nListActions.defaultProps = {\n    selectedIds: [],\n    onUnselectItems: function () { return null; },\n};\nexport default ListActions;\n","import * as React from 'react';\nimport { Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Inbox from '@material-ui/icons/Inbox';\nimport { useTranslate, useListContext, useResourceContext, useGetResourceLabel, } from 'ra-core';\nimport { CreateButton } from '../button';\nexport var Empty = function (props) {\n    var _a = useListContext(props), basePath = _a.basePath, hasCreate = _a.hasCreate;\n    var resource = useResourceContext(props);\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    var getResourceLabel = useGetResourceLabel();\n    var resourceName = translate(\"resources.\" + resource + \".forcedCaseName\", {\n        smart_count: 0,\n        _: getResourceLabel(resource, 0),\n    });\n    var emptyMessage = translate('ra.page.empty', { name: resourceName });\n    var inviteMessage = translate('ra.page.invite');\n    return (React.createElement(React.Fragment, null,\n        React.createElement(\"div\", { className: classes.message },\n            React.createElement(Inbox, { className: classes.icon }),\n            React.createElement(Typography, { variant: \"h4\", paragraph: true }, translate(\"resources.\" + resource + \".empty\", {\n                _: emptyMessage,\n            })),\n            hasCreate && (React.createElement(Typography, { variant: \"body1\" }, translate(\"resources.\" + resource + \".invite\", {\n                _: inviteMessage,\n            })))),\n        hasCreate && (React.createElement(\"div\", { className: classes.toolbar },\n            React.createElement(CreateButton, { variant: \"contained\", basePath: basePath })))));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    message: {\n        textAlign: 'center',\n        opacity: theme.palette.type === 'light' ? 0.5 : 0.8,\n        margin: '0 1em',\n        color: theme.palette.type === 'light'\n            ? 'inherit'\n            : theme.palette.text.primary,\n    },\n    icon: {\n        width: '9em',\n        height: '9em',\n    },\n    toolbar: {\n        textAlign: 'center',\n        marginTop: '2em',\n    },\n}); }, { name: 'RaEmpty' });\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { Children, cloneElement } from 'react';\nimport PropTypes from 'prop-types';\nimport Card from '@material-ui/core/Card';\nimport classnames from 'classnames';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { ComponentPropType, defaultExporter, useListContext, getListControllerProps, useVersion, } from 'ra-core';\nimport Title, { TitlePropType } from '../layout/Title';\nimport ListToolbar from './ListToolbar';\nimport DefaultPagination from './pagination/Pagination';\nimport BulkDeleteButton from '../button/BulkDeleteButton';\nimport BulkActionsToolbar from './BulkActionsToolbar';\nimport DefaultActions from './ListActions';\nimport { Empty } from './Empty';\nexport var ListView = function (props) {\n    var actions = props.actions, aside = props.aside, filters = props.filters, bulkActionButtons = props.bulkActionButtons, pagination = props.pagination, children = props.children, className = props.className, classesOverride = props.classes, Content = props.component, _a = props.exporter, exporter = _a === void 0 ? defaultExporter : _a, title = props.title, empty = props.empty, rest = __rest(props, [\"actions\", \"aside\", \"filters\", \"bulkActionButtons\", \"pagination\", \"children\", \"className\", \"classes\", \"component\", \"exporter\", \"title\", \"empty\"]);\n    var controllerProps = getListControllerProps(props); // deprecated, to be removed in v4\n    var listContext = useListContext(props);\n    var classes = useStyles(props);\n    var defaultTitle = listContext.defaultTitle, total = listContext.total, loaded = listContext.loaded, loading = listContext.loading, filterValues = listContext.filterValues, selectedIds = listContext.selectedIds;\n    var version = useVersion();\n    var renderList = function () {\n        var _a;\n        return (React.createElement(React.Fragment, null,\n            (filters || actions) && (React.createElement(ListToolbar, __assign({ filters: filters }, controllerProps, { actions: actions, exporter: exporter }))),\n            React.createElement(\"div\", { className: classes.main },\n                React.createElement(Content, { className: classnames(classes.content, (_a = {},\n                        _a[classes.bulkActionsDisplayed] = selectedIds.length > 0,\n                        _a)), key: version },\n                    bulkActionButtons !== false && bulkActionButtons && (React.createElement(BulkActionsToolbar, __assign({}, controllerProps), bulkActionButtons)),\n                    children &&\n                        // @ts-ignore-line\n                        cloneElement(Children.only(children), __assign(__assign({}, controllerProps), { hasBulkActions: bulkActionButtons !== false })),\n                    pagination && cloneElement(pagination, listContext)),\n                aside && cloneElement(aside, listContext))));\n    };\n    var shouldRenderEmptyPage = loaded && !loading && total === 0 && !Object.keys(filterValues).length;\n    return (React.createElement(\"div\", __assign({ className: classnames('list-page', classes.root, className) }, sanitizeRestProps(rest)),\n        React.createElement(Title, { title: title, defaultTitle: defaultTitle }),\n        shouldRenderEmptyPage && empty !== false\n            ? cloneElement(empty, listContext)\n            : renderList()));\n};\nListView.propTypes = {\n    // @ts-ignore-line\n    actions: PropTypes.oneOfType([PropTypes.bool, PropTypes.element]),\n    aside: PropTypes.element,\n    basePath: PropTypes.string,\n    // @ts-ignore-line\n    bulkActionButtons: PropTypes.oneOfType([PropTypes.bool, PropTypes.element]),\n    children: PropTypes.element,\n    className: PropTypes.string,\n    classes: PropTypes.object,\n    component: ComponentPropType,\n    // @ts-ignore-line\n    currentSort: PropTypes.shape({\n        field: PropTypes.string.isRequired,\n        order: PropTypes.string.isRequired,\n    }),\n    data: PropTypes.any,\n    defaultTitle: PropTypes.string,\n    displayedFilters: PropTypes.object,\n    // @ts-ignore-line\n    exporter: PropTypes.oneOfType([PropTypes.func, PropTypes.bool]),\n    filterDefaultValues: PropTypes.object,\n    filters: PropTypes.oneOfType([\n        PropTypes.element,\n        PropTypes.arrayOf(PropTypes.element),\n    ]),\n    filterValues: PropTypes.object,\n    hasCreate: PropTypes.bool,\n    hideFilter: PropTypes.func,\n    ids: PropTypes.array,\n    loading: PropTypes.bool,\n    onSelect: PropTypes.func,\n    onToggleItem: PropTypes.func,\n    onUnselectItems: PropTypes.func,\n    page: PropTypes.number,\n    // @ts-ignore-line\n    pagination: PropTypes.oneOfType([PropTypes.element, PropTypes.bool]),\n    perPage: PropTypes.number,\n    refresh: PropTypes.func,\n    resource: PropTypes.string,\n    selectedIds: PropTypes.array,\n    setFilters: PropTypes.func,\n    setPage: PropTypes.func,\n    setPerPage: PropTypes.func,\n    setSort: PropTypes.func,\n    showFilter: PropTypes.func,\n    title: TitlePropType,\n    total: PropTypes.number,\n    version: PropTypes.number,\n};\nvar DefaultBulkActionButtons = function (props) { return React.createElement(BulkDeleteButton, __assign({}, props)); };\nListView.defaultProps = {\n    actions: React.createElement(DefaultActions, null),\n    classes: {},\n    component: Card,\n    bulkActionButtons: React.createElement(DefaultBulkActionButtons, null),\n    pagination: React.createElement(DefaultPagination, null),\n    empty: React.createElement(Empty, null),\n};\nvar useStyles = makeStyles(function (theme) {\n    var _a;\n    return ({\n        root: {},\n        main: {\n            display: 'flex',\n        },\n        content: (_a = {\n                marginTop: 0,\n                transition: theme.transitions.create('margin-top'),\n                position: 'relative',\n                flex: '1 1 auto'\n            },\n            _a[theme.breakpoints.down('xs')] = {\n                boxShadow: 'none',\n            },\n            _a.overflow = 'inherit',\n            _a),\n        bulkActionsDisplayed: {\n            marginTop: -theme.spacing(8),\n            transition: theme.transitions.create('margin-top'),\n        },\n        actions: {\n            zIndex: 2,\n            display: 'flex',\n            justifyContent: 'flex-end',\n            flexWrap: 'wrap',\n        },\n        noResults: { padding: 20 },\n    });\n}, { name: 'RaList' });\nvar sanitizeRestProps = function (_a) {\n    var _b = _a.basePath, basePath = _b === void 0 ? null : _b, _c = _a.currentSort, currentSort = _c === void 0 ? null : _c, _d = _a.data, data = _d === void 0 ? null : _d, _e = _a.defaultTitle, defaultTitle = _e === void 0 ? null : _e, _f = _a.displayedFilters, displayedFilters = _f === void 0 ? null : _f, _g = _a.filterDefaultValues, filterDefaultValues = _g === void 0 ? null : _g, _h = _a.filterValues, filterValues = _h === void 0 ? null : _h, _j = _a.hasCreate, hasCreate = _j === void 0 ? null : _j, _k = _a.hasEdit, hasEdit = _k === void 0 ? null : _k, _l = _a.hasList, hasList = _l === void 0 ? null : _l, _m = _a.hasShow, hasShow = _m === void 0 ? null : _m, _o = _a.hideFilter, hideFilter = _o === void 0 ? null : _o, _p = _a.history, history = _p === void 0 ? null : _p, _q = _a.ids, ids = _q === void 0 ? null : _q, _r = _a.loading, loading = _r === void 0 ? null : _r, _s = _a.loaded, loaded = _s === void 0 ? null : _s, _t = _a.location, location = _t === void 0 ? null : _t, _u = _a.match, match = _u === void 0 ? null : _u, _v = _a.onSelect, onSelect = _v === void 0 ? null : _v, _w = _a.onToggleItem, onToggleItem = _w === void 0 ? null : _w, _x = _a.onUnselectItems, onUnselectItems = _x === void 0 ? null : _x, _y = _a.options, options = _y === void 0 ? null : _y, _z = _a.page, page = _z === void 0 ? null : _z, _0 = _a.permissions, permissions = _0 === void 0 ? null : _0, _1 = _a.perPage, perPage = _1 === void 0 ? null : _1, _2 = _a.refetch, refetch = _2 === void 0 ? null : _2, _3 = _a.resource, resource = _3 === void 0 ? null : _3, _4 = _a.selectedIds, selectedIds = _4 === void 0 ? null : _4, _5 = _a.setFilters, setFilters = _5 === void 0 ? null : _5, _6 = _a.setPage, setPage = _6 === void 0 ? null : _6, _7 = _a.setPerPage, setPerPage = _7 === void 0 ? null : _7, _8 = _a.setSort, setSort = _8 === void 0 ? null : _8, _9 = _a.showFilter, showFilter = _9 === void 0 ? null : _9, _10 = _a.syncWithLocation, syncWithLocation = _10 === void 0 ? null : _10, _11 = _a.sort, sort = _11 === void 0 ? null : _11, _12 = _a.total, total = _12 === void 0 ? null : _12, rest = __rest(_a, [\"basePath\", \"currentSort\", \"data\", \"defaultTitle\", \"displayedFilters\", \"filterDefaultValues\", \"filterValues\", \"hasCreate\", \"hasEdit\", \"hasList\", \"hasShow\", \"hideFilter\", \"history\", \"ids\", \"loading\", \"loaded\", \"location\", \"match\", \"onSelect\", \"onToggleItem\", \"onUnselectItems\", \"options\", \"page\", \"permissions\", \"perPage\", \"refetch\", \"resource\", \"selectedIds\", \"setFilters\", \"setPage\", \"setPerPage\", \"setSort\", \"showFilter\", \"syncWithLocation\", \"sort\", \"total\"]);\n    return rest;\n};\nexport default ListView;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { memo } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { TableCell, TableSortLabel, Tooltip } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FieldTitle, useTranslate, useResourceContext, } from 'ra-core';\n// remove the sort icons when not active\nvar useStyles = makeStyles({\n    icon: {\n        display: 'none',\n    },\n    active: {\n        '& $icon': {\n            display: 'inline',\n        },\n    },\n}, { name: 'RaDatagridHeaderCell' });\nexport var DatagridHeaderCell = function (props) {\n    var className = props.className, classesOverride = props.classes, field = props.field, currentSort = props.currentSort, updateSort = props.updateSort, isSorting = props.isSorting, rest = __rest(props, [\"className\", \"classes\", \"field\", \"currentSort\", \"updateSort\", \"isSorting\"]);\n    var resource = useResourceContext(props);\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    return (React.createElement(TableCell, __assign({ className: classnames(className, field.props.headerClassName), align: field.props.textAlign, variant: \"head\" }, rest), updateSort &&\n        field.props.sortable !== false &&\n        (field.props.sortBy || field.props.source) ? (React.createElement(Tooltip, { title: translate('ra.action.sort'), placement: field.props.textAlign === 'right'\n            ? 'bottom-end'\n            : 'bottom-start', enterDelay: 300 },\n        React.createElement(TableSortLabel, { active: currentSort.field ===\n                (field.props.sortBy || field.props.source), direction: currentSort.order === 'ASC' ? 'asc' : 'desc', \"data-sort\": field.props.sortBy || field.props.source, \"data-field\": field.props.sortBy || field.props.source, \"data-order\": field.props.sortByOrder || 'ASC', onClick: updateSort, classes: classes },\n            React.createElement(FieldTitle, { label: field.props.label, source: field.props.source, resource: resource })))) : (React.createElement(FieldTitle, { label: field.props.label, source: field.props.source, resource: resource }))));\n};\nDatagridHeaderCell.propTypes = {\n    className: PropTypes.string,\n    classes: PropTypes.object,\n    field: PropTypes.element,\n    currentSort: PropTypes.shape({\n        sort: PropTypes.string,\n        order: PropTypes.string,\n    }).isRequired,\n    isSorting: PropTypes.bool,\n    resource: PropTypes.string,\n    updateSort: PropTypes.func,\n};\nexport default memo(DatagridHeaderCell, function (props, nextProps) {\n    return props.updateSort === nextProps.updateSort &&\n        props.currentSort.field === nextProps.currentSort.field &&\n        props.currentSort.order === nextProps.currentSort.order &&\n        props.isSorting === nextProps.isSorting &&\n        props.resource === nextProps.resource;\n});\n","import * as React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        backgroundColor: theme.palette.grey[300],\n        display: 'flex',\n    },\n}); }, { name: 'RaPlaceholder' });\nvar Placeholder = function (props) {\n    var classes = useStyles(props);\n    return (React.createElement(\"span\", { className: classnames(classes.root, props.className) }, \"\\u00A0\"));\n};\nexport default Placeholder;\n","import * as React from 'react';\nimport { memo } from 'react';\nimport PropTypes from 'prop-types';\nimport { Table, TableCell, TableHead, TableRow, TableBody, IconButton, Checkbox, } from '@material-ui/core';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport classnames from 'classnames';\nimport { useTimeout } from 'ra-core';\nimport Placeholder from '../Placeholder';\nvar times = function (nbChildren, fn) {\n    return Array.from({ length: nbChildren }, function (_, key) { return fn(key); });\n};\nvar DatagridLoading = function (_a) {\n    var classes = _a.classes, className = _a.className, expand = _a.expand, hasBulkActions = _a.hasBulkActions, nbChildren = _a.nbChildren, _b = _a.nbFakeLines, nbFakeLines = _b === void 0 ? 5 : _b, size = _a.size;\n    var oneSecondHasPassed = useTimeout(1000);\n    return oneSecondHasPassed ? (React.createElement(Table, { className: classnames(classes.table, className), size: size },\n        React.createElement(TableHead, null,\n            React.createElement(TableRow, { className: classes.row },\n                expand && (React.createElement(TableCell, { padding: \"none\", className: classes.expandHeader })),\n                hasBulkActions && (React.createElement(TableCell, { padding: \"checkbox\", className: classes.expandIconCell },\n                    React.createElement(Checkbox, { className: \"select-all\", color: \"primary\", checked: false }))),\n                times(nbChildren, function (key) { return (React.createElement(TableCell, { variant: \"head\", className: classes.headerCell, key: key },\n                    React.createElement(Placeholder, null))); }))),\n        React.createElement(TableBody, null, times(nbFakeLines, function (key1) { return (React.createElement(TableRow, { key: key1, style: { opacity: 1 / (key1 + 1) } },\n            expand && (React.createElement(TableCell, { padding: \"none\", className: classes.expandIconCell },\n                React.createElement(IconButton, { className: classes.expandIcon, component: \"div\", \"aria-hidden\": \"true\" },\n                    React.createElement(ExpandMoreIcon, null)))),\n            hasBulkActions && (React.createElement(TableCell, { padding: \"checkbox\", className: classes.expandIconCell },\n                React.createElement(Checkbox, { className: \"select-all\", color: \"primary\", checked: false }))),\n            times(nbChildren, function (key2) { return (React.createElement(TableCell, { className: classes.rowCell, key: key2 },\n                React.createElement(Placeholder, null))); }))); })))) : null;\n};\nDatagridLoading.propTypes = {\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    expand: PropTypes.oneOfType([PropTypes.element, PropTypes.elementType]),\n    hasBulkActions: PropTypes.bool,\n    nbChildren: PropTypes.number,\n    nbFakeLines: PropTypes.number,\n    size: PropTypes.oneOf(['small', 'medium']),\n};\nexport default memo(DatagridLoading);\n","import { useCallback } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { toggleListItemExpand } from '../actions/listActions';\n/**\n * State-like hook for controlling the expanded state of a list item\n *\n * @param {string} resource The resource name, e.g. 'posts'\n * @param {string|integer} id The record identifier, e.g. 123\n *\n * @returns {Object} Destructure as [expanded, toggleExpanded].\n *\n * @example\n *\n * const [expanded, toggleExpanded] = useExpanded('posts', 123);\n * const expandIcon = expanded ? ExpandLess : ExpandMore;\n * const onExpandClick = () => toggleExpanded();\n */\nvar useExpanded = function (resource, id) {\n    var dispatch = useDispatch();\n    var expandedList = useSelector(function (reduxState) {\n        return reduxState.admin.resources[resource]\n            ? reduxState.admin.resources[resource].list.expanded\n            : undefined;\n    });\n    var expanded = expandedList === undefined\n        ? false\n        : expandedList.map(function (el) { return el == id; }).indexOf(true) !== -1; // eslint-disable-line eqeqeq\n    var toggleExpanded = useCallback(function () {\n        dispatch(toggleListItemExpand(resource, id));\n    }, [dispatch, resource, id]);\n    return [expanded, toggleExpanded];\n};\nexport default useExpanded;\n","import * as React from 'react';\nimport { createContext, useContext } from 'react';\n/**\n * Context to store the current record.\n *\n * Use the useRecordContext() hook to read the context. That's what the Edit and Show components do in react-admin.\n *\n * @example\n *\n * import { useEditController, EditContext } from 'ra-core';\n *\n * const Edit = props => {\n *     const { record } = useEditController(props);\n *     return (\n *         <RecordContextProvider value={record}>\n *             ...\n *         </RecordContextProvider>\n *     );\n * };\n */\nexport var RecordContext = createContext(undefined);\nexport var RecordContextProvider = function (_a) {\n    var children = _a.children, value = _a.value;\n    return (React.createElement(RecordContext.Provider, { value: value }, children));\n};\nRecordContext.displayName = 'RecordContext';\n/**\n * Hook to read the record from a RecordContext.\n *\n * Must be used within a <RecordContext> such as provided by the <EditContextProvider>\n * (e.g. as a descendent of <Edit> or <EditBase>) or within a <ShowContextProvider>\n * (e.g. as a descendent of <Show> or <ShowBase>)\n *\n * @example // basic usage\n *\n * import { useRecordContext } from 'ra-core';\n *\n * const TitleField = () => {\n *     const record = useRecordContext();\n *     return <span>{record && record.title}</span>;\n * };\n *\n * @example // allow record override via props\n *\n * import { useRecordContext } from 'ra-core';\n *\n * const TitleField = (props) => {\n *     const record = useRecordContext(props);\n *     return <span>{record && record.title}</span>;\n * };\n * render(<TextField record={record} />);\n *\n * @returns {Record} A record object\n */\nexport var useRecordContext = function (props) {\n    // Can't find a way to specify the RecordType when CreateContext is declared\n    // @ts-ignore\n    var context = useContext(RecordContext);\n    return (props && props.record) || context;\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport TableCell from '@material-ui/core/TableCell';\nimport classnames from 'classnames';\nvar DatagridCell = React.forwardRef(function (_a, ref) {\n    var className = _a.className, field = _a.field, record = _a.record, basePath = _a.basePath, resource = _a.resource, rest = __rest(_a, [\"className\", \"field\", \"record\", \"basePath\", \"resource\"]);\n    return (React.createElement(TableCell, __assign({ className: classnames(className, field.props.cellClassName), align: field.props.textAlign, ref: ref }, rest), React.cloneElement(field, {\n        record: record,\n        basePath: field.props.basePath || basePath,\n        resource: resource,\n    })));\n});\nDatagridCell.propTypes = {\n    className: PropTypes.string,\n    field: PropTypes.element,\n    // @ts-ignore\n    record: PropTypes.object,\n    basePath: PropTypes.string,\n    resource: PropTypes.string,\n};\n// What? TypeScript loses the displayName if we don't set it explicitly\nDatagridCell.displayName = 'DatagridCell';\nexport default DatagridCell;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { memo } from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport classNames from 'classnames';\nimport { useTranslate } from 'ra-core';\nvar ExpandRowButton = function (_a) {\n    var _b;\n    var classes = _a.classes, expanded = _a.expanded, expandContentId = _a.expandContentId, props = __rest(_a, [\"classes\", \"expanded\", \"expandContentId\"]);\n    var translate = useTranslate();\n    return (React.createElement(IconButton, __assign({ \"aria-label\": translate(expanded ? 'ra.action.close' : 'ra.action.expand'), \"aria-expanded\": expanded, \"aria-controls\": expandContentId, className: classNames(classes.expandIcon, (_b = {},\n            _b[classes.expanded] = expanded,\n            _b)), tabIndex: -1, \"aria-hidden\": \"true\", component: \"div\" }, props),\n        React.createElement(ExpandMoreIcon, null)));\n};\nexport default memo(ExpandRowButton);\n","import { createContext } from 'react';\nvar DatagridContext = createContext({});\nDatagridContext.displayName = 'DatagridContext';\nexport default DatagridContext;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { isValidElement, cloneElement, createElement, useState, useEffect, useCallback, memo, } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { TableCell, TableRow, Checkbox, } from '@material-ui/core';\nimport { linkToRecord, useExpanded, useResourceContext, RecordContextProvider, } from 'ra-core';\nimport { shallowEqual } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport DatagridCell from './DatagridCell';\nimport ExpandRowButton from './ExpandRowButton';\nimport { useDatagridContext } from './useDatagridContext';\nvar computeNbColumns = function (expand, children, hasBulkActions) {\n    return expand\n        ? 1 + // show expand button\n            (hasBulkActions ? 1 : 0) + // checkbox column\n            React.Children.toArray(children).filter(function (child) { return !!child; }).length // non-null children\n        : 0;\n}; // we don't need to compute columns if there is no expand panel;\nvar defaultClasses = { expandIconCell: '', checkbox: '', rowCell: '' };\nvar DatagridRow = React.forwardRef(function (props, ref) {\n    var basePath = props.basePath, children = props.children, _a = props.classes, classes = _a === void 0 ? defaultClasses : _a, className = props.className, expand = props.expand, hasBulkActions = props.hasBulkActions, hover = props.hover, id = props.id, onToggleItem = props.onToggleItem, record = props.record, rowClick = props.rowClick, selected = props.selected, style = props.style, selectable = props.selectable, rest = __rest(props, [\"basePath\", \"children\", \"classes\", \"className\", \"expand\", \"hasBulkActions\", \"hover\", \"id\", \"onToggleItem\", \"record\", \"rowClick\", \"selected\", \"style\", \"selectable\"]);\n    var context = useDatagridContext();\n    var expandable = (!context ||\n        !context.isRowExpandable ||\n        context.isRowExpandable(record)) &&\n        expand;\n    var resource = useResourceContext(props);\n    var _b = useExpanded(resource, id), expanded = _b[0], toggleExpanded = _b[1];\n    var _c = useState(function () {\n        return computeNbColumns(expandable, children, hasBulkActions);\n    }), nbColumns = _c[0], setNbColumns = _c[1];\n    useEffect(function () {\n        // Fields can be hidden dynamically based on permissions;\n        // The expand panel must span over the remaining columns\n        // So we must recompute the number of columns to span on\n        var newNbColumns = computeNbColumns(expandable, children, hasBulkActions);\n        if (newNbColumns !== nbColumns) {\n            setNbColumns(newNbColumns);\n        }\n    }, [expandable, nbColumns, children, hasBulkActions]);\n    var history = useHistory();\n    var handleToggleExpand = useCallback(function (event) {\n        toggleExpanded();\n        event.stopPropagation();\n    }, [toggleExpanded]);\n    var handleToggleSelection = useCallback(function (event) {\n        if (!selectable)\n            return;\n        onToggleItem(id, event);\n        event.stopPropagation();\n    }, [id, onToggleItem, selectable]);\n    var handleClick = useCallback(function (event) { return __awaiter(void 0, void 0, void 0, function () {\n        var effect, _a;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    if (!rowClick)\n                        return [2 /*return*/];\n                    event.persist();\n                    if (!(typeof rowClick === 'function')) return [3 /*break*/, 2];\n                    return [4 /*yield*/, rowClick(id, basePath || \"/\" + resource, record)];\n                case 1:\n                    _a = _b.sent();\n                    return [3 /*break*/, 3];\n                case 2:\n                    _a = rowClick;\n                    _b.label = 3;\n                case 3:\n                    effect = _a;\n                    switch (effect) {\n                        case 'edit':\n                            history.push(linkToRecord(basePath || \"/\" + resource, id));\n                            return [2 /*return*/];\n                        case 'show':\n                            history.push(linkToRecord(basePath || \"/\" + resource, id, 'show'));\n                            return [2 /*return*/];\n                        case 'expand':\n                            handleToggleExpand(event);\n                            return [2 /*return*/];\n                        case 'toggleSelection':\n                            handleToggleSelection(event);\n                            return [2 /*return*/];\n                        default:\n                            if (effect)\n                                history.push(effect);\n                            return [2 /*return*/];\n                    }\n                    return [2 /*return*/];\n            }\n        });\n    }); }, [\n        basePath,\n        history,\n        handleToggleExpand,\n        handleToggleSelection,\n        id,\n        record,\n        resource,\n        rowClick,\n    ]);\n    return (React.createElement(RecordContextProvider, { value: record },\n        React.createElement(TableRow, __assign({ ref: ref, className: className, key: id, style: style, hover: hover, onClick: handleClick }, rest),\n            expand && (React.createElement(TableCell, { padding: \"none\", className: classes.expandIconCell }, expandable && (React.createElement(ExpandRowButton, { classes: classes, expanded: expanded, onClick: handleToggleExpand, expandContentId: id + \"-expand\" })))),\n            hasBulkActions && (React.createElement(TableCell, { padding: \"checkbox\" }, selectable && (React.createElement(Checkbox, { color: \"primary\", className: \"select-item \" + classes.checkbox, checked: selected, onClick: handleToggleSelection })))),\n            React.Children.map(children, function (field, index) {\n                return isValidElement(field) ? (React.createElement(DatagridCell, __assign({ key: id + \"-\" + (field.props.source || index), className: classnames(\"column-\" + field.props.source, classes.rowCell), record: record }, { field: field, basePath: basePath, resource: resource }))) : null;\n            })),\n        expandable && expanded && (React.createElement(TableRow, { key: id + \"-expand\", id: id + \"-expand\" },\n            React.createElement(TableCell, { colSpan: nbColumns }, isValidElement(expand)\n                ? cloneElement(expand, {\n                    // @ts-ignore\n                    record: record,\n                    basePath: basePath,\n                    resource: resource,\n                    id: String(id),\n                })\n                : createElement(expand, {\n                    record: record,\n                    basePath: basePath,\n                    resource: resource,\n                    id: String(id),\n                }))))));\n});\nDatagridRow.propTypes = {\n    basePath: PropTypes.string,\n    children: PropTypes.node,\n    classes: PropTypes.any,\n    className: PropTypes.string,\n    // @ts-ignore\n    expand: PropTypes.oneOfType([PropTypes.element, PropTypes.elementType]),\n    hasBulkActions: PropTypes.bool.isRequired,\n    hover: PropTypes.bool,\n    id: PropTypes.any,\n    onToggleItem: PropTypes.func,\n    // @ts-ignore\n    record: PropTypes.object,\n    resource: PropTypes.string,\n    // @ts-ignore\n    rowClick: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n    selected: PropTypes.bool,\n    style: PropTypes.object,\n    selectable: PropTypes.bool,\n};\nDatagridRow.defaultProps = {\n    hasBulkActions: false,\n    hover: true,\n    selected: false,\n    selectable: true,\n};\nvar areEqual = function (prevProps, nextProps) {\n    var _1 = prevProps.children, _2 = prevProps.expand, prevPropsWithoutChildren = __rest(prevProps, [\"children\", \"expand\"]);\n    var _3 = nextProps.children, _4 = nextProps.expand, nextPropsWithoutChildren = __rest(nextProps, [\"children\", \"expand\"]);\n    return shallowEqual(prevPropsWithoutChildren, nextPropsWithoutChildren);\n};\nexport var PureDatagridRow = memo(DatagridRow, areEqual);\nPureDatagridRow.displayName = 'PureDatagridRow';\nexport default DatagridRow;\n","import { useContext, useMemo } from 'react';\nimport DatagridContext from './DatagridContext';\nimport defaults from 'lodash/defaults';\nexport var useDatagridContext = function (props) {\n    var context = useContext(DatagridContext);\n    return useMemo(function () {\n        return defaults({}, props != null ? { isRowExpandable: props.isRowExpandable } : {}, context);\n    }, [context, props]);\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { cloneElement, memo } from 'react';\nimport PropTypes from 'prop-types';\nimport { TableBody } from '@material-ui/core';\nimport classnames from 'classnames';\nimport { shallowEqual } from 'react-redux';\nimport DatagridRow, { PureDatagridRow } from './DatagridRow';\nvar DatagridBody = React.forwardRef(function (_a, ref) {\n    var basePath = _a.basePath, children = _a.children, classes = _a.classes, className = _a.className, data = _a.data, expand = _a.expand, hasBulkActions = _a.hasBulkActions, hover = _a.hover, ids = _a.ids, onToggleItem = _a.onToggleItem, resource = _a.resource, row = _a.row, rowClick = _a.rowClick, rowStyle = _a.rowStyle, selectedIds = _a.selectedIds, isRowSelectable = _a.isRowSelectable, rest = __rest(_a, [\"basePath\", \"children\", \"classes\", \"className\", \"data\", \"expand\", \"hasBulkActions\", \"hover\", \"ids\", \"onToggleItem\", \"resource\", \"row\", \"rowClick\", \"rowStyle\", \"selectedIds\", \"isRowSelectable\"]);\n    return (React.createElement(TableBody, __assign({ ref: ref, className: classnames('datagrid-body', className) }, rest), ids.map(function (id, rowIndex) {\n        var _a;\n        return cloneElement(row, {\n            basePath: basePath,\n            classes: classes,\n            className: classnames(classes.row, (_a = {},\n                _a[classes.rowEven] = rowIndex % 2 === 0,\n                _a[classes.rowOdd] = rowIndex % 2 !== 0,\n                _a[classes.clickableRow] = rowClick,\n                _a)),\n            expand: expand,\n            hasBulkActions: hasBulkActions && !!selectedIds,\n            hover: hover,\n            id: id,\n            key: id,\n            onToggleItem: onToggleItem,\n            record: data[id],\n            resource: resource,\n            rowClick: rowClick,\n            selectable: !isRowSelectable || isRowSelectable(data[id]),\n            selected: selectedIds === null || selectedIds === void 0 ? void 0 : selectedIds.includes(id),\n            style: rowStyle ? rowStyle(data[id], rowIndex) : null,\n        }, children);\n    })));\n});\nDatagridBody.propTypes = {\n    basePath: PropTypes.string,\n    classes: PropTypes.any,\n    className: PropTypes.string,\n    children: PropTypes.node,\n    // @ts-ignore\n    data: PropTypes.object.isRequired,\n    // @ts-ignore\n    expand: PropTypes.oneOfType([PropTypes.element, PropTypes.elementType]),\n    hasBulkActions: PropTypes.bool.isRequired,\n    hover: PropTypes.bool,\n    ids: PropTypes.arrayOf(PropTypes.any).isRequired,\n    onToggleItem: PropTypes.func,\n    resource: PropTypes.string,\n    row: PropTypes.element,\n    rowClick: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n    rowStyle: PropTypes.func,\n    selectedIds: PropTypes.arrayOf(PropTypes.any),\n    styles: PropTypes.object,\n    isRowSelectable: PropTypes.func,\n};\nDatagridBody.defaultProps = {\n    data: {},\n    hasBulkActions: false,\n    ids: [],\n    row: React.createElement(DatagridRow, null),\n};\n// trick material-ui Table into thinking this is one of the child type it supports\n// @ts-ignore\nDatagridBody.muiName = 'TableBody';\nvar areEqual = function (prevProps, nextProps) {\n    var _1 = prevProps.children, _2 = prevProps.expand, _3 = prevProps.row, prevPropsWithoutChildren = __rest(prevProps, [\"children\", \"expand\", \"row\"]);\n    var _4 = nextProps.children, _5 = nextProps.expand, _6 = nextProps.row, nextPropsWithoutChildren = __rest(nextProps, [\"children\", \"expand\", \"row\"]);\n    return shallowEqual(prevPropsWithoutChildren, nextPropsWithoutChildren);\n};\nexport var PureDatagridBody = memo(DatagridBody, areEqual);\n// trick material-ui Table into thinking this is one of the child type it supports\n// @ts-ignore\nPureDatagridBody.muiName = 'TableBody';\n// @ts-ignore\nPureDatagridBody.defaultProps = {\n    row: React.createElement(PureDatagridRow, null),\n};\nexport default DatagridBody;\n","import { makeStyles } from '@material-ui/core/styles';\nvar useDatagridStyles = makeStyles(function (theme) { return ({\n    table: {\n        tableLayout: 'auto',\n    },\n    thead: {},\n    tbody: {},\n    headerRow: {},\n    headerCell: {\n        position: 'sticky',\n        top: 0,\n        zIndex: 2,\n        backgroundColor: theme.palette.background.paper,\n        '&:first-child': {\n            borderTopLeftRadius: theme.shape.borderRadius,\n        },\n        '&:last-child': {\n            borderTopRightRadius: theme.shape.borderRadius,\n        },\n    },\n    checkbox: {},\n    row: {},\n    clickableRow: {\n        cursor: 'pointer',\n    },\n    rowEven: {},\n    rowOdd: {},\n    rowCell: {},\n    expandHeader: {\n        padding: 0,\n        width: theme.spacing(6),\n    },\n    expandIconCell: {\n        width: theme.spacing(6),\n    },\n    expandIcon: {\n        padding: theme.spacing(1),\n        transform: 'rotate(-90deg)',\n        transition: theme.transitions.create('transform', {\n            duration: theme.transitions.duration.shortest,\n        }),\n    },\n    expanded: {\n        transform: 'rotate(0deg)',\n    },\n}); }, { name: 'RaDatagrid' });\nexport default useDatagridStyles;\n","import React from 'react';\nimport DatagridContext from './DatagridContext';\nvar DatagridContextProvider = function (_a) {\n    var children = _a.children, value = _a.value;\n    return (React.createElement(DatagridContext.Provider, { value: value }, children));\n};\nexport default DatagridContextProvider;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { isValidElement, Children, cloneElement, useCallback, useRef, useEffect, useMemo, } from 'react';\nimport PropTypes from 'prop-types';\nimport { sanitizeListRestProps, useListContext, useVersion, } from 'ra-core';\nimport { Checkbox, Table, TableCell, TableHead, TableRow, } from '@material-ui/core';\nimport classnames from 'classnames';\nimport union from 'lodash/union';\nimport difference from 'lodash/difference';\nimport DatagridHeaderCell from './DatagridHeaderCell';\nimport DatagridLoading from './DatagridLoading';\nimport DatagridBody, { PureDatagridBody } from './DatagridBody';\nimport useDatagridStyles from './useDatagridStyles';\nimport DatagridContextProvider from './DatagridContextProvider';\n/**\n * The Datagrid component renders a list of records as a table.\n * It is usually used as a child of the <List> and <ReferenceManyField> components.\n *\n * Props:\n *  - rowStyle\n *\n * @example Display all posts as a datagrid\n * const postRowStyle = (record, index) => ({\n *     backgroundColor: record.nb_views >= 500 ? '#efe' : 'white',\n * });\n * export const PostList = (props) => (\n *     <List {...props}>\n *         <Datagrid rowStyle={postRowStyle}>\n *             <TextField source=\"id\" />\n *             <TextField source=\"title\" />\n *             <TextField source=\"body\" />\n *             <EditButton />\n *         </Datagrid>\n *     </List>\n * );\n *\n * @example Display all the comments of the current post as a datagrid\n * <ReferenceManyField reference=\"comments\" target=\"post_id\">\n *     <Datagrid>\n *         <TextField source=\"id\" />\n *         <TextField source=\"body\" />\n *         <DateField source=\"created_at\" />\n *         <EditButton />\n *     </Datagrid>\n * </ReferenceManyField>\n *\n *\n * @example Usage outside of a <List> or a <ReferenceManyField>.\n *\n * const currentSort = { field: 'published_at', order: 'DESC' };\n *\n * export const MyCustomList = (props) => {\n *     const { ids, data, total, loaded } = useGetList(\n *         'posts',\n *         { page: 1, perPage: 10 },\n *         currentSort\n *     );\n *\n *     return (\n *         <Datagrid\n *             basePath=\"\"\n *             currentSort={currentSort}\n *             data={data}\n *             ids={ids}\n *             selectedIds={[]}\n *             loaded={loaded}\n *             total={total}\n *             setSort={() => {\n *                 console.log('set sort');\n *             }}\n *             onSelect={() => {\n *                 console.log('on select');\n *             }}\n *             onToggleItem={() => {\n *                 console.log('on toggle item');\n *             }}\n *         >\n *             <TextField source=\"id\" />\n *             <TextField source=\"title\" />\n *         </Datagrid>\n *     );\n * }\n */\nvar Datagrid = React.forwardRef(function (props, ref) {\n    var classes = useDatagridStyles(props);\n    var _a = props.optimized, optimized = _a === void 0 ? false : _a, _b = props.body, body = _b === void 0 ? optimized ? React.createElement(PureDatagridBody, null) : React.createElement(DatagridBody, null) : _b, children = props.children, classesOverride = props.classes, className = props.className, empty = props.empty, expand = props.expand, _c = props.hasBulkActions, hasBulkActions = _c === void 0 ? false : _c, hover = props.hover, isRowSelectable = props.isRowSelectable, isRowExpandable = props.isRowExpandable, resource = props.resource, rowClick = props.rowClick, rowStyle = props.rowStyle, _d = props.size, size = _d === void 0 ? 'small' : _d, rest = __rest(props, [\"optimized\", \"body\", \"children\", \"classes\", \"className\", \"empty\", \"expand\", \"hasBulkActions\", \"hover\", \"isRowSelectable\", \"isRowExpandable\", \"resource\", \"rowClick\", \"rowStyle\", \"size\"]);\n    var _e = useListContext(props), basePath = _e.basePath, currentSort = _e.currentSort, data = _e.data, ids = _e.ids, loaded = _e.loaded, onSelect = _e.onSelect, onToggleItem = _e.onToggleItem, selectedIds = _e.selectedIds, setSort = _e.setSort, total = _e.total;\n    var version = useVersion();\n    var contextValue = useMemo(function () { return ({ isRowExpandable: isRowExpandable }); }, [\n        isRowExpandable,\n    ]);\n    var updateSortCallback = useCallback(function (event) {\n        event.stopPropagation();\n        var newField = event.currentTarget.dataset.field;\n        var newOrder = currentSort.field === newField\n            ? currentSort.order === 'ASC'\n                ? 'DESC'\n                : 'ASC'\n            : event.currentTarget.dataset.order;\n        setSort(newField, newOrder);\n    }, [currentSort.field, currentSort.order, setSort]);\n    var updateSort = setSort ? updateSortCallback : null;\n    var handleSelectAll = useCallback(function (event) {\n        if (event.target.checked) {\n            var all_1 = ids.concat(selectedIds.filter(function (id) { return !ids.includes(id); }));\n            onSelect(isRowSelectable\n                ? all_1.filter(function (id) { return isRowSelectable(data[id]); })\n                : all_1);\n        }\n        else {\n            onSelect([]);\n        }\n    }, [data, ids, onSelect, isRowSelectable, selectedIds]);\n    var lastSelected = useRef(null);\n    useEffect(function () {\n        if (!selectedIds || selectedIds.length === 0) {\n            lastSelected.current = null;\n        }\n    }, [JSON.stringify(selectedIds)]); // eslint-disable-line react-hooks/exhaustive-deps\n    var handleToggleItem = useCallback(function (id, event) {\n        var lastSelectedIndex = ids.indexOf(lastSelected.current);\n        lastSelected.current = event.target.checked ? id : null;\n        if (event.shiftKey && lastSelectedIndex !== -1) {\n            var index = ids.indexOf(id);\n            var idsBetweenSelections = ids.slice(Math.min(lastSelectedIndex, index), Math.max(lastSelectedIndex, index) + 1);\n            var newSelectedIds = event.target.checked\n                ? union(selectedIds, idsBetweenSelections)\n                : difference(selectedIds, idsBetweenSelections);\n            onSelect(isRowSelectable\n                ? newSelectedIds.filter(function (id) {\n                    return isRowSelectable(data[id]);\n                })\n                : newSelectedIds);\n        }\n        else {\n            onToggleItem(id);\n        }\n    }, [data, ids, isRowSelectable, onSelect, onToggleItem, selectedIds]);\n    /**\n     * if loaded is false, the list displays for the first time, and the dataProvider hasn't answered yet\n     * if loaded is true, the data for the list has at least been returned once by the dataProvider\n     * if loaded is undefined, the Datagrid parent doesn't track loading state (e.g. ReferenceArrayField)\n     */\n    if (loaded === false) {\n        return (React.createElement(DatagridLoading, { classes: classes, className: className, expand: expand, hasBulkActions: hasBulkActions, nbChildren: React.Children.count(children), size: size }));\n    }\n    /**\n     * Once loaded, the data for the list may be empty. Instead of\n     * displaying the table header with zero data rows,\n     * the datagrid displays nothing or a custom empty component.\n     */\n    if (loaded && (ids.length === 0 || total === 0)) {\n        if (empty) {\n            return empty;\n        }\n        return null;\n    }\n    var all = isRowSelectable\n        ? ids.filter(function (id) { return isRowSelectable(data[id]); })\n        : ids;\n    /**\n     * After the initial load, if the data for the list isn't empty,\n     * and even if the data is refreshing (e.g. after a filter change),\n     * the datagrid displays the current data.\n     */\n    return (React.createElement(DatagridContextProvider, { value: contextValue },\n        React.createElement(Table, __assign({ ref: ref, className: classnames(classes.table, className), size: size }, sanitizeListRestProps(rest)),\n            React.createElement(TableHead, { className: classes.thead },\n                React.createElement(TableRow, { className: classnames(classes.row, classes.headerRow) },\n                    expand && (React.createElement(TableCell, { padding: \"none\", className: classnames(classes.headerCell, classes.expandHeader) })),\n                    hasBulkActions && selectedIds && (React.createElement(TableCell, { padding: \"checkbox\", className: classes.headerCell },\n                        React.createElement(Checkbox, { className: \"select-all\", color: \"primary\", checked: selectedIds.length > 0 &&\n                                all.length > 0 &&\n                                all.every(function (id) {\n                                    return selectedIds.includes(id);\n                                }), onChange: handleSelectAll }))),\n                    Children.map(children, function (field, index) {\n                        return isValidElement(field) ? (React.createElement(DatagridHeaderCell, { className: classes.headerCell, currentSort: currentSort, field: field, isSorting: currentSort.field ===\n                                (field.props.sortBy ||\n                                    field.props.source), key: field.props.source || index, resource: resource, updateSort: updateSort })) : null;\n                    }))),\n            cloneElement(body, {\n                basePath: basePath,\n                className: classes.tbody,\n                classes: classes,\n                expand: expand,\n                rowClick: rowClick,\n                data: data,\n                hasBulkActions: hasBulkActions,\n                hover: hover,\n                ids: ids,\n                onToggleItem: handleToggleItem,\n                resource: resource,\n                rowStyle: rowStyle,\n                selectedIds: selectedIds,\n                isRowSelectable: isRowSelectable,\n                version: version,\n            }, children))));\n});\nDatagrid.propTypes = {\n    basePath: PropTypes.string,\n    body: PropTypes.element,\n    children: PropTypes.node.isRequired,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    currentSort: PropTypes.exact({\n        field: PropTypes.string,\n        order: PropTypes.string,\n    }),\n    data: PropTypes.any,\n    empty: PropTypes.element,\n    // @ts-ignore\n    expand: PropTypes.oneOfType([PropTypes.element, PropTypes.elementType]),\n    hasBulkActions: PropTypes.bool,\n    hover: PropTypes.bool,\n    ids: PropTypes.arrayOf(PropTypes.any),\n    loading: PropTypes.bool,\n    onSelect: PropTypes.func,\n    onToggleItem: PropTypes.func,\n    resource: PropTypes.string,\n    rowClick: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n    rowStyle: PropTypes.func,\n    selectedIds: PropTypes.arrayOf(PropTypes.any),\n    setSort: PropTypes.func,\n    total: PropTypes.number,\n    version: PropTypes.number,\n    isRowSelectable: PropTypes.func,\n    isRowExpandable: PropTypes.func,\n};\nDatagrid.displayName = 'Datagrid';\nexport default Datagrid;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { Link as RRLink } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nvar useStyles = makeStyles(function (theme) { return ({\n    link: {\n        textDecoration: 'none',\n        color: theme.palette.primary.main,\n    },\n}); }, { name: 'RaLink' });\nvar Link = function (props) {\n    var to = props.to, children = props.children, classesOverride = props.classes, className = props.className, rest = __rest(props, [\"to\", \"children\", \"classes\", \"className\"]);\n    var classes = useStyles(props);\n    return (React.createElement(RRLink, __assign({ to: to, className: classNames(classes.link, className) }, rest), children));\n};\nLink.propTypes = {\n    className: PropTypes.string,\n    children: PropTypes.node,\n    to: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n};\nexport default Link;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { cloneElement, Children, } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { linkToRecord, sanitizeListRestProps, useListContext, useResourceContext, RecordContextProvider, ComponentPropType, } from 'ra-core';\nimport Link from '../Link';\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        display: 'flex',\n        flexWrap: 'wrap',\n        marginTop: -theme.spacing(1),\n        marginBottom: -theme.spacing(1),\n    },\n    link: {},\n}); }, { name: 'RaSingleFieldList' });\n// useful to prevent click bubbling in a datagrid with rowClick\nvar stopPropagation = function (e) { return e.stopPropagation(); };\n// Our handleClick does nothing as we wrap the children inside a Link but it is\n// required by ChipField, which uses a Chip from material-ui.\n// The material-ui Chip requires an onClick handler to behave like a clickable element.\nvar handleClick = function () { };\n/**\n * Iterator component to be used to display a list of entities, using a single field\n *\n * @example Display all the books by the current author\n * <ReferenceManyField reference=\"books\" target=\"author_id\">\n *     <SingleFieldList>\n *         <ChipField source=\"title\" />\n *     </SingleFieldList>\n * </ReferenceManyField>\n *\n * By default, it includes a link to the <Edit> page of the related record\n * (`/books/:id` in the previous example).\n *\n * Set the linkType prop to \"show\" to link to the <Show> page instead.\n *\n * @example\n * <ReferenceManyField reference=\"books\" target=\"author_id\" linkType=\"show\">\n *     <SingleFieldList>\n *         <ChipField source=\"title\" />\n *     </SingleFieldList>\n * </ReferenceManyField>\n *\n * You can also prevent `<SingleFieldList>` from adding link to children by setting\n * `linkType` to false.\n *\n * @example\n * <ReferenceManyField reference=\"books\" target=\"author_id\" linkType={false}>\n *     <SingleFieldList>\n *         <ChipField source=\"title\" />\n *     </SingleFieldList>\n * </ReferenceManyField>\n */\nvar SingleFieldList = function (props) {\n    var classesOverride = props.classes, className = props.className, children = props.children, _a = props.linkType, linkType = _a === void 0 ? 'edit' : _a, _b = props.component, component = _b === void 0 ? 'div' : _b, rest = __rest(props, [\"classes\", \"className\", \"children\", \"linkType\", \"component\"]);\n    var _c = useListContext(props), ids = _c.ids, data = _c.data, loaded = _c.loaded, basePath = _c.basePath;\n    var resource = useResourceContext(props);\n    var classes = useStyles(props);\n    var Component = component;\n    if (loaded === false) {\n        return React.createElement(LinearProgress, null);\n    }\n    return (React.createElement(Component, __assign({ className: classnames(classes.root, className) }, sanitizeListRestProps(rest)), ids.map(function (id) {\n        var resourceLinkPath = !linkType\n            ? false\n            : linkToRecord(basePath, id, linkType);\n        if (resourceLinkPath) {\n            return (React.createElement(RecordContextProvider, { value: data[id], key: id },\n                React.createElement(Link, { className: classes.link, key: id, to: resourceLinkPath, onClick: stopPropagation }, cloneElement(Children.only(children), {\n                    record: data[id],\n                    resource: resource,\n                    basePath: basePath,\n                    // Workaround to force ChipField to be clickable\n                    onClick: handleClick,\n                }))));\n        }\n        return (React.createElement(RecordContextProvider, { value: data[id], key: id }, cloneElement(Children.only(children), {\n            key: id,\n            record: data[id],\n            resource: resource,\n            basePath: basePath,\n        })));\n    })));\n};\nSingleFieldList.propTypes = {\n    basePath: PropTypes.string,\n    children: PropTypes.element.isRequired,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    component: ComponentPropType,\n    data: PropTypes.any,\n    ids: PropTypes.array,\n    // @ts-ignore\n    linkType: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n    resource: PropTypes.string,\n};\nexport default SingleFieldList;\n","import PropTypes from 'prop-types';\nexport var fieldPropTypes = {\n    addLabel: PropTypes.bool,\n    sortBy: PropTypes.string,\n    sortByOrder: PropTypes.oneOf(['ASC', 'DESC']),\n    source: PropTypes.string,\n    label: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n    sortable: PropTypes.bool,\n    className: PropTypes.string,\n    cellClassName: PropTypes.string,\n    headerClassName: PropTypes.string,\n    textAlign: PropTypes.oneOf([\n        'inherit',\n        'left',\n        'center',\n        'right',\n        'justify',\n    ]),\n    emptyText: PropTypes.string,\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { cloneElement, Children, useEffect, useState, memo, } from 'react';\nimport get from 'lodash/get';\nimport { ListContextProvider, useRecordContext } from 'ra-core';\nimport { fieldPropTypes } from './types';\nimport PropTypes from 'prop-types';\nvar initialState = {\n    data: {},\n    ids: [],\n};\nvar getDataAndIds = function (record, source, fieldKey) {\n    var list = get(record, source);\n    if (!list) {\n        return initialState;\n    }\n    return fieldKey\n        ? {\n            data: list.reduce(function (prev, item) {\n                prev[item[fieldKey]] = item;\n                return prev;\n            }, {}),\n            ids: list.map(function (item) { return item[fieldKey]; }),\n        }\n        : {\n            data: list.reduce(function (prev, item) {\n                prev[JSON.stringify(item)] = item;\n                return prev;\n            }, {}),\n            ids: list.map(JSON.stringify),\n        };\n};\n/**\n * Display a collection\n *\n * Ideal for embedded arrays of objects, e.g.\n * {\n *   id: 123\n *   tags: [\n *     { name: 'foo' },\n *     { name: 'bar' }\n *   ]\n * }\n *\n * The child must be an iterator component\n * (like <Datagrid> or <SingleFieldList>).\n *\n * @example Display all the backlinks of the current post as a <Datagrid>\n * // post = {\n * //   id: 123\n * //   backlinks: [\n * //       {\n * //           uuid: '34fdf393-f449-4b04-a423-38ad02ae159e',\n * //           date: '2012-08-10T00:00:00.000Z',\n * //           url: 'http://example.com/foo/bar.html',\n * //       },\n * //       {\n * //           uuid: 'd907743a-253d-4ec1-8329-404d4c5e6cf1',\n * //           date: '2012-08-14T00:00:00.000Z',\n * //           url: 'https://blog.johndoe.com/2012/08/12/foobar.html',\n * //       }\n * //    ]\n * // }\n *     <ArrayField source=\"backlinks\">\n *         <Datagrid>\n *             <DateField source=\"date\" />\n *             <UrlField source=\"url\" />\n *         </Datagrid>\n *     </ArrayField>\n *\n * @example Display all the tags of the current post as <Chip> components\n * // post = {\n * //   id: 123\n * //   tags: [\n * //     { name: 'foo' },\n * //     { name: 'bar' }\n * //   ]\n * // }\n *     <ArrayField source=\"tags\">\n *         <SingleFieldList>\n *             <ChipField source=\"name\" />\n *         </SingleFieldList>\n *     </ArrayField>\n *\n * If the array value contains a lot of items, you may experience slowdowns in the UI.\n * In such cases, set the `fieldKey` prop to use one field as key, and reduce CPU and memory usage:\n *\n * @example\n *     <ArrayField source=\"backlinks\" fieldKey=\"uuid\">\n *         ...\n *     </ArrayField>\n *\n * If you need to render a collection in a custom way, it's often simpler\n * to write your own component:\n *\n * @example\n *     const TagsField = ({ record }) => (\n *          <ul>\n *              {record.tags.map(item => (\n *                  <li key={item.name}>{item.name}</li>\n *              ))}\n *          </ul>\n *     );\n *     TagsField.defaultProps = { addLabel: true };\n */\nexport var ArrayField = memo(function (props) {\n    var addLabel = props.addLabel, basePath = props.basePath, children = props.children, _record = props.record, resource = props.resource, sortable = props.sortable, source = props.source, fieldKey = props.fieldKey, rest = __rest(props, [\"addLabel\", \"basePath\", \"children\", \"record\", \"resource\", \"sortable\", \"source\", \"fieldKey\"]);\n    var record = useRecordContext(props);\n    var _a = useState(initialState.ids), ids = _a[0], setIds = _a[1];\n    var _b = useState(initialState.data), data = _b[0], setData = _b[1];\n    useEffect(function () {\n        var _a = getDataAndIds(record, source, fieldKey), ids = _a.ids, data = _a.data;\n        setIds(ids);\n        setData(data);\n    }, [record, source, fieldKey]);\n    return (React.createElement(ListContextProvider, { value: {\n            ids: ids,\n            data: data,\n            loading: false,\n            basePath: basePath,\n            selectedIds: [],\n            currentSort: { field: null, order: null },\n            displayedFilters: null,\n            filterValues: null,\n            hasCreate: null,\n            hideFilter: null,\n            loaded: null,\n            onSelect: null,\n            onToggleItem: null,\n            onUnselectItems: null,\n            page: null,\n            perPage: null,\n            resource: resource,\n            setFilters: null,\n            setPage: null,\n            setPerPage: null,\n            setSort: null,\n            showFilter: null,\n            total: null,\n        } }, cloneElement(Children.only(children), __assign({ ids: ids,\n        data: data, loading: false, basePath: basePath, currentSort: { field: null, order: null }, resource: resource }, rest))));\n});\nArrayField.defaultProps = {\n    addLabel: true,\n};\nArrayField.propTypes = __assign(__assign({}, fieldPropTypes), { fieldKey: PropTypes.string });\nArrayField.displayName = 'ArrayField';\nexport default ArrayField;\n","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar sanitizeFieldRestProps = function (_a) {\n    var addLabel = _a.addLabel, allowEmpty = _a.allowEmpty, basePath = _a.basePath, cellClassName = _a.cellClassName, className = _a.className, emptyText = _a.emptyText, formClassName = _a.formClassName, fullWidth = _a.fullWidth, headerClassName = _a.headerClassName, label = _a.label, linkType = _a.linkType, link = _a.link, locale = _a.locale, record = _a.record, refetch = _a.refetch, resource = _a.resource, sortable = _a.sortable, sortBy = _a.sortBy, sortByOrder = _a.sortByOrder, source = _a.source, textAlign = _a.textAlign, translateChoice = _a.translateChoice, props = __rest(_a, [\"addLabel\", \"allowEmpty\", \"basePath\", \"cellClassName\", \"className\", \"emptyText\", \"formClassName\", \"fullWidth\", \"headerClassName\", \"label\", \"linkType\", \"link\", \"locale\", \"record\", \"refetch\", \"resource\", \"sortable\", \"sortBy\", \"sortByOrder\", \"source\", \"textAlign\", \"translateChoice\"]);\n    return props;\n};\nexport default sanitizeFieldRestProps;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { memo } from 'react';\nimport PropTypes from 'prop-types';\nimport get from 'lodash/get';\nimport classnames from 'classnames';\nimport DoneIcon from '@material-ui/icons/Done';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport { Tooltip, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate, useRecordContext } from 'ra-core';\nimport { fieldPropTypes } from './types';\nimport sanitizeFieldRestProps from './sanitizeFieldRestProps';\nvar useStyles = makeStyles({\n    root: {\n        display: 'flex',\n    },\n}, {\n    name: 'RaBooleanField',\n});\nexport var BooleanField = memo(function (props) {\n    var className = props.className, classesOverride = props.classes, emptyText = props.emptyText, source = props.source, valueLabelTrue = props.valueLabelTrue, valueLabelFalse = props.valueLabelFalse, TrueIcon = props.TrueIcon, FalseIcon = props.FalseIcon, looseValue = props.looseValue, rest = __rest(props, [\"className\", \"classes\", \"emptyText\", \"source\", \"valueLabelTrue\", \"valueLabelFalse\", \"TrueIcon\", \"FalseIcon\", \"looseValue\"]);\n    var record = useRecordContext(props);\n    var translate = useTranslate();\n    var classes = useStyles(props);\n    var value = get(record, source);\n    var isTruthyValue = value === true || (looseValue && value);\n    var ariaLabel = value ? valueLabelTrue : valueLabelFalse;\n    if (!ariaLabel) {\n        ariaLabel = isTruthyValue ? 'ra.boolean.true' : 'ra.boolean.false';\n    }\n    if (looseValue || value === false || value === true) {\n        return (React.createElement(Typography, __assign({ component: \"span\", variant: \"body2\", className: classnames(classes.root, className) }, sanitizeFieldRestProps(rest)),\n            React.createElement(Tooltip, { title: translate(ariaLabel, { _: ariaLabel }) }, isTruthyValue ? (React.createElement(\"span\", null,\n                React.createElement(TrueIcon, { \"data-testid\": \"true\", fontSize: \"small\" }))) : (React.createElement(\"span\", null,\n                React.createElement(FalseIcon, { \"data-testid\": \"false\", fontSize: \"small\" }))))));\n    }\n    return (React.createElement(Typography, __assign({ component: \"span\", variant: \"body2\", className: className }, sanitizeFieldRestProps(rest)), emptyText));\n});\nBooleanField.defaultProps = {\n    addLabel: true,\n    TrueIcon: DoneIcon,\n    FalseIcon: ClearIcon,\n    looseValue: false,\n};\nBooleanField.propTypes = __assign(__assign(__assign({}, Typography.propTypes), fieldPropTypes), { valueLabelFalse: PropTypes.string, valueLabelTrue: PropTypes.string, TrueIcon: PropTypes.elementType, FalseIcon: PropTypes.elementType, looseValue: PropTypes.bool });\nexport default BooleanField;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { memo } from 'react';\nimport get from 'lodash/get';\nimport Chip from '@material-ui/core/Chip';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nimport { useRecordContext } from 'ra-core';\nimport sanitizeFieldRestProps from './sanitizeFieldRestProps';\nimport { fieldPropTypes } from './types';\nvar useStyles = makeStyles({\n    chip: { margin: 4, cursor: 'inherit' },\n}, { name: 'RaChipField' });\nexport var ChipField = memo(function (props) {\n    var className = props.className, classesOverride = props.classes, source = props.source, emptyText = props.emptyText, rest = __rest(props, [\"className\", \"classes\", \"source\", \"emptyText\"]);\n    var record = useRecordContext(props);\n    var classes = useStyles(props);\n    var value = get(record, source);\n    if (value == null && emptyText) {\n        return (React.createElement(Typography, __assign({ component: \"span\", variant: \"body2\", className: className }, sanitizeFieldRestProps(rest)), emptyText));\n    }\n    return (React.createElement(Chip, __assign({ className: classnames(classes.chip, className), label: value }, sanitizeFieldRestProps(rest))));\n});\nChipField.defaultProps = {\n    addLabel: true,\n};\nChipField.propTypes = __assign(__assign({}, ChipField.propTypes), fieldPropTypes);\nexport default ChipField;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { memo } from 'react';\nimport PropTypes from 'prop-types';\nimport get from 'lodash/get';\nimport Typography from '@material-ui/core/Typography';\nimport { useRecordContext } from 'ra-core';\nimport sanitizeFieldRestProps from './sanitizeFieldRestProps';\nimport { fieldPropTypes } from './types';\nvar toLocaleStringSupportsLocales = (function () {\n    // from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toLocaleString\n    try {\n        new Date().toLocaleString('i');\n    }\n    catch (error) {\n        return error instanceof RangeError;\n    }\n    return false;\n})();\n/**\n * Display a date value as a locale string.\n *\n * Uses Intl.DateTimeFormat() if available, passing the locales and options props as arguments.\n * If Intl is not available, it outputs date as is (and ignores the locales and options props).\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toLocaleString\n * @example\n * <DateField source=\"published_at\" />\n * // renders the record { id: 1234, published_at: new Date('2012-11-07') } as\n * <span>07/11/2012</span>\n *\n * <DateField source=\"published_at\" className=\"red\" />\n * // renders the record { id: 1234, new Date('2012-11-07') } as\n * <span class=\"red\">07/11/2012</span>\n *\n * <DateField source=\"share\" options={{ weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' }} />\n * // renders the record { id: 1234, new Date('2012-11-07') } as\n * <span>Wednesday, November 7, 2012</span>\n *\n * <DateField source=\"price\" locales=\"fr-FR\" options={{ weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' }} />\n * // renders the record { id: 1234, new Date('2012-11-07') } as\n * <span>mercredi 7 novembre 2012</span>\n */\nexport var DateField = memo(function (props) {\n    var className = props.className, emptyText = props.emptyText, locales = props.locales, options = props.options, _a = props.showTime, showTime = _a === void 0 ? false : _a, source = props.source, rest = __rest(props, [\"className\", \"emptyText\", \"locales\", \"options\", \"showTime\", \"source\"]);\n    var record = useRecordContext(props);\n    if (!record) {\n        return null;\n    }\n    var value = get(record, source);\n    if (value == null || value === '') {\n        return emptyText ? (React.createElement(Typography, __assign({ component: \"span\", variant: \"body2\", className: className }, sanitizeFieldRestProps(rest)), emptyText)) : null;\n    }\n    var date = value instanceof Date ? value : new Date(value);\n    var dateString = showTime\n        ? toLocaleStringSupportsLocales\n            ? date.toLocaleString(locales, options)\n            : date.toLocaleString()\n        : toLocaleStringSupportsLocales\n            ? date.toLocaleDateString(locales, options)\n            : date.toLocaleDateString();\n    return (React.createElement(Typography, __assign({ component: \"span\", variant: \"body2\", className: className }, sanitizeFieldRestProps(rest)), dateString));\n});\nDateField.defaultProps = {\n    addLabel: true,\n};\nDateField.propTypes = __assign(__assign(__assign({}, Typography.propTypes), fieldPropTypes), { locales: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.arrayOf(PropTypes.string),\n    ]), options: PropTypes.object, showTime: PropTypes.bool });\nexport default DateField;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { memo } from 'react';\nimport get from 'lodash/get';\nimport Typography from '@material-ui/core/Typography';\nimport { Link } from '@material-ui/core';\nimport { useRecordContext } from 'ra-core';\nimport sanitizeFieldRestProps from './sanitizeFieldRestProps';\nimport { fieldPropTypes } from './types';\n// useful to prevent click bubbling in a datagrid with rowClick\nvar stopPropagation = function (e) { return e.stopPropagation(); };\nvar EmailField = memo(function (props) {\n    var className = props.className, source = props.source, emptyText = props.emptyText, rest = __rest(props, [\"className\", \"source\", \"emptyText\"]);\n    var record = useRecordContext(props);\n    var value = get(record, source);\n    if (value == null) {\n        return emptyText ? (React.createElement(Typography, __assign({ component: \"span\", variant: \"body2\", className: className }, sanitizeFieldRestProps(rest)), emptyText)) : null;\n    }\n    return (React.createElement(Link, __assign({ className: className, href: \"mailto:\" + value, onClick: stopPropagation }, sanitizeFieldRestProps(rest)), value));\n});\nEmailField.defaultProps = {\n    addLabel: true,\n};\nEmailField.propTypes = fieldPropTypes;\nexport default EmailField;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { memo } from 'react';\nimport PropTypes from 'prop-types';\nimport get from 'lodash/get';\nimport Typography from '@material-ui/core/Typography';\nimport { useRecordContext } from 'ra-core';\nimport sanitizeFieldRestProps from './sanitizeFieldRestProps';\nimport { fieldPropTypes } from './types';\nvar hasNumberFormat = !!(typeof Intl === 'object' &&\n    Intl &&\n    typeof Intl.NumberFormat === 'function');\n/**\n * Display a numeric value as a locale string.\n *\n * Uses Intl.NumberFormat() if available, passing the locales and options props as arguments.\n * If Intl is not available, it outputs number as is (and ignores the locales and options props).\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/toLocaleString\n * @example\n * <NumberField source=\"score\" />\n * // renders the record { id: 1234, score: 567 } as\n * <span>567</span>\n *\n * <NumberField source=\"score\" className=\"red\" />\n * // renders the record { id: 1234, score: 567 } as\n * <span class=\"red\">567</span>\n *\n * <NumberField source=\"share\" options={{ style: 'percent' }} />\n * // renders the record { id: 1234, share: 0.2545 } as\n * <span>25%</span>\n *\n * <NumberField source=\"price\" options={{ style: 'currency', currency: 'USD' }} />\n * // renders the record { id: 1234, price: 25.99 } as\n * <span>$25.99</span>\n *\n * <NumberField source=\"price\" locales=\"fr-FR\" options={{ style: 'currency', currency: 'USD' }} />\n * // renders the record { id: 1234, price: 25.99 } as\n * <span>25,99 $US</span>\n */\nexport var NumberField = memo(function (props) {\n    var className = props.className, emptyText = props.emptyText, source = props.source, locales = props.locales, options = props.options, textAlign = props.textAlign, rest = __rest(props, [\"className\", \"emptyText\", \"source\", \"locales\", \"options\", \"textAlign\"]);\n    var record = useRecordContext(props);\n    if (!record) {\n        return null;\n    }\n    var value = get(record, source);\n    if (value == null) {\n        return emptyText ? (React.createElement(Typography, __assign({ component: \"span\", variant: \"body2\", className: className }, sanitizeFieldRestProps(rest)), emptyText)) : null;\n    }\n    return (React.createElement(Typography, __assign({ variant: \"body2\", component: \"span\", className: className }, sanitizeFieldRestProps(rest)), hasNumberFormat\n        ? value.toLocaleString(locales, options)\n        : value));\n});\n// what? TypeScript loses the displayName if we don't set it explicitly\nNumberField.displayName = 'NumberField';\nNumberField.defaultProps = {\n    addLabel: true,\n    textAlign: 'right',\n};\nNumberField.propTypes = __assign(__assign(__assign({}, Typography.propTypes), fieldPropTypes), { locales: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.arrayOf(PropTypes.string),\n    ]), options: PropTypes.object });\nexport default NumberField;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { useCallback, useMemo } from 'react';\nimport ReactDOM from 'react-dom';\nimport { useSelector } from 'react-redux';\nimport { createSelector } from 'reselect';\nimport debounce from 'lodash/debounce';\nimport union from 'lodash/union';\nimport isEqual from 'lodash/isEqual';\nimport get from 'lodash/get';\nimport { CRUD_GET_MANY } from '../actions/dataActions/crudGetMany';\nimport { useSafeSetState } from '../util/hooks';\nimport useDataProvider from './useDataProvider';\nimport { useEffect } from 'react';\nimport { useVersion } from '../controller';\nvar queriesToCall = {};\nvar dataProvider;\nvar DataProviderOptions = { action: CRUD_GET_MANY };\n/**\n * Call the dataProvider.getMany() method and return the resolved result\n * as well as the loading state.\n *\n * The return value updates according to the request state:\n *\n * - start: { loading: true, loaded: false, refetch }\n * - success: { data: [data from response], loading: false, loaded: true, refetch }\n * - error: { error: [error from response], loading: false, loaded: false, refetch }\n *\n * This hook will return the cached result when called a second time\n * with the same parameters, until the response arrives.\n *\n * This hook aggregates and deduplicates calls to the same resource, so for instance, if an app calls:\n *\n * useGetMany('tags', [1, 2, 3]);\n * useGetMany('tags', [3, 4]);\n *\n * during the same tick, the hook will only call the dataProvider once with the following parameters:\n *\n * dataProvider(GET_MANY, 'tags', [1, 2, 3, 4])\n *\n * @param resource The resource name, e.g. 'posts'\n * @param ids The resource identifiers, e.g. [123, 456, 789]\n * @param {Object} options Options object to pass to the dataProvider.\n * @param {boolean} options.enabled Flag to conditionally run the query. If it's false, the query will not run\n * @param {Function} options.onSuccess Side effect function to be executed upon success, e.g. { onSuccess: { refresh: true } }\n * @param {Function} options.onFailure Side effect function to be executed upon failure, e.g. { onFailure: error => notify(error.message) }\n *\n * @returns The current request state. Destructure as { data, error, loading, loaded, refetch }.\n *\n * @example\n *\n * import { useGetMany } from 'react-admin';\n *\n * const PostTags = ({ record }) => {\n *     const { data, loading, error } = useGetMany('tags', record.tagIds);\n *     if (loading) { return <Loading />; }\n *     if (error) { return <p>ERROR</p>; }\n *     return (\n *          <ul>\n *              {data.map(tag => (\n *                  <li key={tag.id}>{tag.name}</li>\n *              ))}\n *          </ul>\n *      );\n * };\n */\nvar useGetMany = function (resource, ids, options) {\n    if (options === void 0) { options = { enabled: true }; }\n    // we can't use useQueryWithStore here because we're aggregating queries first\n    // therefore part of the useQueryWithStore logic will have to be repeated below\n    var selectMany = useMemo(makeGetManySelector, []);\n    var data = useSelector(function (state) {\n        return selectMany(state, resource, ids);\n    });\n    var version = useVersion(); // used to allow force reload\n    // used to force a refetch without relying on version\n    // which might trigger other queries as well\n    var _a = useSafeSetState(0), innerVersion = _a[0], setInnerVersion = _a[1];\n    var refetch = useCallback(function () {\n        setInnerVersion(function (prevInnerVersion) { return prevInnerVersion + 1; });\n    }, [setInnerVersion]);\n    var _b = useSafeSetState({\n        data: data,\n        error: null,\n        loading: ids.length !== 0,\n        loaded: data.length !== 0 && !data.includes(undefined),\n        refetch: refetch,\n    }), state = _b[0], setState = _b[1];\n    if (!isEqual(state.data, data)) {\n        setState(__assign(__assign({}, state), { data: data }));\n    }\n    dataProvider = useDataProvider(); // not the best way to pass the dataProvider to a function outside the hook, but I couldn't find a better one\n    useEffect(function () {\n        if (options.enabled === false) {\n            return;\n        }\n        if (!queriesToCall[resource]) {\n            queriesToCall[resource] = [];\n        }\n        /**\n         * queriesToCall stores the queries to call under the following shape:\n         *\n         * {\n         *   'posts': [\n         *     { ids: [1, 2], setState }\n         *     { ids: [2, 3], setState, onSuccess }\n         *     { ids: [4, 5], setState }\n         *   ],\n         *   'comments': [\n         *     { ids: [345], setState, onFailure }\n         *   ]\n         * }\n         */\n        queriesToCall[resource] = queriesToCall[resource].concat({\n            ids: ids,\n            setState: setState,\n            onSuccess: options && options.onSuccess,\n            onFailure: options && options.onFailure,\n        });\n        callQueries(); // debounced by lodash\n    }, \n    /* eslint-disable react-hooks/exhaustive-deps */\n    [\n        JSON.stringify({\n            resource: resource,\n            ids: ids,\n            options: options,\n            version: version,\n            innerVersion: innerVersion,\n        }),\n        dataProvider,\n    ]\n    /* eslint-enable react-hooks/exhaustive-deps */\n    );\n    return state;\n};\n/**\n * Memoized selector for getting an array of resources based on an array of ids\n *\n * @see https://react-redux.js.org/next/api/hooks#using-memoizing-selectors\n */\nvar makeGetManySelector = function () {\n    return createSelector([\n        function (state, resource) {\n            return get(state, ['admin', 'resources', resource, 'data']);\n        },\n        function (_, __, ids) { return ids; },\n    ], function (resourceData, ids) {\n        return resourceData\n            ? ids.map(function (id) { return resourceData[id]; })\n            : ids.map(function (id) { return undefined; });\n    });\n};\n/**\n * Call the dataProvider once per resource\n */\nvar callQueries = debounce(function () {\n    var resources = Object.keys(queriesToCall);\n    resources.forEach(function (resource) {\n        var queries = __spreadArrays(queriesToCall[resource]); // cloning to avoid side effects\n        /**\n         * Extract ids from queries, aggregate and deduplicate them\n         *\n         * @example from [[1, 2], [2, null, 3], [4, null]] to [1, 2, 3, 4]\n         */\n        var accumulatedIds = queries\n            .reduce(function (acc, _a) {\n            var ids = _a.ids;\n            return union(acc, ids);\n        }, []) // concat + unique\n            .filter(function (v) { return v != null && v !== ''; }); // remove null values\n        if (accumulatedIds.length === 0) {\n            // no need to call the data provider if all the ids are null\n            queries.forEach(function (_a) {\n                var ids = _a.ids, setState = _a.setState, onSuccess = _a.onSuccess;\n                setState({\n                    data: emptyArray,\n                    loading: false,\n                    loaded: true,\n                });\n                if (onSuccess) {\n                    onSuccess({ data: emptyArray });\n                }\n            });\n            return;\n        }\n        dataProvider\n            .getMany(resource, { ids: accumulatedIds }, DataProviderOptions)\n            .then(function (response) {\n            // Forces batching, see https://stackoverflow.com/questions/48563650/does-react-keep-the-order-for-state-updates/48610973#48610973\n            return ReactDOM.unstable_batchedUpdates(function () {\n                return queries.forEach(function (_a) {\n                    var ids = _a.ids, setState = _a.setState, onSuccess = _a.onSuccess;\n                    setState(function (prevState) { return (__assign(__assign({}, prevState), { error: null, loading: false, loaded: true })); });\n                    if (onSuccess) {\n                        var subData = ids.map(function (id) {\n                            return response.data.find(function (datum) { return datum.id == id; });\n                        } // eslint-disable-line eqeqeq\n                        );\n                        onSuccess({ data: subData });\n                    }\n                });\n            });\n        })\n            .catch(function (error) {\n            return ReactDOM.unstable_batchedUpdates(function () {\n                return queries.forEach(function (_a) {\n                    var setState = _a.setState, onFailure = _a.onFailure;\n                    setState({ error: error, loading: false, loaded: false });\n                    onFailure && onFailure(error);\n                });\n            });\n        });\n        delete queriesToCall[resource];\n    });\n});\nvar emptyArray = [];\nexport default useGetMany;\n","import get from 'lodash/get';\nimport { linkToRecord } from '../../util';\n/**\n * Get the link toward the referenced resource\n *\n * @example\n *\n * const linkPath = getResourceLinkPath({\n *      basePath: '/comments',\n *      link: 'edit',\n *      reference: 'users',\n *      record: {\n *          userId: 7\n *      },\n *      resource: 'comments',\n *      source: 'userId',\n * }); // '/users/7'\n *\n * @param {Object} option\n * @param {string} option.basePath basepath to current resource\n * @param {string | false | LinkToFunctionType} option.link=\"edit\" The link toward the referenced record. 'edit', 'show' or false for no link (default to edit). Alternatively a function that returns a string\n * @param {string | false | LinkToFunctionType} [option.linkType] DEPRECATED : old name for link\n * @param {string} option.reference The linked resource name\n * @param {Object} option.record The current resource record\n * @param {string} option.resource The current resource name\n * @param {string} option.source The key of the linked resource identifier\n *\n * @returns {string | false} The link to the reference record\n */\nvar getResourceLinkPath = function (_a) {\n    var resource = _a.resource, source = _a.source, reference = _a.reference, _b = _a.link, link = _b === void 0 ? 'edit' : _b, _c = _a.record, record = _c === void 0 ? { id: '' } : _c, _d = _a.basePath, basePath = _d === void 0 ? '' : _d, linkType = _a.linkType;\n    if (linkType !== undefined) {\n        console.warn(\"The 'linkType' prop is deprecated and should be named to 'link' in <ReferenceField />\");\n    }\n    var sourceId = get(record, source);\n    var rootPath = basePath\n        ? basePath.replace(resource, reference)\n        : \"/\" + reference;\n    var linkTo = linkType !== undefined ? linkType : link;\n    // Backward compatibility: keep linkType but with warning\n    return !linkTo\n        ? false\n        : typeof linkTo === 'function'\n            ? linkTo(record, reference)\n            : linkToRecord(rootPath, sourceId, linkTo);\n};\nexport default getResourceLinkPath;\n","import { GET_MANY } from '../../core';\nexport var crudGetMany = function (resource, ids) { return ({\n    type: CRUD_GET_MANY,\n    payload: { ids: ids },\n    meta: {\n        resource: resource,\n        fetch: GET_MANY,\n        onFailure: {\n            notification: {\n                body: 'ra.notification.http_error',\n                level: 'warning',\n            },\n        },\n    },\n}); };\nexport var CRUD_GET_MANY = 'RA/CRUD_GET_MANY';\nexport var CRUD_GET_MANY_LOADING = 'RA/CRUD_GET_MANY_LOADING';\nexport var CRUD_GET_MANY_FAILURE = 'RA/CRUD_GET_MANY_FAILURE';\nexport var CRUD_GET_MANY_SUCCESS = 'RA/CRUD_GET_MANY_SUCCESS';\n","import { useGetMany } from '../dataProvider';\n/**\n * @typedef ReferenceProps\n * @type {Object}\n * @property {boolean} loading: boolean indicating if the reference is loading\n * @property {boolean} loaded: boolean indicating if the reference has loaded\n * @property {Object} referenceRecord: the referenced record.\n */\n/**\n * Fetch reference record, and return it when available\n *\n * The reference prop should be the name of one of the <Resource> components\n * added as <Admin> child.\n *\n * @example\n *\n * const { loading, loaded, referenceRecord } = useReference({\n *     id: 7,\n *     reference: 'users',\n * });\n *\n * @param {Object} option\n * @param {string} option.reference The linked resource name\n * @param {string} option.id The id of the reference\n *\n * @returns {ReferenceProps} The reference record\n */\nexport var useReference = function (_a) {\n    var reference = _a.reference, id = _a.id;\n    var _b = useGetMany(reference, [\n        id,\n    ]), data = _b.data, error = _b.error, loading = _b.loading, loaded = _b.loaded, refetch = _b.refetch;\n    return {\n        referenceRecord: error ? undefined : data[0],\n        refetch: refetch,\n        error: error,\n        loading: loading,\n        loaded: loaded,\n    };\n};\nexport default useReference;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport Progress from '@material-ui/core/LinearProgress';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nimport { useTimeout } from 'ra-core';\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        margin: theme.spacing(1) + \"px 0\",\n        width: theme.spacing(20) + \"px\",\n    },\n}); }, { name: 'RaLinearProgress' });\n/**\n * Progress bar formatted to replace an input or a field in a form layout\n *\n * Avoids visual jumps when replaced by value or form input\n *\n * @see ReferenceField\n * @see ReferenceInput\n *\n * @typedef {Object} Props the props you can use\n * @prop {Object} classes CSS class names\n * @prop {string} className CSS class applied to the LinearProgress component\n * @prop {integer} timeout Milliseconds to wait before showing the progress bar. One second by default\n *\n * @param {Props} props\n */\nvar LinearProgress = function (_a) {\n    var _b = _a.timeout, timeout = _b === void 0 ? 1000 : _b, props = __rest(_a, [\"timeout\"]);\n    var classesOverride = props.classes, className = props.className, rest = __rest(props, [\"classes\", \"className\"]);\n    var classes = useStyles(props);\n    var oneSecondHasPassed = useTimeout(timeout);\n    return oneSecondHasPassed ? (React.createElement(Progress, __assign({ className: classnames(classes.root, className) }, rest))) : null;\n};\nLinearProgress.propTypes = {\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    timeout: PropTypes.number,\n};\n// What? TypeScript loses the displayName if we don't set it explicitly\nLinearProgress.displayName = 'LinearProgress';\nexport default LinearProgress;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { Children, cloneElement, memo } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport get from 'lodash/get';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Typography } from '@material-ui/core';\nimport ErrorIcon from '@material-ui/icons/Error';\nimport { useSelector } from 'react-redux';\nimport { useReference, getResourceLinkPath, ResourceContextProvider, RecordContextProvider, useRecordContext, } from 'ra-core';\nimport LinearProgress from '../layout/LinearProgress';\nimport Link from '../Link';\nimport sanitizeFieldRestProps from './sanitizeFieldRestProps';\nimport { fieldPropTypes } from './types';\n/**\n * Fetch reference record, and delegate rendering to child component.\n *\n * The reference prop should be the name of one of the <Resource> components\n * added as <Admin> child.\n *\n * @example\n * <ReferenceField label=\"User\" source=\"userId\" reference=\"users\">\n *     <TextField source=\"name\" />\n * </ReferenceField>\n *\n * @default\n * By default, includes a link to the <Edit> page of the related record\n * (`/users/:userId` in the previous example).\n *\n * Set the `link` prop to \"show\" to link to the <Show> page instead.\n *\n * @example\n * <ReferenceField label=\"User\" source=\"userId\" reference=\"users\" link=\"show\">\n *     <TextField source=\"name\" />\n * </ReferenceField>\n *\n * @default\n * You can also prevent `<ReferenceField>` from adding link to children by setting\n * `link` to false.\n *\n * @example\n * <ReferenceField label=\"User\" source=\"userId\" reference=\"users\" link={false}>\n *     <TextField source=\"name\" />\n * </ReferenceField>\n *\n * @default\n * Alternatively, you can also pass a custom function to `link`. It must take reference and record\n * as arguments and return a string\n *\n * @example\n * <ReferenceField label=\"User\" source=\"userId\" reference=\"users\" link={(record, reference) => \"/path/to/${reference}/${record}\"}>\n *     <TextField source=\"name\" />\n * </ReferenceField>\n *\n * @default\n * In previous versions of React-Admin, the prop `linkType` was used. It is now deprecated and replaced with `link`. However\n * backward-compatibility is still kept\n */\nvar ReferenceField = function (props) {\n    var source = props.source, emptyText = props.emptyText, rest = __rest(props, [\"source\", \"emptyText\"]);\n    var record = useRecordContext(props);\n    var isReferenceDeclared = useSelector(function (state) { return typeof state.admin.resources[props.reference] !== 'undefined'; });\n    if (!isReferenceDeclared) {\n        throw new Error(\"You must declare a <Resource name=\\\"\" + props.reference + \"\\\"> in order to use a <ReferenceField reference=\\\"\" + props.reference + \"\\\">\");\n    }\n    return get(record, source) == null ? (emptyText ? (React.createElement(Typography, { component: \"span\", variant: \"body2\" }, emptyText)) : null) : (React.createElement(NonEmptyReferenceField, __assign({}, rest, { record: record, source: source })));\n};\nReferenceField.propTypes = {\n    addLabel: PropTypes.bool,\n    basePath: PropTypes.string,\n    children: PropTypes.element.isRequired,\n    classes: PropTypes.any,\n    className: PropTypes.string,\n    cellClassName: PropTypes.string,\n    headerClassName: PropTypes.string,\n    label: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n    record: PropTypes.any,\n    reference: PropTypes.string.isRequired,\n    resource: PropTypes.string,\n    sortBy: PropTypes.string,\n    sortByOrder: fieldPropTypes.sortByOrder,\n    source: PropTypes.string.isRequired,\n    translateChoice: PropTypes.oneOfType([PropTypes.func, PropTypes.bool]),\n    linkType: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.bool,\n        PropTypes.func,\n    ]),\n    link: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.bool,\n        PropTypes.func,\n    ]).isRequired,\n};\nReferenceField.defaultProps = {\n    addLabel: true,\n    classes: {},\n    link: 'edit',\n};\n/**\n * This intermediate component is made necessary by the useReference hook,\n * which cannot be called conditionally when get(record, source) is empty.\n */\nexport var NonEmptyReferenceField = function (_a) {\n    var children = _a.children, record = _a.record, source = _a.source, props = __rest(_a, [\"children\", \"record\", \"source\"]);\n    if (React.Children.count(children) !== 1) {\n        throw new Error('<ReferenceField> only accepts a single child');\n    }\n    var basePath = props.basePath, resource = props.resource, reference = props.reference;\n    var resourceLinkPath = getResourceLinkPath(__assign(__assign({}, props), { resource: resource,\n        record: record,\n        source: source,\n        basePath: basePath }));\n    return (React.createElement(ResourceContextProvider, { value: reference },\n        React.createElement(PureReferenceFieldView, __assign({}, props, useReference({\n            reference: reference,\n            id: get(record, source),\n        }), { resourceLinkPath: resourceLinkPath }), children)));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    link: {\n        color: theme.palette.primary.main,\n    },\n}); }, { name: 'RaReferenceField' });\n// useful to prevent click bubbling in a datagrid with rowClick\nvar stopPropagation = function (e) { return e.stopPropagation(); };\nexport var ReferenceFieldView = function (props) {\n    var basePath = props.basePath, children = props.children, className = props.className, classesOverride = props.classes, error = props.error, loaded = props.loaded, loading = props.loading, record = props.record, reference = props.reference, referenceRecord = props.referenceRecord, refetch = props.refetch, resource = props.resource, resourceLinkPath = props.resourceLinkPath, source = props.source, _a = props.translateChoice, translateChoice = _a === void 0 ? false : _a, rest = __rest(props, [\"basePath\", \"children\", \"className\", \"classes\", \"error\", \"loaded\", \"loading\", \"record\", \"reference\", \"referenceRecord\", \"refetch\", \"resource\", \"resourceLinkPath\", \"source\", \"translateChoice\"]);\n    var classes = useStyles(props);\n    if (error) {\n        return (\n        /* eslint-disable jsx-a11y/role-supports-aria-props */\n        React.createElement(ErrorIcon, { \"aria-errormessage\": error.message ? error.message : error, role: \"presentation\", color: \"error\", fontSize: \"small\" })\n        /* eslint-enable */\n        );\n    }\n    if (!loaded) {\n        return React.createElement(LinearProgress, null);\n    }\n    if (!referenceRecord) {\n        return null;\n    }\n    if (resourceLinkPath) {\n        return (React.createElement(RecordContextProvider, { value: referenceRecord },\n            React.createElement(Link, { to: resourceLinkPath, className: className, onClick: stopPropagation }, cloneElement(Children.only(children), __assign({ className: classnames(children.props.className, classes.link // force color override for Typography components\n                ), record: referenceRecord, refetch: refetch, resource: reference, basePath: basePath,\n                translateChoice: translateChoice }, sanitizeFieldRestProps(rest))))));\n    }\n    return (React.createElement(RecordContextProvider, { value: referenceRecord }, cloneElement(Children.only(children), __assign({ record: referenceRecord, resource: reference, basePath: basePath,\n        translateChoice: translateChoice }, sanitizeFieldRestProps(rest)))));\n};\nReferenceFieldView.propTypes = {\n    basePath: PropTypes.string,\n    children: PropTypes.element,\n    className: PropTypes.string,\n    classes: PropTypes.any,\n    loading: PropTypes.bool,\n    record: PropTypes.any,\n    reference: PropTypes.string,\n    referenceRecord: PropTypes.any,\n    resource: PropTypes.string,\n    resourceLinkPath: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.oneOf([false]),\n    ]),\n    source: PropTypes.string,\n    translateChoice: PropTypes.oneOfType([PropTypes.func, PropTypes.bool]),\n};\nvar PureReferenceFieldView = memo(ReferenceFieldView);\nexport default ReferenceField;\n","/**\n * Create a map of records indexed by their id property from an array of records.\n *\n * @param {Record[]} records. The array of records\n *\n * @example\n * const records = [{ id: 1, name: 'foo' }, { id: 2, name: 'bar' }];\n * const map = indexById(records);\n * // Map has the following structure:\n * {\n *     1: { id: 1, name: 'foo' },\n *     2: { id: 2, name: 'bar' },\n * }\n */\nexport var indexById = function (records) {\n    if (records === void 0) { records = []; }\n    return records\n        .filter(function (r) { return typeof r !== 'undefined'; })\n        .reduce(function (prev, current) {\n        prev[current.id] = current;\n        return prev;\n    }, {});\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { useEffect, useReducer, useCallback, useRef } from 'react';\nvar paginationReducer = function (prevState, nextState) {\n    return __assign(__assign({}, prevState), nextState);\n};\nvar defaultPagination = {\n    page: 1,\n    perPage: 25,\n};\n/**\n * Hooks to provide pagination state (page and perPage)\n *\n * @example\n *\n * const { page, setPage, perPage, setPerPage } = usePagination(initialPerPage);\n *\n * @param {number} initialPagination the initial value per page\n * @returns {PaginationHookResult} The pagination props\n */\nexport default (function (initialPagination) {\n    if (initialPagination === void 0) { initialPagination = {}; }\n    var _a = useReducer(paginationReducer, __assign(__assign({}, defaultPagination), initialPagination)), pagination = _a[0], setPagination = _a[1];\n    var isFirstRender = useRef(true);\n    var setPerPage = useCallback(function (perPage) { return setPagination({ perPage: perPage }); }, []);\n    var setPage = useCallback(function (page) { return setPagination({ page: page }); }, []);\n    useEffect(function () {\n        if (isFirstRender.current) {\n            isFirstRender.current = false;\n            return;\n        }\n        setPerPage(initialPagination.perPage || 25);\n    }, [initialPagination.perPage, setPerPage]);\n    return {\n        page: pagination.page,\n        perPage: pagination.perPage,\n        pagination: pagination,\n        setPage: setPage,\n        setPerPage: setPerPage,\n        setPagination: setPagination,\n    };\n});\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { useReducer, useEffect, useRef, useCallback } from 'react';\nimport { SORT_ASC, SORT_DESC, } from '../reducer/admin/resource/list/queryReducer';\nvar sortReducer = function (state, action) {\n    switch (action.type) {\n        case 'SET_SORT':\n            return action.payload.sort;\n        case 'SET_SORT_FIELD': {\n            var field = action.payload.field;\n            var order = state.field === field\n                ? state.order === SORT_ASC\n                    ? SORT_DESC\n                    : SORT_ASC\n                : SORT_ASC;\n            return { field: field, order: order };\n        }\n        case 'SET_SORT_ORDER': {\n            var order = action.payload.order;\n            return __assign(__assign({}, state), { order: order });\n        }\n        default:\n            return state;\n    }\n};\nexport var defaultSort = { field: 'id', order: 'DESC' };\n/**\n * Set the sort { field, order }\n * @name setSort\n * @function\n * @param {SortPayload} sort the sort object\n */\n/**\n * Set the sort field, swap the order if the field is the same\n * @name setSortField\n * @function\n * @param {string} field the sort field\n */\n/**\n * Set the sort order\n * @name setSortOrder\n * @function\n * @param {string} order The sort order, either ASC or DESC\n */\n/**\n * @typedef SortProps\n * @type {Object}\n * @property {Object} sort: the sort object.\n * @property {string} sort.field: the sort object.\n * @property {'ASC' | 'DESC'} sort.order: the sort object.\n * @property {setSort} setSort\n * @property {setSortField} setSortField\n * @property {setSortOrder} setSortOrder\n */\n/**\n * Hooks to provide sort state\n *\n * @example\n *\n * const { sort, setSort, setSortField, setSortOrder } = useSort({\n *      field: 'name',\n *      order: 'ASC',\n * });\n *\n * setSort({ field: 'name', order: 'ASC' });\n * // is the same as\n * setSortField('name');\n * setSortOrder('ASC');\n *\n * @param {Object} initialSort\n * @param {string} initialSort.field The initial sort field\n * @param {string} initialSort.order The initial sort order\n * @returns {SortProps} The sort props\n */\nvar useSortState = function (initialSort) {\n    if (initialSort === void 0) { initialSort = defaultSort; }\n    var _a = useReducer(sortReducer, initialSort), sort = _a[0], dispatch = _a[1];\n    var isFirstRender = useRef(true);\n    useEffect(function () {\n        if (isFirstRender.current) {\n            isFirstRender.current = false;\n            return;\n        }\n        dispatch({ type: 'SET_SORT', payload: { sort: initialSort } });\n    }, [initialSort.field, initialSort.order]); // eslint-disable-line react-hooks/exhaustive-deps\n    return {\n        setSort: useCallback(function (sort) {\n            return dispatch({ type: 'SET_SORT', payload: { sort: sort } });\n        }, [dispatch]),\n        setSortField: useCallback(function (field) {\n            return dispatch({ type: 'SET_SORT_FIELD', payload: { field: field } });\n        }, [dispatch]),\n        setSortOrder: useCallback(function (order) {\n            return dispatch({ type: 'SET_SORT_ORDER', payload: { order: order } });\n        }, [dispatch]),\n        sort: sort,\n    };\n};\nexport default useSortState;\n","var __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { useCallback, useEffect, useRef } from 'react';\nimport { useSafeSetState } from '../util';\nvar defaultSelection = [];\n/**\n * Hooks to provide selection state.\n *\n * The names of the return values match the ListContext interface\n *\n * @example\n *\n * const { selectedIds, onSelect, onToggleItem, onUnselectItems } = useSelectionState();\n *\n */\nvar useSelectionState = function (initialSelection) {\n    if (initialSelection === void 0) { initialSelection = defaultSelection; }\n    var _a = useSafeSetState(initialSelection), selectedIds = _a[0], setSelectedIds = _a[1];\n    var isFirstRender = useRef(true);\n    useEffect(function () {\n        if (isFirstRender.current) {\n            isFirstRender.current = false;\n            return;\n        }\n        setSelectedIds(initialSelection);\n    }, [initialSelection, setSelectedIds]);\n    var onSelect = useCallback(function (newIds) {\n        setSelectedIds(newIds);\n    }, [setSelectedIds]);\n    var onToggleItem = useCallback(function (id) {\n        setSelectedIds(function (previousState) {\n            var index = previousState.indexOf(id);\n            if (index > -1) {\n                return __spreadArrays(previousState.slice(0, index), previousState.slice(index + 1));\n            }\n            else {\n                return __spreadArrays(previousState, [id]);\n            }\n        });\n    }, [setSelectedIds]);\n    var onUnselectItems = useCallback(function () {\n        setSelectedIds([]);\n    }, [setSelectedIds]);\n    return {\n        selectedIds: selectedIds,\n        onSelect: onSelect,\n        onToggleItem: onToggleItem,\n        onUnselectItems: onUnselectItems,\n    };\n};\nexport default useSelectionState;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { useCallback, useEffect, useRef } from 'react';\nimport get from 'lodash/get';\nimport isEqual from 'lodash/isEqual';\nimport { indexById, removeEmpty, useSafeSetState } from '../util';\nimport usePaginationState from './usePaginationState';\nimport useSortState from './useSortState';\nimport useSelectionState from './useSelectionState';\n/**\n * Handle filtering, sorting and pagination on local data.\n *\n * Returns the data and callbacks expected by <ListContext>.\n *\n * @example\n * const data = [\n *     { id: 1, name: 'Arnold' },\n *     { id: 2, name: 'Sylvester' },\n *     { id: 3, name: 'Jean-Claude' },\n * ]\n * const ids = [1, 2, 3];\n *\n * const MyComponent = () => {\n *     const listContext = useList({\n *         initialData: data,\n *         initialIds: ids,\n *         basePath: '/resource';\n *         resource: 'resource';\n *     });\n *     return (\n *         <ListContextProvider value={listContext}>\n *             <Datagrid>\n *                 <TextField source=\"id\" />\n *                 <TextField source=\"name\" />\n *             </Datagrid>\n *         </ListContextProvider>\n *     );\n * };\n *\n * @param {UseListOptions} props\n * @param {Record[]} props.data An array of records\n * @param {Identifier[]} props.ids An array of the record identifiers\n * @param {Boolean} props.loaded: A boolean indicating whether the data has been loaded at least once\n * @param {Boolean} props.loading: A boolean indicating whether the data is being loaded\n * @param {Error | String} props.error: Optional. The error if any occured while loading the data\n * @param {Object} props.filter: Optional. An object containing the filters applied on the data\n * @param {Number} props.page: Optional. The initial page index\n * @param {Number} props.perPage: Optional. The initial page size\n * @param {SortPayload} props.sort: Optional. The initial sort (field and order)\n */\nexport var useList = function (props) {\n    var data = props.data, error = props.error, _a = props.filter, filter = _a === void 0 ? defaultFilter : _a, ids = props.ids, loaded = props.loaded, loading = props.loading, _b = props.page, initialPage = _b === void 0 ? 1 : _b, _c = props.perPage, initialPerPage = _c === void 0 ? 1000 : _c, _d = props.sort, initialSort = _d === void 0 ? defaultSort : _d;\n    var _e = useSafeSetState(loading), loadingState = _e[0], setLoadingState = _e[1];\n    var _f = useSafeSetState(loaded), loadedState = _f[0], setLoadedState = _f[1];\n    var _g = useSafeSetState(function () { return ({\n        data: indexById(data),\n        ids: ids,\n    }); }), finalItems = _g[0], setFinalItems = _g[1];\n    // pagination logic\n    var _h = usePaginationState({\n        page: initialPage,\n        perPage: initialPerPage,\n    }), page = _h.page, setPage = _h.setPage, perPage = _h.perPage, setPerPage = _h.setPerPage;\n    // sort logic\n    var _j = useSortState(initialSort), sort = _j.sort, setSortObject = _j.setSort;\n    var setSort = useCallback(function (field, order) {\n        if (order === void 0) { order = 'ASC'; }\n        setSortObject({ field: field, order: order });\n        setPage(1);\n    }, [setPage, setSortObject]);\n    // selection logic\n    var _k = useSelectionState(), selectedIds = _k.selectedIds, onSelect = _k.onSelect, onToggleItem = _k.onToggleItem, onUnselectItems = _k.onUnselectItems;\n    // filter logic\n    var filterRef = useRef(filter);\n    var _l = useSafeSetState({}), displayedFilters = _l[0], setDisplayedFilters = _l[1];\n    var _m = useSafeSetState(filter), filterValues = _m[0], setFilterValues = _m[1];\n    var hideFilter = useCallback(function (filterName) {\n        setDisplayedFilters(function (previousState) {\n            var _a = previousState, _b = filterName, _ = _a[_b], newState = __rest(_a, [typeof _b === \"symbol\" ? _b : _b + \"\"]);\n            return newState;\n        });\n        setFilterValues(function (previousState) {\n            var _a = previousState, _b = filterName, _ = _a[_b], newState = __rest(_a, [typeof _b === \"symbol\" ? _b : _b + \"\"]);\n            return newState;\n        });\n    }, [setDisplayedFilters, setFilterValues]);\n    var showFilter = useCallback(function (filterName, defaultValue) {\n        setDisplayedFilters(function (previousState) {\n            var _a;\n            return (__assign(__assign({}, previousState), (_a = {}, _a[filterName] = true, _a)));\n        });\n        setFilterValues(function (previousState) {\n            var _a;\n            return removeEmpty(__assign(__assign({}, previousState), (_a = {}, _a[filterName] = defaultValue, _a)));\n        });\n    }, [setDisplayedFilters, setFilterValues]);\n    var setFilters = useCallback(function (filters, displayedFilters) {\n        setFilterValues(removeEmpty(filters));\n        if (displayedFilters) {\n            setDisplayedFilters(displayedFilters);\n        }\n        setPage(1);\n    }, [setDisplayedFilters, setFilterValues, setPage]);\n    // handle filter prop change\n    useEffect(function () {\n        if (!isEqual(filter, filterRef.current)) {\n            filterRef.current = filter;\n            setFilterValues(filter);\n        }\n    });\n    // We do all the data processing (filtering, sorting, paginating) client-side\n    useEffect(function () {\n        if (!loaded)\n            return;\n        // 1. filter\n        var tempData = data.filter(function (record) {\n            return Object.entries(filterValues).every(function (_a) {\n                var filterName = _a[0], filterValue = _a[1];\n                var recordValue = get(record, filterName);\n                var result = Array.isArray(recordValue)\n                    ? Array.isArray(filterValue)\n                        ? recordValue.some(function (item) { return filterValue.includes(item); })\n                        : recordValue.includes(filterValue)\n                    : Array.isArray(filterValue)\n                        ? filterValue.includes(recordValue)\n                        : filterValue == recordValue; // eslint-disable-line eqeqeq\n                return result;\n            });\n        });\n        // 2. sort\n        if (sort.field) {\n            tempData = tempData.sort(function (a, b) {\n                if (get(a, sort.field) > get(b, sort.field)) {\n                    return sort.order === 'ASC' ? 1 : -1;\n                }\n                if (get(a, sort.field) < get(b, sort.field)) {\n                    return sort.order === 'ASC' ? -1 : 1;\n                }\n                return 0;\n            });\n        }\n        // 3. paginate\n        tempData = tempData.slice((page - 1) * perPage, page * perPage);\n        var finalData = indexById(tempData);\n        var finalIds = tempData\n            .filter(function (data) { return typeof data !== 'undefined'; })\n            .map(function (data) { return data.id; });\n        setFinalItems({\n            data: finalData,\n            ids: finalIds,\n        });\n    }, [\n        data,\n        filterValues,\n        loaded,\n        page,\n        perPage,\n        setFinalItems,\n        sort.field,\n        sort.order,\n    ]);\n    useEffect(function () {\n        if (loaded !== loadedState) {\n            setLoadedState(loaded);\n        }\n    }, [loaded, loadedState, setLoadedState]);\n    useEffect(function () {\n        if (loading !== loadingState) {\n            setLoadingState(loading);\n        }\n    }, [loading, loadingState, setLoadingState]);\n    return {\n        currentSort: sort,\n        data: finalItems.data,\n        error: error,\n        displayedFilters: displayedFilters,\n        filterValues: filterValues,\n        hideFilter: hideFilter,\n        ids: finalItems.ids,\n        loaded: loadedState,\n        loading: loadingState,\n        onSelect: onSelect,\n        onToggleItem: onToggleItem,\n        onUnselectItems: onUnselectItems,\n        page: page,\n        perPage: perPage,\n        selectedIds: selectedIds,\n        setFilters: setFilters,\n        setPage: setPage,\n        setPerPage: setPerPage,\n        setSort: setSort,\n        showFilter: showFilter,\n        total: finalItems.ids.length,\n    };\n};\nvar defaultFilter = {};\nvar defaultSort = { field: null, order: null };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport get from 'lodash/get';\nimport { useGetMany } from '../../dataProvider';\nimport { useNotify } from '../../sideEffect';\nimport { useResourceContext } from '../../core';\nimport { useList } from '../useList';\nvar emptyArray = [];\nvar defaultFilter = {};\nvar defaultSort = { field: null, order: null };\n/**\n * Hook that fetches records from another resource specified\n * by an array of *ids* in current record.\n *\n * @example\n *\n * const { ids, data, error, loaded, loading, referenceBasePath } = useReferenceArrayFieldController({\n *      basePath: 'resource';\n *      record: { referenceIds: ['id1', 'id2']};\n *      reference: 'reference';\n *      resource: 'resource';\n *      source: 'referenceIds';\n * });\n *\n * @param {Object} props\n * @param {string} props.basePath basepath to current resource\n * @param {Object} props.record The current resource record\n * @param {string} props.reference The linked resource name\n * @param {string} props.resource The current resource name\n * @param {string} props.source The key of the linked resource identifier\n *\n * @param {Props} props\n *\n * @returns {ReferenceArrayProps} The reference props\n */\nvar useReferenceArrayFieldController = function (props) {\n    var basePath = props.basePath, _a = props.filter, filter = _a === void 0 ? defaultFilter : _a, _b = props.page, page = _b === void 0 ? 1 : _b, _c = props.perPage, perPage = _c === void 0 ? 1000 : _c, record = props.record, reference = props.reference, _d = props.sort, sort = _d === void 0 ? defaultSort : _d, source = props.source;\n    var resource = useResourceContext(props);\n    var notify = useNotify();\n    var ids = get(record, source) || emptyArray;\n    var _e = useGetMany(reference, ids, {\n        onFailure: function (error) {\n            return notify(typeof error === 'string'\n                ? error\n                : error.message || 'ra.notification.http_error', 'warning', {\n                _: typeof error === 'string'\n                    ? error\n                    : error && error.message\n                        ? error.message\n                        : undefined,\n            });\n        },\n    }), data = _e.data, error = _e.error, loading = _e.loading, loaded = _e.loaded, refetch = _e.refetch;\n    var listProps = useList({\n        data: data,\n        error: error,\n        filter: filter,\n        ids: ids,\n        loaded: loaded,\n        loading: loading,\n        page: page,\n        perPage: perPage,\n        sort: sort,\n    });\n    return __assign(__assign({ basePath: basePath\n            ? basePath.replace(resource, reference)\n            : \"/\" + reference }, listProps), { defaultTitle: null, hasCreate: false, refetch: refetch, resource: reference });\n};\nexport default useReferenceArrayFieldController;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { Children, cloneElement, memo } from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useSelector } from 'react-redux';\nimport { ListContextProvider, useListContext, useReferenceArrayFieldController, ResourceContextProvider, useRecordContext, } from 'ra-core';\nimport { fieldPropTypes } from './types';\nimport sanitizeFieldRestProps from './sanitizeFieldRestProps';\nimport { LinearProgress } from '../layout';\n/**\n * A container component that fetches records from another resource specified\n * by an array of *ids* in current record.\n *\n * You must define the fields to be passed to the iterator component as children.\n *\n * @example Display all the products of the current order as datagrid\n * // order = {\n * //   id: 123,\n * //   product_ids: [456, 457, 458],\n * // }\n * <ReferenceArrayField label=\"Products\" reference=\"products\" source=\"product_ids\">\n *     <Datagrid>\n *         <TextField source=\"id\" />\n *         <TextField source=\"description\" />\n *         <NumberField source=\"price\" options={{ style: 'currency', currency: 'USD' }} />\n *         <EditButton />\n *     </Datagrid>\n * </ReferenceArrayField>\n *\n * @example Display all the categories of the current product as a list of chips\n * // product = {\n * //   id: 456,\n * //   category_ids: [11, 22, 33],\n * // }\n * <ReferenceArrayField label=\"Categories\" reference=\"categories\" source=\"category_ids\">\n *     <SingleFieldList>\n *         <ChipField source=\"name\" />\n *     </SingleFieldList>\n * </ReferenceArrayField>\n *\n * By default, restricts the displayed values to 1000. You can extend this limit\n * by setting the `perPage` prop.\n *\n * @example\n * <ReferenceArrayField perPage={10} reference=\"categories\" source=\"category_ids\">\n *    ...\n * </ReferenceArrayField>\n *\n * By default, the field displays the results in the order in which they are referenced\n * (i.e. in the order of the list of ids). You can change this order\n * by setting the `sort` prop (an object with `field` and `order` properties).\n *\n * @example\n * <ReferenceArrayField sort={{ field: 'name', order: 'ASC' }} reference=\"categories\" source=\"category_ids\">\n *    ...\n * </ReferenceArrayField>\n *\n * Also, you can filter the results to display only a subset of values. Use the\n * `filter` prop for that.\n *\n * @example\n * <ReferenceArrayField filter={{ is_published: true }} reference=\"categories\" source=\"category_ids\">\n *    ...\n * </ReferenceArrayField>\n */\nvar ReferenceArrayField = function (props) {\n    var basePath = props.basePath, children = props.children, filter = props.filter, _a = props.page, page = _a === void 0 ? 1 : _a, perPage = props.perPage, reference = props.reference, resource = props.resource, sort = props.sort, source = props.source;\n    var record = useRecordContext(props);\n    if (React.Children.count(children) !== 1) {\n        throw new Error('<ReferenceArrayField> only accepts a single child (like <Datagrid>)');\n    }\n    var isReferenceDeclared = useSelector(function (state) { return typeof state.admin.resources[props.reference] !== 'undefined'; });\n    if (!isReferenceDeclared) {\n        throw new Error(\"You must declare a <Resource name=\\\"\" + props.reference + \"\\\"> in order to use a <ReferenceArrayField reference=\\\"\" + props.reference + \"\\\">\");\n    }\n    var controllerProps = useReferenceArrayFieldController({\n        basePath: basePath,\n        filter: filter,\n        page: page,\n        perPage: perPage,\n        record: record,\n        reference: reference,\n        resource: resource,\n        sort: sort,\n        source: source,\n    });\n    return (React.createElement(ResourceContextProvider, { value: reference },\n        React.createElement(ListContextProvider, { value: controllerProps },\n            React.createElement(PureReferenceArrayFieldView, __assign({}, props, controllerProps)))));\n};\nReferenceArrayField.propTypes = __assign(__assign({}, fieldPropTypes), { addLabel: PropTypes.bool, basePath: PropTypes.string, classes: PropTypes.object, className: PropTypes.string, children: PropTypes.element.isRequired, label: PropTypes.string, record: PropTypes.any, reference: PropTypes.string.isRequired, resource: PropTypes.string, sortBy: PropTypes.string, sortByOrder: fieldPropTypes.sortByOrder, source: PropTypes.string.isRequired });\nReferenceArrayField.defaultProps = {\n    addLabel: true,\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    progress: { marginTop: theme.spacing(2) },\n}); }, { name: 'RaReferenceArrayField' });\nexport var ReferenceArrayFieldView = function (props) {\n    var children = props.children, pagination = props.pagination, className = props.className, resource = props.resource, reference = props.reference, rest = __rest(props, [\"children\", \"pagination\", \"className\", \"resource\", \"reference\"]);\n    var classes = useStyles(props);\n    var loaded = useListContext(props).loaded;\n    if (!loaded) {\n        return React.createElement(LinearProgress, { className: classes.progress });\n    }\n    return (React.createElement(React.Fragment, null,\n        cloneElement(Children.only(children), __assign(__assign({}, sanitizeFieldRestProps(rest)), { className: className,\n            resource: resource })),\n        ' ',\n        pagination &&\n            props.total !== undefined &&\n            cloneElement(pagination, sanitizeFieldRestProps(rest))));\n};\nReferenceArrayFieldView.propTypes = {\n    basePath: PropTypes.string,\n    classes: PropTypes.any,\n    className: PropTypes.string,\n    data: PropTypes.any,\n    ids: PropTypes.array,\n    loaded: PropTypes.bool,\n    children: PropTypes.element.isRequired,\n    reference: PropTypes.string.isRequired,\n};\nvar PureReferenceArrayFieldView = memo(ReferenceArrayFieldView);\nexport default ReferenceArrayField;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { memo } from 'react';\nimport get from 'lodash/get';\nimport Typography from '@material-ui/core/Typography';\nimport { useRecordContext } from 'ra-core';\nimport sanitizeFieldRestProps from './sanitizeFieldRestProps';\nimport { fieldPropTypes } from './types';\nvar TextField = memo(function (props) {\n    var className = props.className, source = props.source, emptyText = props.emptyText, rest = __rest(props, [\"className\", \"source\", \"emptyText\"]);\n    var record = useRecordContext(props);\n    var value = get(record, source);\n    return (React.createElement(Typography, __assign({ component: \"span\", variant: \"body2\", className: className }, sanitizeFieldRestProps(rest)), value != null && typeof value !== 'string'\n        ? JSON.stringify(value)\n        : value || emptyText));\n});\n// what? TypeScript loses the displayName if we don't set it explicitly\nTextField.displayName = 'TextField';\nTextField.defaultProps = {\n    addLabel: true,\n};\nTextField.propTypes = __assign(__assign({}, Typography.propTypes), fieldPropTypes);\nexport default TextField;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { memo } from 'react';\nimport get from 'lodash/get';\nimport sanitizeFieldRestProps from './sanitizeFieldRestProps';\nimport { Typography, Link } from '@material-ui/core';\nimport { useRecordContext } from 'ra-core';\nimport { fieldPropTypes } from './types';\nvar UrlField = memo(function (props) {\n    var className = props.className, emptyText = props.emptyText, source = props.source, rest = __rest(props, [\"className\", \"emptyText\", \"source\"]);\n    var record = useRecordContext(props);\n    var value = get(record, source);\n    if (value == null) {\n        return (React.createElement(Typography, __assign({ component: \"span\", variant: \"body2\", className: className }, sanitizeFieldRestProps(rest)), emptyText));\n    }\n    return (React.createElement(Link, __assign({ className: className, href: value }, sanitizeFieldRestProps(rest)), value));\n});\nUrlField.defaultProps = {\n    addLabel: true,\n};\nUrlField.propTypes = fieldPropTypes;\nUrlField.displayName = 'UrlField';\nexport default UrlField;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport Datagrid from './datagrid/Datagrid';\nimport SingleFieldList from './SingleFieldList';\nimport ArrayField from '../field/ArrayField';\nimport BooleanField from '../field/BooleanField';\nimport ChipField from '../field/ChipField';\nimport DateField from '../field/DateField';\nimport EmailField from '../field/EmailField';\nimport NumberField from '../field/NumberField';\nimport ReferenceField from '../field/ReferenceField';\nimport ReferenceArrayField from '../field/ReferenceArrayField';\nimport TextField from '../field/TextField';\nimport UrlField from '../field/UrlField';\nexport default {\n    table: {\n        component: function (props) { return React.createElement(Datagrid, __assign({ rowClick: \"edit\" }, props)); },\n        representation: function (_, children) { return \"        <Datagrid rowClick=\\\"edit\\\">\\n\" + children.map(function (child) { return \"            \" + child.getRepresentation(); }).join('\\n') + \"\\n        </Datagrid>\"; },\n    },\n    array: {\n        // eslint-disable-next-line react/display-name\n        component: function (_a) {\n            var children = _a.children, props = __rest(_a, [\"children\"]);\n            return (React.createElement(ArrayField, __assign({}, props),\n                React.createElement(SingleFieldList, null,\n                    React.createElement(ChipField, { source: children.length > 0 && children[0].props.source }))));\n        },\n        representation: function (props, children) {\n            return \"<ArrayField source=\\\"\" + props.source + \"\\\"><SingleFieldList><ChipField source=\\\"\" + (children.length > 0 && children[0].getProps().source) + \"\\\" /></SingleFieldList></ArrayField>\";\n        },\n    },\n    boolean: {\n        component: BooleanField,\n        representation: function (props) { return \"<BooleanField source=\\\"\" + props.source + \"\\\" />\"; },\n    },\n    date: {\n        component: DateField,\n        representation: function (props) { return \"<DateField source=\\\"\" + props.source + \"\\\" />\"; },\n    },\n    email: {\n        component: EmailField,\n        representation: function (props) { return \"<EmailField source=\\\"\" + props.source + \"\\\" />\"; },\n    },\n    id: {\n        component: TextField,\n        representation: function (props) { return \"<TextField source=\\\"\" + props.source + \"\\\" />\"; },\n    },\n    number: {\n        component: NumberField,\n        representation: function (props) { return \"<NumberField source=\\\"\" + props.source + \"\\\" />\"; },\n    },\n    reference: {\n        component: ReferenceField,\n        representation: function (props) {\n            return \"<ReferenceField source=\\\"\" + props.source + \"\\\" reference=\\\"\" + props.reference + \"\\\"><TextField source=\\\"id\\\" /></ReferenceField>\";\n        },\n    },\n    referenceChild: {\n        component: function (props) { return React.createElement(TextField, __assign({ source: \"id\" }, props)); },\n        representation: function () { return \"<TextField source=\\\"id\\\" />\"; },\n    },\n    referenceArray: {\n        component: ReferenceArrayField,\n        representation: function (props) {\n            return \"<ReferenceArrayField source=\\\"\" + props.source + \"\\\" reference=\\\"\" + props.reference + \"\\\"><TextField source=\\\"id\\\" /></ReferenceArrayField>\";\n        },\n    },\n    referenceArrayChild: {\n        component: function (props) { return React.createElement(TextField, __assign({ source: \"id\" }, props)); },\n        representation: function () { return \"<TextField source=\\\"id\\\" />\"; },\n    },\n    richText: undefined,\n    string: {\n        component: TextField,\n        representation: function (props) { return \"<TextField source=\\\"\" + props.source + \"\\\" />\"; },\n    },\n    url: {\n        component: UrlField,\n        representation: function (props) { return \"<UrlField source=\\\"\" + props.source + \"\\\" />\"; },\n    },\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { useState, useEffect } from 'react';\nimport inflection from 'inflection';\nimport { useListController, getElementsFromRecords, InferredElement, ListContextProvider, useResourceContext, } from 'ra-core';\nimport ListView from './ListView';\nimport listFieldTypes from './listFieldTypes';\n/**\n * List component rendering a <Datagrid> based on the result of the\n * dataProvider.getList() call.\n *\n * The result (choice and type of columns) isn't configurable, but the\n * <ListGuesser> outputs the <Datagrid> it has guessed to the console so that\n * developers can start from there.\n *\n * To be used as the list prop of a <Resource>.\n *\n * @example\n *\n * import { Admin, Resource, ListGuesser } from 'react-admin';\n *\n * const App = () => (\n *     <Admin dataProvider={myDataProvider}>\n *         <Resource name=\"posts\" list={ListGuesser} />\n *     </Admin>\n * );\n */\nvar ListGuesser = function (props) {\n    var controllerProps = useListController(props);\n    return (React.createElement(ListContextProvider, { value: controllerProps },\n        React.createElement(ListViewGuesser, __assign({}, props, controllerProps))));\n};\nvar ListViewGuesser = function (props) {\n    var ids = props.ids, data = props.data;\n    var resource = useResourceContext(props);\n    var _a = useState(null), inferredChild = _a[0], setInferredChild = _a[1];\n    useEffect(function () {\n        if (ids.length > 0 && data && !inferredChild) {\n            var inferredElements = getElementsFromRecords(ids.map(function (id) { return data[id]; }), listFieldTypes);\n            var inferredChild_1 = new InferredElement(listFieldTypes.table, null, inferredElements);\n            process.env.NODE_ENV !== 'production' &&\n                // eslint-disable-next-line no-console\n                console.log(\"Guessed List:\\n\\nexport const \" + inflection.capitalize(inflection.singularize(resource)) + \"List = props => (\\n    <List {...props}>\\n\" + inferredChild_1.getRepresentation() + \"\\n    </List>\\n);\");\n            setInferredChild(inferredChild_1.getElement());\n        }\n    }, [data, ids, inferredChild, resource]);\n    return React.createElement(ListView, __assign({}, props), inferredChild);\n};\nListViewGuesser.propTypes = ListView.propTypes;\nexport default ListGuesser;\n","import inferElementFromValues from './inferElementFromValues';\nimport getValuesFromRecords from './getValuesFromRecords';\n/**\n * Get a list of React-admin field components from a list of records\n *\n * @example\n * const records = [\n *     {\n *         \"id\": 1,\n *         \"title\": \"Lorem Ipsum\",\n *         \"views\": 254,\n *         \"user_id\": 123,\n *     },\n *     {\n *         \"id\": 2,\n *         \"title\": \"Sic Dolor amet\",\n *         \"user_id\": 456,\n *     },\n * ];\n * const types = {\n *     id: NumberField,\n *     string: TextField,\n *     number: NumberField,\n *     reference: ReferenceField\n * };\n * const components = getElementsFromRecords(records, types);\n * // [\n * //    <NumberField source=\"id\" />,\n * //    <TextField source=\"title\" />,\n * //    <NumberField source=\"views\" />,\n * //    <ReferenceField source=\"user_id\" reference=\"users\"><NumberField source=\"id\" /></ReferenceField>,\n * // ];\n */\nexport default (function (records, types) {\n    var fieldValues = getValuesFromRecords(records);\n    return Object.keys(fieldValues)\n        .reduce(function (fields, fieldName) {\n        return fields.concat(inferElementFromValues(fieldName, fieldValues[fieldName], types));\n    }, [])\n        .filter(function (inferredElement) { return inferredElement.isDefined(); });\n});\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport FakeRest from 'fakerest';\n/* eslint-disable no-console */\nfunction log(type, resource, params, response) {\n    if (console.group) {\n        // Better logging in Chrome\n        console.groupCollapsed(type, resource, JSON.stringify(params));\n        console.log(response);\n        console.groupEnd();\n    }\n    else {\n        console.log('FakeRest request ', type, resource, params);\n        console.log('FakeRest response', response);\n    }\n}\n/**\n * Respond to react-admin data queries using a local JavaScript object\n *\n * Useful for debugging and testing - do not use in production.\n *\n * @example\n *\n * import fakeDataProvider from 'ra-data-fakerest';\n * const dataProvider = fakeDataProvider({\n *   posts: [\n *     { id: 0, title: 'Hello, world!' },\n *     { id: 1, title: 'FooBar' },\n *   ],\n *   comments: [\n *     { id: 0, post_id: 0, author: 'John Doe', body: 'Sensational!' },\n *     { id: 1, post_id: 0, author: 'Jane Doe', body: 'I agree' },\n *   ],\n * })\n */\nexport default (function (data, loggingEnabled) {\n    if (loggingEnabled === void 0) { loggingEnabled = false; }\n    var restServer = new FakeRest.Server();\n    restServer.init(data);\n    if (typeof window !== 'undefined') {\n        // give way to update data in the console\n        window.restServer = restServer;\n    }\n    function getResponse(type, resource, params) {\n        var _a;\n        switch (type) {\n            case 'getList': {\n                var _b = params.pagination, page = _b.page, perPage = _b.perPage;\n                var _c = params.sort, field = _c.field, order = _c.order;\n                var query = {\n                    sort: [field, order],\n                    range: [(page - 1) * perPage, page * perPage - 1],\n                    filter: params.filter,\n                };\n                return {\n                    data: restServer.getAll(resource, query),\n                    total: restServer.getCount(resource, {\n                        filter: params.filter,\n                    }),\n                };\n            }\n            case 'getOne':\n                return {\n                    data: restServer.getOne(resource, params.id, __assign({}, params)),\n                };\n            case 'getMany':\n                return {\n                    data: restServer.getAll(resource, {\n                        filter: { id: params.ids },\n                    }),\n                };\n            case 'getManyReference': {\n                var _d = params.pagination, page = _d.page, perPage = _d.perPage;\n                var _e = params.sort, field = _e.field, order = _e.order;\n                var query = {\n                    sort: [field, order],\n                    range: [(page - 1) * perPage, page * perPage - 1],\n                    filter: __assign(__assign({}, params.filter), (_a = {}, _a[params.target] = params.id, _a)),\n                };\n                return {\n                    data: restServer.getAll(resource, query),\n                    total: restServer.getCount(resource, {\n                        filter: query.filter,\n                    }),\n                };\n            }\n            case 'update':\n                return {\n                    data: restServer.updateOne(resource, params.id, __assign({}, params.data)),\n                };\n            case 'updateMany':\n                params.ids.forEach(function (id) {\n                    return restServer.updateOne(resource, id, __assign({}, params.data));\n                });\n                return { data: params.ids };\n            case 'create':\n                return {\n                    data: restServer.addOne(resource, __assign({}, params.data)),\n                };\n            case 'delete':\n                return { data: restServer.removeOne(resource, params.id) };\n            case 'deleteMany':\n                params.ids.forEach(function (id) { return restServer.removeOne(resource, id); });\n                return { data: params.ids };\n            default:\n                return false;\n        }\n    }\n    /**\n     * @param {String} type One of the data Provider methods, e.g. 'getList'\n     * @param {String} resource Name of the resource to fetch, e.g. 'posts'\n     * @param {Object} params The data request params, depending on the type\n     * @returns {Promise} The response\n     */\n    var handle = function (type, resource, params) {\n        var collection = restServer.getCollection(resource);\n        if (!collection && type !== 'create') {\n            var error = new UndefinedResourceError(\"Undefined collection \\\"\" + resource + \"\\\"\");\n            error.code = 1; // make that error detectable\n            return Promise.reject(error);\n        }\n        var response;\n        try {\n            response = getResponse(type, resource, params);\n        }\n        catch (error) {\n            console.error(error);\n            return Promise.reject(error);\n        }\n        if (loggingEnabled) {\n            log(type, resource, params, response);\n        }\n        return Promise.resolve(response);\n    };\n    return {\n        getList: function (resource, params) { return handle('getList', resource, params); },\n        getOne: function (resource, params) { return handle('getOne', resource, params); },\n        getMany: function (resource, params) { return handle('getMany', resource, params); },\n        getManyReference: function (resource, params) {\n            return handle('getManyReference', resource, params);\n        },\n        update: function (resource, params) { return handle('update', resource, params); },\n        updateMany: function (resource, params) {\n            return handle('updateMany', resource, params);\n        },\n        create: function (resource, params) { return handle('create', resource, params); },\n        delete: function (resource, params) { return handle('delete', resource, params); },\n        deleteMany: function (resource, params) {\n            return handle('deleteMany', resource, params);\n        },\n    };\n});\nvar UndefinedResourceError = /** @class */ (function (_super) {\n    __extends(UndefinedResourceError, _super);\n    function UndefinedResourceError() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return UndefinedResourceError;\n}(Error));\n","import { Db } from './types';\n\n// --champagne-pink: #eddcd2ff;\n// --linen: #fff1e6ff;\n// --pale-pink: #fde2e4ff;\n// --mimi-pink: #fad2e1ff;\n// --powder-blue: #c5deddff;\n// --mint-cream: #dbe7e4ff;\n// --isabelline: #f0efebff;\n// --alice-blue: #d6e2e9ff;\n// --beau-blue: #bcd4e6ff;\n// --pale-cerulean: #99c1deff;\n\nconst tags = [\n    { id: 0, name: 'football-fan', color: '#eddcd2' },\n    { id: 1, name: 'holiday-card', color: '#fff1e6' },\n    { id: 2, name: 'influencer', color: '#fde2e4' },\n    { id: 3, name: 'manager', color: '#fad2e1' },\n    { id: 4, name: 'musician', color: '#c5dedd' },\n    { id: 5, name: 'vip', color: '#dbe7e4' },\n];\n\nexport const generateTags = (db: Db) => {\n    return [...tags];\n};\n","import faker from 'faker/locale/en';\n\nexport const weightedArrayElement = (values: any[], weights: any) =>\n    faker.random.arrayElement(\n        values.reduce(\n            (acc, value, index) =>\n                acc.concat(new Array(weights[index]).fill(value)),\n            []\n        )\n    );\n\nexport const weightedBoolean = (likelyhood: number) =>\n    faker.random.number(99) < likelyhood;\n\nexport const randomDate = (minDate?: Date, maxDate?: Date) => {\n    const minTs =\n        minDate instanceof Date\n            ? minDate.getTime()\n            : Date.now() - 5 * 365 * 24 * 60 * 60 * 1000; // 5 years\n    const maxTs = maxDate instanceof Date ? maxDate.getTime() : Date.now();\n    const range = maxTs - minTs;\n    const randomRange = faker.random.number({ max: range });\n    // move it more towards today to account for traffic increase\n    const ts = Math.sqrt(randomRange / range) * range;\n    return new Date(minTs + ts);\n};\n\nexport const randomFloat = (min: number, max: number) =>\n    parseFloat(faker.random.number({ min, max, precision: 0.01 }).toFixed(2));\n","import { company, internet, address, phone, random } from 'faker/locale/en_US';\nimport { randomDate } from './utils';\n\nimport { Db } from './types';\nimport { Company } from '../types';\n\nconst sectors = [\n    'Communication Services',\n    'Consumer Discretionary',\n    'Consumer Staples',\n    'Energy',\n    'Financials',\n    'Health Care',\n    'Industrials',\n    'Information Technology',\n    'Materials',\n    'Real Estate',\n    'Utilities',\n];\n\nconst sizes = [1, 10, 50, 250, 500];\n\nconst regex = /\\W+/;\n\nexport const generateCompanies = (db: Db): Company[] => {\n    return Array.from(Array(55).keys()).map(id => {\n        const name = company.companyName();\n        return {\n            id,\n            name: name,\n            logo: `/logos/${id}.png`,\n            sector: random.arrayElement(sectors),\n            size: random.arrayElement(sizes) as 1 | 10 | 50 | 250 | 500,\n            linkedIn: `https://www.linkedin.com/company/${name\n                .toLowerCase()\n                .replace(regex, '_')}`,\n            website: internet.url(),\n            phone_number: phone.phoneNumber(),\n            address: address.streetAddress(),\n            zipcode: address.zipCode(),\n            city: address.city(),\n            stateAbbr: address.stateAbbr(),\n            nb_contacts: 0,\n            nb_deals: 0,\n            // at least 1/3rd of companies for Jane Doe\n            sales_id:\n                random.number(2) === 0 ? 0 : random.arrayElement(db.sales).id,\n            created_at: randomDate().toISOString(),\n        };\n    });\n};\n","import {\n    name,\n    internet,\n    random,\n    company as fakerCompany,\n    phone,\n    lorem,\n} from 'faker/locale/en_US';\n\nimport { randomDate, weightedBoolean } from './utils';\nimport { Db } from './types';\nimport { Contact } from '../types';\n\nconst genders = ['male', 'female'];\nconst status = ['cold', 'cold', 'cold', 'warm', 'warm', 'hot', 'in-contract'];\nconst maxContacts = {\n    1: 1,\n    10: 4,\n    50: 12,\n    250: 25,\n    500: 50,\n};\n\nexport const generateContacts = (db: Db): Contact[] => {\n    const nbAvailblePictures = 223;\n    let numberOfContacts = 0;\n\n    return Array.from(Array(500).keys()).map(id => {\n        const has_avatar =\n            weightedBoolean(25) && numberOfContacts < nbAvailblePictures;\n        const gender = random.arrayElement(genders);\n        const first_name = name.firstName(gender as any);\n        const last_name = name.lastName();\n        const email = internet.email(first_name, last_name);\n        const avatar = has_avatar\n            ? 'https://marmelab.com/posters/avatar-' +\n              (223 - numberOfContacts) +\n              '.jpeg'\n            : undefined;\n        const title = fakerCompany.bsAdjective();\n\n        if (has_avatar) {\n            numberOfContacts++;\n        }\n\n        // choose company with people left to know\n        let company;\n        do {\n            company = random.arrayElement(db.companies);\n        } while (company.nb_contacts >= maxContacts[company.size]);\n        company.nb_contacts++;\n\n        const first_seen = randomDate(\n            new Date(company.created_at)\n        ).toISOString();\n        const last_seen = first_seen;\n\n        return {\n            id,\n            first_name,\n            last_name,\n            gender,\n            title: title.charAt(0).toUpperCase() + title.substr(1),\n            company_id: company.id,\n            email,\n            phone_number1: phone.phoneNumber(),\n            phone_number2: phone.phoneNumber(),\n            background: lorem.sentence(),\n            acquisition: random.arrayElement(['inbound', 'outbound']),\n            avatar,\n            first_seen: first_seen,\n            last_seen: last_seen,\n            has_newsletter: weightedBoolean(30),\n            status: random.arrayElement(status),\n            tags: random\n                .arrayElements(db.tags, random.arrayElement([0, 0, 0, 1, 1, 2]))\n                .map(tag => tag.id), // finalize\n            sales_id: company.sales_id,\n            nb_notes: 0,\n        };\n    });\n};\n","import { random, lorem } from 'faker/locale/en_US';\n\nimport { Db } from './types';\nimport { ContactNote } from '../types';\nimport { randomDate } from './utils';\n\nconst type = ['Email', 'Call', 'Call', 'Call', 'Call', 'Meeting', 'Reminder'];\nconst status = ['cold', 'cold', 'cold', 'warm', 'warm', 'hot', 'in-contract'];\n\nexport const generateContactNotes = (db: Db): ContactNote[] => {\n    return Array.from(Array(1200).keys()).map(id => {\n        const contact = random.arrayElement(db.contacts);\n        const date = randomDate(new Date(contact.first_seen)).toISOString();\n        contact.nb_notes++;\n        contact.last_seen = date > contact.last_seen ? date : contact.last_seen;\n        return {\n            id,\n            contact_id: contact.id,\n            type: random.arrayElement(type),\n            text: lorem.paragraphs(random.number({ min: 1, max: 4 })),\n            date,\n            sales_id: contact.sales_id,\n            status: random.arrayElement(status),\n        };\n    });\n};\n","import { random, lorem } from 'faker/locale/en_US';\n\nimport { Db } from './types';\nimport { randomDate } from './utils';\n\nconst type = [\n    'Email',\n    'Email',\n    'Email',\n    'Email',\n    'Email',\n    'Email',\n    'Call',\n    'Call',\n    'Call',\n    'Call',\n    'Call',\n    'Call',\n    'Call',\n    'Call',\n    'Call',\n    'Call',\n    'Call',\n    'Demo',\n    'Lunch',\n    'Meeting',\n    'Follow-up',\n    'Follow-up',\n    'Thank you',\n    'Ship',\n    'None',\n];\n\nexport const generateTasks = (db: Db) => {\n    return Array.from(Array(400).keys()).map(id => {\n        const contact = random.arrayElement(db.contacts);\n        return {\n            id,\n            contact_id: contact.id,\n            type: random.arrayElement(type),\n            text: lorem.sentence(),\n            due_date: randomDate(new Date(contact.first_seen)),\n            sales_id: contact.sales_id,\n        };\n    });\n};\n","import { random, lorem } from 'faker/locale/en_US';\nimport { add } from 'date-fns';\n\nimport { Db } from './types';\nimport { Deal } from '../types';\nimport { randomDate } from './utils';\n\nconst type = [\n    'Other',\n    'Copywriting',\n    'Print project',\n    'UI Design',\n    'Website design',\n];\nconst stages = [\n    'opportunity',\n    'proposal-sent',\n    'in-negociation',\n    'won',\n    'lost',\n    'delayed',\n];\n//const tags = [\"new deal\", \"upsell\", \"SAV\"];\n\nexport const generateDeals = (db: Db): Deal[] => {\n    const deals = Array.from(Array(50).keys()).map(id => {\n        const company = random.arrayElement(db.companies);\n        company.nb_deals++;\n        const contacts = random.arrayElements(\n            db.contacts.filter(contact => contact.company_id === company.id),\n            random.number({ min: 1, max: 3 })\n        );\n        const lowercaseName = lorem.words();\n        const created_at = randomDate(\n            new Date(company.created_at)\n        ).toISOString();\n        return {\n            id,\n            name: lowercaseName[0].toUpperCase() + lowercaseName.slice(1),\n            company_id: company.id,\n            contact_ids: contacts.map(contact => contact.id),\n            type: random.arrayElement(type),\n            stage: random.arrayElement(stages),\n            description: lorem.paragraphs(random.number({ min: 1, max: 4 })),\n            amount: random.number(1000) * 100,\n            created_at: created_at,\n            updated_at: randomDate(new Date(created_at)).toISOString(),\n            start_at: randomDate(\n                new Date(),\n                add(new Date(), { months: 6 })\n            ).toISOString(),\n            sales_id: company.sales_id,\n            index: 0,\n            nb_notes: 0,\n        };\n    });\n    // compute index based on stage\n    stages.forEach(stage => {\n        deals\n            .filter(deal => deal.stage === stage)\n            .forEach((deal, index) => {\n                deals[deal.id].index = index;\n            });\n    });\n    return deals;\n};\n","import { random, lorem } from 'faker/locale/en_US';\n\nimport { Db } from './types';\nimport { randomDate } from './utils';\n\nconst type = ['Email', 'Call', 'Call', 'Call', 'Call', 'Meeting', 'Reminder'];\n\nexport const generateDealNotes = (db: Db) => {\n    return Array.from(Array(300).keys()).map(id => {\n        const deal = random.arrayElement(db.deals);\n        deal.nb_notes++;\n        return {\n            id,\n            deal_id: deal.id,\n            type: random.arrayElement(type),\n            text: lorem.paragraphs(random.number({ min: 1, max: 4 })),\n            date: randomDate(\n                new Date(db.companies[deal.company_id as number].created_at)\n            ).toISOString(),\n            sales_id: deal.sales_id,\n        };\n    });\n};\n","import fakerestDataProvider from 'ra-data-fakerest';\n\nimport generateData from './dataGenerator';\n\nconst baseDataProvider = fakerestDataProvider(generateData(), true);\n\nexport const dataProvider = new Proxy(baseDataProvider, {\n    get: (target, name: string) => (resource: string, params: any) =>\n        new Promise(resolve =>\n            setTimeout(\n                () => resolve(baseDataProvider[name](resource, params)),\n                300\n            )\n        ),\n});\n","/* eslint-disable import/no-anonymous-default-export */\nimport { generateSales } from './sales';\nimport { generateTags } from './tags';\nimport { generateCompanies } from './companies';\nimport { generateContacts } from './contacts';\nimport { generateContactNotes } from './contactNotes';\nimport { generateTasks } from './tasks';\nimport { generateDeals } from './deals';\nimport { generateDealNotes } from './dealNotes';\nimport { finalize } from './finalize';\nimport { Db } from './types';\n\nexport default (): Db => {\n    const db = {} as Db;\n    db.sales = generateSales(db);\n    db.tags = generateTags(db);\n    db.companies = generateCompanies(db);\n    db.contacts = generateContacts(db);\n    db.contactNotes = generateContactNotes(db);\n    db.deals = generateDeals(db);\n    db.dealNotes = generateDealNotes(db);\n    db.tasks = generateTasks(db);\n    finalize(db);\n\n    return db;\n};\n","import { name, internet } from 'faker/locale/en_US';\n\nimport { Db } from './types';\n\nexport const generateSales = (db: Db) => {\n    const randomSales = Array.from(Array(10).keys()).map(id => {\n        const first_name = name.firstName();\n        const last_name = name.lastName();\n        const email = internet.email(first_name, last_name);\n\n        return {\n            id: id + 1,\n            first_name,\n            last_name,\n            email,\n        };\n    });\n    return [\n        {\n            id: 0,\n            first_name: 'Jane',\n            last_name: 'Doe',\n            email: 'janedoe@atomic.dev',\n        },\n        ...randomSales,\n    ];\n};\n","import { Db } from './types';\n\nexport const finalize = (db: Db) => {\n    // set contact status according to latest note\n    db.contactNotes\n        .sort((a, b) => new Date(a.date).valueOf() - new Date(b.date).valueOf())\n        .forEach(note => {\n            db.contacts[note.contact_id as number].status = note.status;\n        });\n};\n","import { AuthProvider } from 'react-admin';\n\nlocalStorage.setItem('username', 'Jane Doe');\n\nexport const authProvider: AuthProvider = {\n    login: ({ username }) => {\n        localStorage.setItem('username', username);\n        // accept all username/password combinations\n        return Promise.resolve();\n    },\n    logout: () => {\n        localStorage.removeItem('username');\n        return Promise.resolve();\n    },\n    checkError: () => Promise.resolve(),\n    checkAuth: () =>\n        localStorage.getItem('username') ? Promise.resolve() : Promise.reject(),\n    getPermissions: () => Promise.reject('Unknown method'),\n    getIdentity: () =>\n        Promise.resolve({\n            id: 0,\n            fullName: 'Jane Doe',\n            avatar:\n                'data:image/jpeg;base64,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',\n        }),\n};\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Tabs, Tab, Toolbar, AppBar, Box, Typography } from '@material-ui/core';\nimport { Link, useRouteMatch } from 'react-router-dom';\nimport { UserMenu, Logout, LoadingIndicator } from 'react-admin';\n\nconst useStyles = makeStyles({\n    root: {\n        flexGrow: 1,\n    },\n    logo: {\n        width: 50,\n        height: 43.54,\n    },\n});\n\nconst Header = () => {\n    const classes = useStyles();\n    const match = useRouteMatch(['/contacts', '/companies', '/deals']);\n    const currentPath = match?.path ?? '/';\n\n    return (\n        <nav className={classes.root}>\n            <AppBar position=\"static\" color=\"primary\">\n                <Toolbar variant=\"dense\">\n                    <Box flex={1} display=\"flex\" justifyContent=\"space-between\">\n                        <Box display=\"flex\" alignItems=\"center\">\n                            <img\n                                className={classes.logo}\n                                src={\n                                    'https://upload.wikimedia.org/wikipedia/commons/a/a7/React-icon.svg'\n                                }\n                                alt=\"Bosch Logo\"\n                            />\n                            <Typography component=\"span\" variant=\"h5\">\n                                Atomic CRM\n                            </Typography>\n                        </Box>\n                        <Box>\n                            <Tabs\n                                value={currentPath}\n                                aria-label=\"Navigation Tabs\"\n                            >\n                                <Tab\n                                    label={'Dashboard'}\n                                    component={Link}\n                                    to=\"/\"\n                                    value=\"/\"\n                                />\n                                <Tab\n                                    label={'Contacts'}\n                                    component={Link}\n                                    to=\"/contacts\"\n                                    value=\"/contacts\"\n                                />\n                                <Tab\n                                    label={'Companies'}\n                                    component={Link}\n                                    to=\"/companies\"\n                                    value=\"/companies\"\n                                />\n                                <Tab\n                                    label={'Deals'}\n                                    component={Link}\n                                    to=\"/deals\"\n                                    value=\"/deals\"\n                                />\n                            </Tabs>\n                        </Box>\n                        <Box display=\"flex\">\n                            <LoadingIndicator />\n                            <UserMenu logout={<Logout button />} />\n                        </Box>\n                    </Box>\n                </Toolbar>\n            </AppBar>\n        </nav>\n    );\n};\n\nexport default Header;\n","import React, { Component, ErrorInfo, HtmlHTMLAttributes } from 'react';\nimport PropTypes from 'prop-types';\nimport { RouteComponentProps, withRouter } from 'react-router-dom';\nimport { createMuiTheme } from '@material-ui/core/styles';\nimport { ThemeProvider } from '@material-ui/styles';\nimport { CssBaseline, Container } from '@material-ui/core';\nimport { CoreLayoutProps } from 'react-admin';\n\nimport { Notification, Error } from 'react-admin';\nimport Header from './Header';\n\nclass Layout extends Component<LayoutProps, LayoutState> {\n    state = { hasError: false, errorMessage: undefined, errorInfo: undefined };\n\n    constructor(props: any) {\n        super(props);\n        /**\n         * Reset the error state upon navigation\n         *\n         * @see https://stackoverflow.com/questions/48121750/browser-navigation-broken-by-use-of-react-error-boundaries\n         */\n        props.history.listen(() => {\n            if (this.state.hasError) {\n                this.setState({ hasError: false });\n            }\n        });\n    }\n\n    componentDidCatch(error: Error, errorInfo: ErrorInfo) {\n        this.setState({\n            hasError: true,\n            errorMessage: error.message,\n            errorInfo,\n        });\n    }\n\n    render() {\n        const { theme, title, children } = this.props;\n        const { hasError, errorMessage, errorInfo } = this.state;\n        return (\n            // @ts-ignore\n            <ThemeProvider theme={createMuiTheme(theme)}>\n                <CssBaseline />\n                <Header />\n                <Container>\n                    <main id=\"main-content\">\n                        {hasError ? (\n                            <Error\n                                error={(errorMessage as unknown) as string} // FIXME\n                                errorInfo={errorInfo}\n                                title={title as string}\n                            />\n                        ) : (\n                            children\n                        )}\n                    </main>\n                </Container>\n                <Notification />\n            </ThemeProvider>\n        );\n    }\n\n    static propTypes = {\n        children: PropTypes.oneOfType([PropTypes.func, PropTypes.node]),\n        title: PropTypes.node.isRequired,\n    };\n}\n\nexport interface LayoutProps\n    extends CoreLayoutProps,\n        Omit<HtmlHTMLAttributes<HTMLDivElement>, 'title'>,\n        RouteComponentProps {}\n\nexport interface LayoutState {\n    hasError: boolean;\n    errorMessage?: string;\n    errorInfo?: ErrorInfo;\n}\n\n// @ts-ignore\nexport default withRouter(Layout);\n","import get from 'lodash/get';\nimport { useQueryWithStore } from './useQueryWithStore';\n/**\n * Call the dataProvider.getOne() method and return the resolved value\n * as well as the loading state.\n *\n * The return value updates according to the request state:\n *\n * - start: { loading: true, loaded: false, refetch }\n * - success: { data: [data from response], loading: false, loaded: true, refetch }\n * - error: { error: [error from response], loading: false, loaded: false, refetch }\n *\n * This hook will return the cached result when called a second time\n * with the same parameters, until the response arrives.\n *\n * @param resource The resource name, e.g. 'posts'\n * @param id The resource identifier, e.g. 123\n * @param {Object} options Options object to pass to the dataProvider.\n * @param {boolean} options.enabled Flag to conditionally run the query. If it's false, the query will not run\n * @param {Function} options.onSuccess Side effect function to be executed upon success, e.g. { onSuccess: { refresh: true } }\n * @param {Function} options.onFailure Side effect function to be executed upon failure, e.g. { onFailure: error => notify(error.message) }\n *\n * @returns The current request state. Destructure as { data, error, loading, loaded, refetch }.\n *\n * @example\n *\n * import { useGetOne } from 'react-admin';\n *\n * const UserProfile = ({ record }) => {\n *     const { data, loading, error } = useGetOne('users', record.id);\n *     if (loading) { return <Loading />; }\n *     if (error) { return <p>ERROR</p>; }\n *     return <div>User {data.username}</div>;\n * };\n */\nvar useGetOne = function (resource, id, options) {\n    return useQueryWithStore({ type: 'getOne', resource: resource, payload: { id: id } }, options, function (state) {\n        if (\n        // resources are registered\n        Object.keys(state.admin.resources).length > 0 &&\n            // no registered resource matching the query\n            !state.admin.resources[resource]) {\n            throw new Error(\"No <Resource> defined for \\\"\" + resource + \"\\\". useGetOne() relies on the Redux store, so it cannot work if you don't include a <Resource>.\");\n        }\n        return get(state, ['admin', 'resources', resource, 'data', id]);\n    });\n};\nexport default useGetOne;\n","import { GET_ONE } from '../../core';\nexport var crudGetOne = function (resource, id, basePath, refresh) {\n    if (refresh === void 0) { refresh = true; }\n    return ({\n        type: CRUD_GET_ONE,\n        payload: { id: id },\n        meta: {\n            resource: resource,\n            fetch: GET_ONE,\n            basePath: basePath,\n            onFailure: {\n                notification: {\n                    body: 'ra.notification.item_doesnt_exist',\n                    level: 'warning',\n                },\n                redirectTo: 'list',\n                refresh: refresh,\n            },\n        },\n    });\n};\nexport var CRUD_GET_ONE = 'RA/CRUD_GET_ONE';\nexport var CRUD_GET_ONE_LOADING = 'RA/CRUD_GET_ONE_LOADING';\nexport var CRUD_GET_ONE_FAILURE = 'RA/CRUD_GET_ONE_FAILURE';\nexport var CRUD_GET_ONE_SUCCESS = 'RA/CRUD_GET_ONE_SUCCESS';\n","import useVersion from '../useVersion';\nimport { useCheckMinimumRequiredProps } from '../checkMinimumRequiredProps';\nimport { useGetOne } from '../../dataProvider';\nimport { useTranslate } from '../../i18n';\nimport { useNotify, useRedirect, useRefresh } from '../../sideEffect';\nimport { CRUD_GET_ONE } from '../../actions';\nimport { useResourceContext, useGetResourceLabel } from '../../core';\n/**\n * Prepare data for the Show view\n *\n * @param {Object} props The props passed to the Show component.\n *\n * @return {Object} controllerProps Fetched data and callbacks for the Show view\n *\n * @example\n *\n * import { useShowController } from 'react-admin';\n * import ShowView from './ShowView';\n *\n * const MyShow = props => {\n *     const controllerProps = useShowController(props);\n *     return <ShowView {...controllerProps} {...props} />;\n * }\n */\nexport var useShowController = function (props) {\n    useCheckMinimumRequiredProps('Show', ['basePath', 'resource'], props);\n    var basePath = props.basePath, hasCreate = props.hasCreate, hasEdit = props.hasEdit, hasList = props.hasList, hasShow = props.hasShow, id = props.id;\n    var resource = useResourceContext(props);\n    var translate = useTranslate();\n    var notify = useNotify();\n    var redirect = useRedirect();\n    var refresh = useRefresh();\n    var version = useVersion();\n    var _a = useGetOne(resource, id, {\n        action: CRUD_GET_ONE,\n        onFailure: function () {\n            notify('ra.notification.item_doesnt_exist', 'warning');\n            redirect('list', basePath);\n            refresh();\n        },\n    }), record = _a.data, loading = _a.loading, loaded = _a.loaded, refetch = _a.refetch;\n    var getResourceLabel = useGetResourceLabel();\n    var defaultTitle = translate('ra.page.show', {\n        name: getResourceLabel(resource, 1),\n        id: id,\n        record: record,\n    });\n    return {\n        loading: loading,\n        loaded: loaded,\n        defaultTitle: defaultTitle,\n        resource: resource,\n        basePath: basePath,\n        record: record,\n        refetch: refetch,\n        hasCreate: hasCreate,\n        hasEdit: hasEdit,\n        hasList: hasList,\n        hasShow: hasShow,\n        version: version,\n    };\n};\n","import { createContext } from 'react';\n/**\n * Context to store the result of the useShowController() hook.\n *\n * Use the useShowContext() hook to read the context. That's what the Show components do in react-admin.\n *\n * @example\n *\n * import { useShowController, ShowContextProvider } from 'ra-core';\n *\n * const Show = props => {\n *     const controllerProps = useShowController(props);\n *     return (\n *         <ShowContextProvider value={controllerProps}>\n *             ...\n *         </ShowContextProvider>\n *     );\n * };\n */\nexport var ShowContext = createContext({\n    basePath: null,\n    record: null,\n    defaultTitle: null,\n    loaded: null,\n    loading: null,\n    refetch: null,\n    resource: null,\n    version: null,\n});\nShowContext.displayName = 'ShowContext';\n","import * as React from 'react';\nimport { RecordContextProvider } from '../RecordContext';\nimport { ShowContext } from './ShowContext';\n/**\n * Create a Show Context.\n *\n * @example\n *\n * const MyShow = (props) => {\n *     const controllerProps = useShowController(props);\n *     return (\n *         <ShowContextProvider value={controllerProps}>\n *             <MyShowView>\n *         </ShowContextProvider>\n *     );\n * };\n *\n * const MyShowView = () => {\n *     const record = useRecordContext();\n * }\n *\n * @see ShowContext\n * @see RecordContext\n */\nexport var ShowContextProvider = function (_a) {\n    var children = _a.children, value = _a.value;\n    return (React.createElement(ShowContext.Provider, { value: value },\n        React.createElement(RecordContextProvider, { value: value && value.record }, children)));\n};\n","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useShowController } from './useShowController';\nimport { ShowContextProvider } from './ShowContextProvider';\n/**\n * Call useShowController and put the value in a ShowContext\n *\n * Base class for <Show> components, without UI.\n *\n * Accepts any props accepted by useShowController:\n * - id: The record identifier\n * - resource: The resource\n *\n * @example // Custom edit layout\n *\n * const PostShow = props => (\n *     <ShowBase {...props}>\n *         <Grid container>\n *             <Grid item xs={8}>\n *                 <SimpleForm>\n *                     ...\n *                 </SimpleForm>\n *             </Grid>\n *             <Grid item xs={4}>\n *                 Show instructions...\n *             </Grid>\n *         </Grid>\n *         <div>\n *             Post related links...\n *         </div>\n *     </ShowBase>\n * );\n */\nexport var ShowBase = function (_a) {\n    var children = _a.children, props = __rest(_a, [\"children\"]);\n    return (React.createElement(ShowContextProvider, { value: useShowController(props) }, children));\n};\n","import { useContext, useMemo } from 'react';\nimport defaults from 'lodash/defaults';\nimport { ShowContext } from './ShowContext';\n/**\n * Hook to read the show controller props from the ShowContext.\n *\n * Mostly used within a <ShowContext.Provider> (e.g. as a descendent of <Show>).\n *\n * But you can also use it without a <ShowContext.Provider>. In this case, it is up to you\n * to pass all the necessary props.\n *\n * The given props will take precedence over context values.\n *\n * @typedef {Object} ShowControllerProps\n *\n * @returns {ShowControllerProps} create controller props\n *\n * @see useShowController for how it is filled\n *\n */\nexport var useShowContext = function (props) {\n    // Can't find a way to specify the RecordType when ShowContext is declared\n    // @ts-ignore\n    var context = useContext(ShowContext);\n    // Props take precedence over the context\n    return useMemo(function () {\n        return defaults({}, props != null ? extractShowContextProps(props) : {}, context);\n    }, [context, props]);\n};\n/**\n * Extract only the show controller props\n *\n * @param {Object} props props passed to the useShowContext hook\n *\n * @returns {ShowControllerProps} show controller props\n */\nvar extractShowContextProps = function (_a) {\n    var basePath = _a.basePath, record = _a.record, data = _a.data, defaultTitle = _a.defaultTitle, loaded = _a.loaded, loading = _a.loading, resource = _a.resource, version = _a.version;\n    return ({\n        basePath: basePath,\n        // Necessary for actions (EditActions) which expect a data prop containing the record\n        // @deprecated - to be removed in 4.0d\n        record: record || data,\n        data: record || data,\n        defaultTitle: defaultTitle,\n        loaded: loaded,\n        loading: loading,\n        resource: resource,\n        version: version,\n    });\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport get from 'lodash/get';\nimport { useMemo } from 'react';\nimport { CRUD_GET_MANY_REFERENCE } from '../actions/dataActions/crudGetManyReference';\nimport { useQueryWithStore } from './useQueryWithStore';\nimport { getIds, getTotal, nameRelatedTo, } from '../reducer/admin/references/oneToMany';\nvar defaultIds = [];\nvar defaultData = {};\n/**\n * Call the dataProvider.getManyReference() method and return the resolved result\n * as well as the loading state.\n *\n * The return value updates according to the request state:\n *\n * - start: { loading: true, loaded: false, refetch }\n * - success: { data: [data from store], ids: [ids from response], total: [total from response], loading: false, loaded: true, refetch }\n * - error: { error: [error from response], loading: false, loaded: false, refetch }\n *\n * This hook will return the cached result when called a second time\n * with the same parameters, until the response arrives.\n *\n * @param {string} resource The referenced resource name, e.g. 'comments'\n * @param {string} target The target resource key, e.g. 'post_id'\n * @param {Object} id The identifier of the record to look for in 'target'\n * @param {Object} pagination The request pagination { page, perPage }, e.g. { page: 1, perPage: 10 }\n * @param {Object} sort The request sort { field, order }, e.g. { field: 'id', order: 'DESC' }\n * @param {Object} filter The request filters, e.g. { body: 'hello, world' }\n * @param {string} referencingResource The resource name, e.g. 'posts'. Used to generate a cache key\n * @param {Object} options Options object to pass to the dataProvider.\n * @param {boolean} options.enabled Flag to conditionally run the query. If it's false, the query will not run\n * @param {Function} options.onSuccess Side effect function to be executed upon success, e.g. { onSuccess: { refresh: true } }\n * @param {Function} options.onFailure Side effect function to be executed upon failure, e.g. { onFailure: error => notify(error.message) }\n *\n * @returns The current request state. Destructure as { data, total, ids, error, loading, loaded, refetch }.\n *\n * @example\n *\n * import { useGetManyReference } from 'react-admin';\n *\n * const PostComments = ({ post_id }) => {\n *     const { data, ids, loading, error } = useGetManyReference(\n *         'comments',\n *         'post_id',\n *         post_id,\n *         { page: 1, perPage: 10 },\n *         { field: 'published_at', order: 'DESC' }\n *         {},\n *         'posts',\n *     );\n *     if (loading) { return <Loading />; }\n *     if (error) { return <p>ERROR</p>; }\n *     return <ul>{ids.map(id =>\n *         <li key={id}>{data[id].body}</li>\n *     )}</ul>;\n * };\n */\nvar useGetManyReference = function (resource, target, id, pagination, sort, filter, referencingResource, options) {\n    var relatedTo = useMemo(function () { return nameRelatedTo(resource, id, referencingResource, target, filter); }, [filter, resource, id, referencingResource, target]);\n    var _a = useQueryWithStore({\n        type: 'getManyReference',\n        resource: resource,\n        payload: { target: target, id: id, pagination: pagination, sort: sort, filter: filter },\n    }, __assign(__assign({}, options), { relatedTo: relatedTo, action: CRUD_GET_MANY_REFERENCE }), \n    // ids and data selector\n    function (state) { return ({\n        ids: getIds(state, relatedTo),\n        allRecords: get(state.admin.resources, [resource, 'data'], defaultData),\n    }); }, function (state) { return getTotal(state, relatedTo); }, isDataLoaded), _b = _a.data, ids = _b.ids, allRecords = _b.allRecords, total = _a.total, error = _a.error, loading = _a.loading, loaded = _a.loaded, refetch = _a.refetch;\n    var data = useMemo(function () {\n        return ids == null\n            ? defaultData\n            : ids\n                .map(function (id) { return allRecords[id]; })\n                .reduce(function (acc, record) {\n                if (!record)\n                    return acc;\n                acc[record.id] = record;\n                return acc;\n            }, {});\n    }, [ids, allRecords]);\n    return {\n        data: data,\n        ids: ids || defaultIds,\n        total: total,\n        error: error,\n        loading: loading,\n        loaded: loaded,\n        refetch: refetch,\n    };\n};\nvar isDataLoaded = function (data) { return data.ids != null; };\nexport default useGetManyReference;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport get from 'lodash/get';\nimport { useCallback, useEffect, useRef } from 'react';\nimport isEqual from 'lodash/isEqual';\nimport { useSafeSetState, removeEmpty } from '../../util';\nimport { useGetManyReference } from '../../dataProvider';\nimport { useNotify } from '../../sideEffect';\nimport usePaginationState from '../usePaginationState';\nimport useSelectionState from '../useSelectionState';\nimport useSortState from '../useSortState';\nimport { useResourceContext } from '../../core';\nvar defaultFilter = {};\n/**\n * Fetch reference records, and return them when available\n *\n * The reference prop should be the name of one of the <Resource> components\n * added as <Admin> child.\n *\n * @example\n *\n * const { loaded, referenceRecord, resourceLinkPath } = useReferenceManyFieldController({\n *     resource\n *     reference: 'users',\n *     record: {\n *         userId: 7\n *     }\n *     target: 'comments',\n *     source: 'userId',\n *     basePath: '/comments',\n *     page: 1,\n *     perPage: 25,\n * });\n *\n * @param {Object} props\n * @param {string} props.resource The current resource name\n * @param {string} props.reference The linked resource name\n * @param {Object} props.record The current resource record\n * @param {string} props.target The target resource key\n * @param {Object} props.filter The filter applied on the recorded records list\n * @param {string} props.source The key of the linked resource identifier\n * @param {string} props.basePath basepath to current resource\n * @param {number} props.page the page number\n * @param {number} props.perPage the number of item per page\n * @param {Object} props.sort the sort to apply to the referenced records\n *\n * @returns {ReferenceManyProps} The reference many props\n */\nvar useReferenceManyFieldController = function (props) {\n    var reference = props.reference, record = props.record, target = props.target, _a = props.filter, filter = _a === void 0 ? defaultFilter : _a, source = props.source, basePath = props.basePath, initialPage = props.page, initialPerPage = props.perPage, _b = props.sort, initialSort = _b === void 0 ? { field: 'id', order: 'DESC' } : _b;\n    var resource = useResourceContext(props);\n    var notify = useNotify();\n    // pagination logic\n    var _c = usePaginationState({\n        page: initialPage,\n        perPage: initialPerPage,\n    }), page = _c.page, setPage = _c.setPage, perPage = _c.perPage, setPerPage = _c.setPerPage;\n    // sort logic\n    var _d = useSortState(initialSort), sort = _d.sort, setSortObject = _d.setSort;\n    var setSort = useCallback(function (field, order) {\n        if (order === void 0) { order = 'ASC'; }\n        setSortObject({ field: field, order: order });\n        setPage(1);\n    }, [setPage, setSortObject]);\n    // selection logic\n    var _e = useSelectionState(), selectedIds = _e.selectedIds, onSelect = _e.onSelect, onToggleItem = _e.onToggleItem, onUnselectItems = _e.onUnselectItems;\n    // filter logic\n    var filterRef = useRef(filter);\n    var _f = useSafeSetState({}), displayedFilters = _f[0], setDisplayedFilters = _f[1];\n    var _g = useSafeSetState(filter), filterValues = _g[0], setFilterValues = _g[1];\n    var hideFilter = useCallback(function (filterName) {\n        setDisplayedFilters(function (previousState) {\n            var _a = previousState, _b = filterName, _ = _a[_b], newState = __rest(_a, [typeof _b === \"symbol\" ? _b : _b + \"\"]);\n            return newState;\n        });\n        setFilterValues(function (previousState) {\n            var _a = previousState, _b = filterName, _ = _a[_b], newState = __rest(_a, [typeof _b === \"symbol\" ? _b : _b + \"\"]);\n            return newState;\n        });\n    }, [setDisplayedFilters, setFilterValues]);\n    var showFilter = useCallback(function (filterName, defaultValue) {\n        setDisplayedFilters(function (previousState) {\n            var _a;\n            return (__assign(__assign({}, previousState), (_a = {}, _a[filterName] = true, _a)));\n        });\n        setFilterValues(function (previousState) {\n            var _a;\n            return (__assign(__assign({}, previousState), (_a = {}, _a[filterName] = defaultValue, _a)));\n        });\n    }, [setDisplayedFilters, setFilterValues]);\n    var setFilters = useCallback(function (filters, displayedFilters) {\n        setFilterValues(removeEmpty(filters));\n        setDisplayedFilters(displayedFilters);\n        setPage(1);\n    }, [setDisplayedFilters, setFilterValues, setPage]);\n    // handle filter prop change\n    useEffect(function () {\n        if (!isEqual(filter, filterRef.current)) {\n            filterRef.current = filter;\n            setFilterValues(filter);\n        }\n    });\n    var referenceId = get(record, source);\n    var _h = useGetManyReference(reference, target, referenceId, { page: page, perPage: perPage }, sort, filterValues, resource, {\n        onFailure: function (error) {\n            return notify(typeof error === 'string'\n                ? error\n                : error.message || 'ra.notification.http_error', 'warning', {\n                _: typeof error === 'string'\n                    ? error\n                    : error && error.message\n                        ? error.message\n                        : undefined,\n            });\n        },\n    }), data = _h.data, ids = _h.ids, total = _h.total, error = _h.error, loading = _h.loading, loaded = _h.loaded, refetch = _h.refetch;\n    return {\n        basePath: basePath\n            ? basePath.replace(resource, reference)\n            : \"/\" + reference,\n        currentSort: sort,\n        data: data,\n        defaultTitle: null,\n        displayedFilters: displayedFilters,\n        error: error,\n        filterValues: filterValues,\n        hasCreate: false,\n        hideFilter: hideFilter,\n        ids: ids,\n        loaded: loaded,\n        loading: loading,\n        onSelect: onSelect,\n        onToggleItem: onToggleItem,\n        onUnselectItems: onUnselectItems,\n        page: page,\n        perPage: perPage,\n        refetch: refetch,\n        resource: reference,\n        selectedIds: selectedIds,\n        setFilters: setFilters,\n        setPage: setPage,\n        setPerPage: setPerPage,\n        setSort: setSort,\n        showFilter: showFilter,\n        total: total,\n    };\n};\nexport default useReferenceManyFieldController;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { cloneElement, Children } from 'react';\nimport PropTypes from 'prop-types';\nimport { useReferenceManyFieldController, ListContextProvider, ResourceContextProvider, useRecordContext, } from 'ra-core';\nimport { useSelector } from 'react-redux';\nimport { fieldPropTypes } from './types';\nimport sanitizeFieldRestProps from './sanitizeFieldRestProps';\n/**\n * Render related records to the current one.\n *\n * You must define the fields to be passed to the iterator component as children.\n *\n * @example Display all the comments of the current post as a datagrid\n * <ReferenceManyField reference=\"comments\" target=\"post_id\">\n *     <Datagrid>\n *         <TextField source=\"id\" />\n *         <TextField source=\"body\" />\n *         <DateField source=\"created_at\" />\n *         <EditButton />\n *     </Datagrid>\n * </ReferenceManyField>\n *\n * @example Display all the books by the current author, only the title\n * <ReferenceManyField reference=\"books\" target=\"author_id\">\n *     <SingleFieldList>\n *         <ChipField source=\"title\" />\n *     </SingleFieldList>\n * </ReferenceManyField>\n *\n * By default, restricts the displayed values to 25. You can extend this limit\n * by setting the `perPage` prop.\n *\n * @example\n * <ReferenceManyField perPage={10} reference=\"comments\" target=\"post_id\">\n *    ...\n * </ReferenceManyField>\n *\n * By default, orders the possible values by id desc. You can change this order\n * by setting the `sort` prop (an object with `field` and `order` properties).\n *\n * @example\n * <ReferenceManyField sort={{ field: 'created_at', order: 'DESC' }} reference=\"comments\" target=\"post_id\">\n *    ...\n * </ReferenceManyField>\n *\n * Also, you can filter the query used to populate the possible values. Use the\n * `filter` prop for that.\n *\n * @example\n * <ReferenceManyField filter={{ is_published: true }} reference=\"comments\" target=\"post_id\">\n *    ...\n * </ReferenceManyField>\n */\nexport var ReferenceManyField = function (props) {\n    var basePath = props.basePath, children = props.children, filter = props.filter, _a = props.page, page = _a === void 0 ? 1 : _a, perPage = props.perPage, reference = props.reference, resource = props.resource, sort = props.sort, source = props.source, target = props.target;\n    var record = useRecordContext(props);\n    if (React.Children.count(children) !== 1) {\n        throw new Error('<ReferenceManyField> only accepts a single child (like <Datagrid>)');\n    }\n    var isReferenceDeclared = useSelector(function (state) { return typeof state.admin.resources[props.reference] !== 'undefined'; });\n    if (!isReferenceDeclared) {\n        throw new Error(\"You must declare a <Resource name=\\\"\" + props.reference + \"\\\"> in order to use a <ReferenceManyField reference=\\\"\" + props.reference + \"\\\">\");\n    }\n    var controllerProps = useReferenceManyFieldController({\n        basePath: basePath,\n        filter: filter,\n        page: page,\n        perPage: perPage,\n        record: record,\n        reference: reference,\n        resource: resource,\n        sort: sort,\n        source: source,\n        target: target,\n    });\n    return (React.createElement(ResourceContextProvider, { value: reference },\n        React.createElement(ListContextProvider, { value: controllerProps },\n            React.createElement(ReferenceManyFieldView, __assign({}, props, controllerProps)))));\n};\nReferenceManyField.propTypes = {\n    addLabel: PropTypes.bool,\n    basePath: PropTypes.string,\n    children: PropTypes.element.isRequired,\n    className: PropTypes.string,\n    filter: PropTypes.object,\n    label: PropTypes.string,\n    perPage: PropTypes.number,\n    record: PropTypes.any,\n    reference: PropTypes.string.isRequired,\n    resource: PropTypes.string,\n    sortBy: PropTypes.string,\n    sortByOrder: fieldPropTypes.sortByOrder,\n    source: PropTypes.string.isRequired,\n    sort: PropTypes.exact({\n        field: PropTypes.string,\n        order: PropTypes.string,\n    }),\n    target: PropTypes.string.isRequired,\n};\nReferenceManyField.defaultProps = {\n    filter: {},\n    perPage: 25,\n    sort: { field: 'id', order: 'DESC' },\n    source: 'id',\n    addLabel: true,\n};\nexport var ReferenceManyFieldView = function (props) {\n    var basePath = props.basePath, children = props.children, pagination = props.pagination, reference = props.reference, rest = __rest(props, [\"basePath\", \"children\", \"pagination\", \"reference\"]);\n    return (React.createElement(React.Fragment, null,\n        cloneElement(Children.only(children), __assign(__assign({}, sanitizeFieldRestProps(rest)), { basePath: basePath, resource: reference })),\n        pagination &&\n            props.total !== undefined &&\n            cloneElement(pagination)));\n};\nReferenceManyFieldView.propTypes = {\n    basePath: PropTypes.string.isRequired,\n    children: PropTypes.element,\n    className: PropTypes.string,\n    currentSort: PropTypes.exact({\n        field: PropTypes.string,\n        order: PropTypes.string,\n    }),\n    data: PropTypes.any,\n    ids: PropTypes.array,\n    loaded: PropTypes.bool,\n    pagination: PropTypes.element,\n    reference: PropTypes.string,\n    setSort: PropTypes.func,\n};\nexport default ReferenceManyField;\n","import * as React from 'react';\nimport { Avatar as MuiAvatar } from '@material-ui/core';\n\nimport { Contact } from '../types';\n\nexport const Avatar = ({ record }: { record: Contact }) => (\n    <MuiAvatar src={record.avatar}>\n        {record.first_name.charAt(0)}\n        {record.last_name.charAt(0)}\n    </MuiAvatar>\n);\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport ContentCreate from '@material-ui/icons/Create';\nimport { Link } from 'react-router-dom';\nimport { linkToRecord, useResourceContext } from 'ra-core';\nimport Button from './Button';\n/**\n * Opens the Edit view of a given record:\n *\n * @example // basic usage\n * import { EditButton } from 'react-admin';\n *\n * const CommentEditButton = ({ record }) => (\n *     <EditButton basePath=\"/comments\" label=\"Edit comment\" record={record} />\n * );\n */\nvar EditButton = function (_a) {\n    var _b = _a.basePath, basePath = _b === void 0 ? '' : _b, _c = _a.icon, icon = _c === void 0 ? defaultIcon : _c, _d = _a.label, label = _d === void 0 ? 'ra.action.edit' : _d, record = _a.record, _e = _a.scrollToTop, scrollToTop = _e === void 0 ? true : _e, rest = __rest(_a, [\"basePath\", \"icon\", \"label\", \"record\", \"scrollToTop\"]);\n    var resource = useResourceContext();\n    return (React.createElement(Button, __assign({ component: Link, to: useMemo(function () { return ({\n            pathname: record\n                ? linkToRecord(basePath || \"/\" + resource, record.id)\n                : '',\n            state: { _scrollToTop: scrollToTop },\n        }); }, [basePath, record, resource, scrollToTop]), label: label, onClick: stopPropagation }, rest), icon));\n};\nvar defaultIcon = React.createElement(ContentCreate, null);\n// useful to prevent click bubbling in a datagrid with rowClick\nvar stopPropagation = function (e) { return e.stopPropagation(); };\nEditButton.propTypes = {\n    basePath: PropTypes.string,\n    icon: PropTypes.element,\n    label: PropTypes.string,\n    record: PropTypes.any,\n    scrollToTop: PropTypes.bool,\n};\nexport default EditButton;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { memo, useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport ImageEye from '@material-ui/icons/RemoveRedEye';\nimport { Link } from 'react-router-dom';\nimport { linkToRecord, useResourceContext } from 'ra-core';\nimport Button from './Button';\n/**\n * Opens the Show view of a given record\n *\n * @example // basic usage\n * import { ShowButton } from 'react-admin';\n *\n * const CommentShowButton = ({ record }) => (\n *     <ShowButton basePath=\"/comments\" label=\"Show comment\" record={record} />\n * );\n */\nvar ShowButton = function (_a) {\n    var _b = _a.basePath, basePath = _b === void 0 ? '' : _b, _c = _a.icon, icon = _c === void 0 ? defaultIcon : _c, _d = _a.label, label = _d === void 0 ? 'ra.action.show' : _d, record = _a.record, _e = _a.scrollToTop, scrollToTop = _e === void 0 ? true : _e, rest = __rest(_a, [\"basePath\", \"icon\", \"label\", \"record\", \"scrollToTop\"]);\n    var resource = useResourceContext();\n    return (React.createElement(Button, __assign({ component: Link, to: useMemo(function () { return ({\n            pathname: record\n                ? linkToRecord(basePath || \"/\" + resource, record.id) + \"/show\"\n                : '',\n            state: { _scrollToTop: scrollToTop },\n        }); }, [basePath, record, resource, scrollToTop]), label: label, onClick: stopPropagation }, rest), icon));\n};\nvar defaultIcon = React.createElement(ImageEye, null);\n// useful to prevent click bubbling in a datagrid with rowClick\nvar stopPropagation = function (e) { return e.stopPropagation(); };\nShowButton.propTypes = {\n    basePath: PropTypes.string,\n    icon: PropTypes.element,\n    label: PropTypes.string,\n    record: PropTypes.any,\n    scrollToTop: PropTypes.bool,\n};\nvar PureShowButton = memo(ShowButton, function (props, nextProps) {\n    return (props.record && nextProps.record\n        ? props.record.id === nextProps.record.id\n        : props.record == nextProps.record) && // eslint-disable-line eqeqeq\n        props.basePath === nextProps.basePath &&\n        props.to === nextProps.to &&\n        props.disabled === nextProps.disabled;\n});\nexport default PureShowButton;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useMemo } from 'react';\nimport { useRecordContext } from 'ra-core';\nimport PropTypes from 'prop-types';\nimport Typography from '@material-ui/core/Typography';\nimport sanitizeFieldRestProps from './sanitizeFieldRestProps';\nimport { fieldPropTypes } from './types';\n/**\n * Field using a render function\n *\n * @example\n * <FunctionField\n *     source=\"last_name\" // used for sorting\n *     label=\"Name\"\n *     render={record => record && `${record.first_name} ${record.last_name}`}\n * />\n */\nvar FunctionField = function (props) {\n    var className = props.className, _a = props.source, source = _a === void 0 ? '' : _a, render = props.render, rest = __rest(props, [\"className\", \"source\", \"render\"]);\n    var record = useRecordContext(props);\n    return useMemo(function () {\n        return record ? (React.createElement(Typography, __assign({ component: \"span\", variant: \"body2\", className: className }, sanitizeFieldRestProps(rest)), render(record, source))) : null;\n    }, [className, record, source, render, rest]);\n};\nFunctionField.defaultProps = {\n    addLabel: true,\n};\nFunctionField.propTypes = __assign(__assign(__assign({}, Typography.propTypes), fieldPropTypes), { render: PropTypes.func.isRequired });\nexport default FunctionField;\n","import { useMemo } from 'react';\nimport get from 'lodash/get';\nimport { useQueryWithStore } from './useQueryWithStore';\nvar defaultPagination = { page: 1, perPage: 25 };\nvar defaultSort = { field: 'id', order: 'DESC' };\nvar defaultFilter = {};\nvar defaultIds = [];\nvar defaultData = {};\n/**\n * Call the dataProvider.getList() method and return the resolved result\n * as well as the loading state.\n *\n * The return value updates according to the request state:\n *\n * - start: { loading: true, loaded: false, refetch }\n * - success: { data: [data from store], ids: [ids from response], total: [total from response], loading: false, loaded: true, refetch }\n * - error: { error: [error from response], loading: false, loaded: false, refetch }\n *\n * This hook will return the cached result when called a second time\n * with the same parameters, until the response arrives.\n *\n * @param {string} resource The resource name, e.g. 'posts'\n * @param {Object} pagination The request pagination { page, perPage }, e.g. { page: 1, perPage: 10 }\n * @param {Object} sort The request sort { field, order }, e.g. { field: 'id', order: 'DESC' }\n * @param {Object} filter The request filters, e.g. { title: 'hello, world' }\n * @param {Object} options Options object to pass to the dataProvider.\n * @param {boolean} options.enabled Flag to conditionally run the query. If it's false, the query will not run\n * @param {Function} options.onSuccess Side effect function to be executed upon success, e.g. { onSuccess: { refresh: true } }\n * @param {Function} options.onFailure Side effect function to be executed upon failure, e.g. { onFailure: error => notify(error.message) }\n *\n * @returns The current request state. Destructure as { data, total, ids, error, loading, loaded, refetch }.\n *\n * @example\n *\n * import { useGetList } from 'react-admin';\n *\n * const LatestNews = () => {\n *     const { data, ids, loading, error } = useGetList(\n *         'posts',\n *         { page: 1, perPage: 10 },\n *         { field: 'published_at', order: 'DESC' }\n *     );\n *     if (loading) { return <Loading />; }\n *     if (error) { return <p>ERROR</p>; }\n *     return <ul>{ids.map(id =>\n *         <li key={id}>{data[id].title}</li>\n *     )}</ul>;\n * };\n */\nvar useGetList = function (resource, pagination, sort, filter, options) {\n    if (pagination === void 0) { pagination = defaultPagination; }\n    if (sort === void 0) { sort = defaultSort; }\n    if (filter === void 0) { filter = defaultFilter; }\n    var requestSignature = JSON.stringify({ pagination: pagination, sort: sort, filter: filter });\n    var _a = useQueryWithStore({ type: 'getList', resource: resource, payload: { pagination: pagination, sort: sort, filter: filter } }, options, \n    // ids and data selector\n    function (state) { return ({\n        ids: get(state.admin.resources, [resource, 'list', 'cachedRequests', requestSignature, 'ids'], null),\n        allRecords: get(state.admin.resources, [resource, 'data'], defaultData),\n    }); }, \n    // total selector (may return undefined)\n    function (state) {\n        return get(state.admin.resources, [\n            resource,\n            'list',\n            'cachedRequests',\n            requestSignature,\n            'total',\n        ]);\n    }, isDataLoaded), _b = _a.data, ids = _b.ids, allRecords = _b.allRecords, total = _a.total, error = _a.error, loading = _a.loading, loaded = _a.loaded, refetch = _a.refetch;\n    var data = useMemo(function () {\n        return ids === null\n            ? defaultData\n            : ids\n                .map(function (id) { return allRecords[id]; })\n                .reduce(function (acc, record) {\n                if (!record)\n                    return acc;\n                acc[record.id] = record;\n                return acc;\n            }, {});\n    }, [ids, allRecords]);\n    return {\n        data: data,\n        ids: ids === null ? defaultIds : ids,\n        total: total,\n        error: error,\n        loading: loading,\n        loaded: loaded,\n        refetch: refetch,\n    };\n};\nvar isDataLoaded = function (data) { return data.ids !== null; };\nexport default useGetList;\n","import { useCallback } from 'react';\nimport useMutation from './useMutation';\n/**\n * Get a callback to call the dataProvider.update() method, the result and the loading state.\n *\n * The return value updates according to the request state:\n *\n * - initial: [update, { loading: false, loaded: false }]\n * - start:   [update, { loading: true, loaded: false }]\n * - success: [update, { data: [data from response], loading: false, loaded: true }]\n * - error:   [update, { error: [error from response], loading: false, loaded: false }]\n *\n * @param resource The resource name, e.g. 'posts'\n * @param id The resource identifier, e.g. 123\n * @param data The updates to merge into the record, e.g. { views: 10 }\n * @param previousData The record before the update is applied\n * @param options Options object to pass to the dataProvider. May include side effects to be executed upon success or failure, e.g. { onSuccess: { refresh: true } }\n *\n * @returns The current request state. Destructure as [update, { data, error, loading, loaded }].\n *\n * The update() function can be called in 3 different ways:\n *  - with the same parameters as the useUpdate() hook: update(resource, id, data, previousData, options)\n *  - with the same syntax as useMutation: update({ resource, payload: { id, data, previousData } }, options)\n *  - with no parameter (if they were already passed to useUpdate()): update()\n *\n * @example // set params when calling the update callback\n *\n * import { useUpdate } from 'react-admin';\n *\n * const IncreaseLikeButton = ({ record }) => {\n *     const diff = { likes: record.likes + 1 };\n *     const [update, { loading, error }] = useUpdate();\n *     const handleClick = () => {\n *         update('likes', record.id, diff, record)\n *     }\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={loading} onClick={handleClick}>Like</div>;\n * };\n *\n * @example // set params when calling the hook\n *\n * import { useUpdate } from 'react-admin';\n *\n * const IncreaseLikeButton = ({ record }) => {\n *     const diff = { likes: record.likes + 1 };\n *     const [update, { loading, error }] = useUpdate('likes', record.id, diff, record);\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={loading} onClick={update}>Like</button>;\n * };\n *\n * @example // TypeScript\n * const [update, { data }] = useUpdate<Product>('products', id, changes, product);\n *                    \\-- data is Product\n */\nvar useUpdate = function (resource, id, data, previousData, options) {\n    var _a = useMutation({ type: 'update', resource: resource, payload: { id: id, data: data, previousData: previousData } }, options), mutate = _a[0], state = _a[1];\n    var update = useCallback(function (resource, id, data, previousData, options) {\n        if (typeof resource === 'string') {\n            var query = {\n                type: 'update',\n                resource: resource,\n                payload: {\n                    id: id,\n                    data: data,\n                    previousData: previousData,\n                },\n            };\n            return mutate(query, options);\n        }\n        else {\n            return mutate(resource, id);\n        }\n    }, [mutate] // eslint-disable-line react-hooks/exhaustive-deps\n    );\n    return [update, state];\n};\nexport default useUpdate;\n","import { useCallback } from 'react';\nimport useMutation from './useMutation';\n/**\n * Get a callback to call the dataProvider.create() method, the result and the loading state.\n *\n * The return value updates according to the request state:\n *\n * - initial: [create, { loading: false, loaded: false }]\n * - start:   [create, { loading: true, loaded: false }]\n * - success: [create, { data: [data from response], loading: false, loaded: true }]\n * - error:   [create, { error: [error from response], loading: false, loaded: false }]\n *\n * @param resource The resource name, e.g. 'posts'\n * @param data The data to initialize the new record with, e.g. { title: 'hello, world' }\n * @param options Options object to pass to the dataProvider. May include side effects to be executed upon success or failure, e.g. { onSuccess: { refresh: true } }\n *\n * @returns The current request state. Destructure as [create, { data, error, loading, loaded }].\n *\n * The create() function can be called in 3 different ways:\n *  - with the same parameters as the useCreate() hook: create(resource, data, options)\n *  - with the same syntax as useMutation: create({ resource, payload: { data } }, options)\n *  - with no parameter (if they were already passed to useCreate()): create()\n *\n * @example // set params when calling the update callback\n *\n * import { useCreate } from 'react-admin';\n *\n * const LikeButton = ({ record }) => {\n *     const like = { postId: record.id };\n *     const [create, { loading, error }] = useCreate();\n *     const handleClick = () => {\n *         create('likes', like)\n *     }\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={loading} onClick={handleClick}>Like</button>;\n * };\n *\n * @example // set params when calling the hook\n *\n * import { useCreate } from 'react-admin';\n *\n * const LikeButton = ({ record }) => {\n *     const like = { postId: record.id };\n *     const [create, { loading, error }] = useCreate('likes', like);\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={loading} onClick={create}>Like</button>;\n * };\n */\nvar useCreate = function (resource, data, options) {\n    var _a = useMutation({ type: 'create', resource: resource, payload: { data: data } }, options), mutate = _a[0], state = _a[1];\n    var create = useCallback(function (resource, data, options) {\n        if (typeof resource === 'string') {\n            var query = {\n                type: 'create',\n                resource: resource,\n                payload: {\n                    data: data,\n                },\n            };\n            return mutate(query, options);\n        }\n        else {\n            return mutate(resource, data);\n        }\n    }, [mutate] // eslint-disable-line react-hooks/exhaustive-deps\n    );\n    return [create, state];\n};\nexport default useCreate;\n","export const colors = [\n    '#eddcd2',\n    '#fff1e6',\n    '#fde2e4',\n    '#fad2e1',\n    '#c5dedd',\n    '#dbe7e4',\n    '#f0efeb',\n    '#d6e2e9',\n    '#bcd4e6',\n    '#99c1de',\n];\n","import * as React from 'react';\nimport { useState, FormEvent } from 'react';\nimport {\n    useGetMany,\n    useCreate,\n    useUpdate,\n    useGetList,\n    Identifier,\n} from 'react-admin';\nimport {\n    Chip,\n    Box,\n    Button,\n    Dialog,\n    DialogTitle,\n    DialogContent,\n    DialogActions,\n    TextField,\n    MenuItem,\n    Menu,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ControlPointIcon from '@material-ui/icons/ControlPoint';\nimport EditIcon from '@material-ui/icons/Edit';\n\nimport { colors } from '../tags/colors';\nimport { Contact } from '../types';\n\nexport const TagsListEdit = ({ record }: { record: Contact }) => {\n    const [open, setOpen] = useState(false);\n    const [newTagName, setNewTagName] = useState('');\n    const [newTagColor, setNewTagColor] = useState(colors[0]);\n    const [anchorEl, setAnchorEl] = useState<null | HTMLElement>(null);\n    const [version, setVersion] = useState(0); // used to force the refresh of useGetList without refreshing the whole page\n    const [disabled, setDisabled] = useState(false);\n\n    const { data: allTags, ids } = useGetList(\n        'tags',\n        { page: 1, perPage: 10 },\n        { field: 'name', order: 'ASC' },\n        {},\n        { version } as any // FIXME UseDataProviderOptions don't allow [key: string]: any\n    );\n    const { data: tags, loaded } = useGetMany('tags', record.tags, {\n        enabled: record.tags && record.tags.length > 0,\n    });\n    const [update] = useUpdate();\n    const [create] = useCreate();\n\n    const unselectedTagIds = ids && ids.filter(id => !record.tags.includes(id));\n\n    const handleOpen = (event: React.MouseEvent<HTMLDivElement>) => {\n        setAnchorEl(event.currentTarget);\n    };\n\n    const handleClose = () => {\n        setAnchorEl(null);\n    };\n\n    const handleDeleteTag = (id: Identifier) => {\n        const tags: Identifier[] = record.tags.filter(\n            (tagId: Identifier) => tagId !== id\n        );\n        update('contacts', record.id, { tags }, record);\n    };\n\n    const handleAddTag = (id: Identifier) => {\n        const tags: Identifier[] = [...record.tags, id];\n        update('contacts', record.id, { tags }, record);\n        setAnchorEl(null);\n    };\n\n    const handleOpenCreateDialog = () => {\n        setOpen(true);\n        setAnchorEl(null);\n        setDisabled(false);\n    };\n\n    const handleNewTagNameChange = (\n        event: React.ChangeEvent<HTMLInputElement>\n    ) => {\n        setNewTagName(event.target.value);\n    };\n\n    const handleCreateTag = (event: FormEvent<HTMLFormElement>) => {\n        event.preventDefault();\n        setDisabled(true);\n        create(\n            'tags',\n            { name: newTagName, color: newTagColor },\n            {\n                onSuccess: ({ data }) => {\n                    update(\n                        'contacts',\n                        record.id,\n                        { tags: [...record.tags, data.id] },\n                        record,\n                        {\n                            onSuccess: () => {\n                                setNewTagName('');\n                                setNewTagColor(colors[0]);\n                                setOpen(false);\n\n                                setVersion(v => v + 1);\n                            },\n                        }\n                    );\n                },\n            }\n        );\n    };\n\n    if (!loaded || !tags) return null;\n    return (\n        <>\n            {tags.map(tag => (\n                <Box mt={1} mb={1} key={tag.id}>\n                    <Chip\n                        size=\"small\"\n                        variant=\"outlined\"\n                        onDelete={() => handleDeleteTag(tag.id)}\n                        label={tag.name}\n                        style={{ backgroundColor: tag.color, border: 0 }}\n                    />\n                </Box>\n            ))}\n            <Box mt={1}>\n                <Chip\n                    icon={<ControlPointIcon />}\n                    size=\"small\"\n                    variant=\"outlined\"\n                    onClick={handleOpen}\n                    label=\"Add tag\"\n                    color=\"primary\"\n                />\n            </Box>\n            <Menu\n                open={Boolean(anchorEl)}\n                onClose={handleClose}\n                anchorEl={anchorEl}\n            >\n                {unselectedTagIds?.map(id => (\n                    <MenuItem key={id} onClick={() => handleAddTag(id)}>\n                        <Chip\n                            size=\"small\"\n                            variant=\"outlined\"\n                            label={allTags && allTags[id].name}\n                            style={{\n                                backgroundColor: allTags && allTags[id].color,\n                                border: 0,\n                            }}\n                            onClick={() => handleAddTag(id)}\n                        />\n                    </MenuItem>\n                ))}\n                <MenuItem onClick={handleOpenCreateDialog}>\n                    <Chip\n                        icon={<EditIcon />}\n                        size=\"small\"\n                        variant=\"outlined\"\n                        onClick={handleOpenCreateDialog}\n                        color=\"primary\"\n                        label=\"Create new tag\"\n                    />\n                </MenuItem>\n            </Menu>\n            <Dialog\n                open={open}\n                onClose={() => setOpen(false)}\n                aria-labelledby=\"form-dialog-title\"\n            >\n                <form onSubmit={handleCreateTag}>\n                    <DialogTitle id=\"form-dialog-title\">\n                        Create a new tag\n                    </DialogTitle>\n                    <DialogContent>\n                        <TextField\n                            autoFocus\n                            label=\"Tag name\"\n                            fullWidth\n                            value={newTagName}\n                            onChange={handleNewTagNameChange}\n                        />\n                        <Box display=\"flex\" flexWrap=\"wrap\" width={230} mt={2}>\n                            {colors.map(color => (\n                                <RoundButton\n                                    key={color}\n                                    color={color}\n                                    selected={color === newTagColor}\n                                    handleClick={() => {\n                                        setNewTagColor(color);\n                                    }}\n                                />\n                            ))}\n                        </Box>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={() => setOpen(false)} color=\"primary\">\n                            Cancel\n                        </Button>\n                        <Button\n                            type=\"submit\"\n                            color=\"primary\"\n                            disabled={disabled}\n                        >\n                            Add tag\n                        </Button>\n                    </DialogActions>\n                </form>\n            </Dialog>\n        </>\n    );\n};\n\nconst useStyles = makeStyles({\n    root: {\n        width: 30,\n        height: 30,\n        borderRadius: 15,\n        display: 'inline-block',\n        margin: 8,\n    },\n});\n\nconst RoundButton = ({ color, handleClick, selected }: any) => {\n    const classes = useStyles();\n    return (\n        <button\n            type=\"button\"\n            className={classes.root}\n            style={{\n                backgroundColor: color,\n                border: selected ? '2px solid grey' : 'none',\n            }}\n            onClick={handleClick}\n        />\n    );\n};\n","import * as React from 'react';\nimport {\n    TextField,\n    EmailField,\n    DateField,\n    ReferenceManyField,\n    EditButton,\n    ShowButton,\n    useListContext,\n    ReferenceField,\n    FunctionField,\n} from 'react-admin';\nimport { Box, Typography, Divider, List, ListItem } from '@material-ui/core';\nimport { TagsListEdit } from './TagsListEdit';\n\nimport { Sale } from '../types';\n\nexport const ContactAside = ({ record, link = 'edit' }: any) => (\n    <Box ml={4} width={250} minWidth={250}>\n        <Box textAlign=\"center\" mb={2}>\n            {link === 'edit' ? (\n                <EditButton\n                    basePath=\"/contacts\"\n                    record={record}\n                    label=\"Edit Contact\"\n                />\n            ) : (\n                <ShowButton\n                    basePath=\"/contacts\"\n                    record={record}\n                    label=\"Show Contact\"\n                />\n            )}\n        </Box>\n\n        <Typography variant=\"subtitle2\">Personal info</Typography>\n        <Divider />\n\n        <Box mt={2}>\n            <EmailField source=\"email\" />\n        </Box>\n\n        <Box mt={1}>\n            <TextField source=\"phone_number1\" />{' '}\n            <Typography variant=\"body2\" color=\"textSecondary\" component=\"span\">\n                Work\n            </Typography>\n        </Box>\n\n        <Box mb={1}>\n            <TextField source=\"phone_number2\" />{' '}\n            <Typography variant=\"body2\" color=\"textSecondary\" component=\"span\">\n                Home\n            </Typography>\n        </Box>\n\n        <Box mb={3}>\n            <Typography variant=\"body2\">\n                {record.gender === 'male' ? 'He/Him' : 'She/Her'}\n            </Typography>\n        </Box>\n\n        <Typography variant=\"subtitle2\">Background</Typography>\n        <Divider />\n\n        <Box mt={2}>{record && record.background}</Box>\n        <Box mt={1} mb={3}>\n            <Typography component=\"span\" variant=\"body2\" color=\"textSecondary\">\n                Added on\n            </Typography>{' '}\n            <DateField\n                source=\"first_seen\"\n                options={{ year: 'numeric', month: 'long', day: 'numeric' }}\n                color=\"textSecondary\"\n            />\n            <br />\n            <Typography component=\"span\" variant=\"body2\" color=\"textSecondary\">\n                Last seen on\n            </Typography>{' '}\n            <DateField\n                source=\"last_seen\"\n                options={{ year: 'numeric', month: 'long', day: 'numeric' }}\n                color=\"textSecondary\"\n            />\n            <br />\n            <Typography component=\"span\" variant=\"body2\" color=\"textSecondary\">\n                Followed by\n            </Typography>{' '}\n            <ReferenceField\n                resource=\"contacts\"\n                source=\"sales_id\"\n                reference=\"sales\"\n            >\n                <FunctionField<Sale>\n                    source=\"last_name\"\n                    render={record =>\n                        record ? `${record.first_name} ${record.last_name}` : ''\n                    }\n                />\n            </ReferenceField>\n        </Box>\n\n        <Box mb={3}>\n            <Typography variant=\"subtitle2\">Tags</Typography>\n            <Divider />\n            <TagsListEdit record={record} />\n        </Box>\n\n        <ReferenceManyField\n            resource=\"contacts\"\n            target=\"contact_id\"\n            reference=\"tasks\"\n        >\n            <TasksIterator />\n        </ReferenceManyField>\n    </Box>\n);\n\nconst TasksIterator = () => {\n    const { data, ids, loading } = useListContext();\n    if (loading || ids.length === 0) return null;\n    return (\n        <Box>\n            <Typography variant=\"subtitle2\">Tasks</Typography>\n            <Divider />\n\n            <List>\n                {ids.map(id => {\n                    const task = data[id];\n                    return (\n                        <ListItem key={id} disableGutters>\n                            <Box>\n                                <Typography variant=\"body2\">\n                                    {task.text}\n                                </Typography>\n                                <Typography\n                                    variant=\"body2\"\n                                    color=\"textSecondary\"\n                                >\n                                    due{' '}\n                                    <DateField\n                                        source=\"due_date\"\n                                        record={task}\n                                    />\n                                </Typography>\n                            </Box>\n                        </ListItem>\n                    );\n                })}\n            </List>\n        </Box>\n    );\n};\n","import * as React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles({\n    image: {\n        objectFit: 'contain',\n    },\n});\n\nconst sizeInPixel = {\n    medium: 42,\n    small: 20,\n};\n\nexport const LogoField = ({\n    record,\n    source,\n    size = 'medium',\n}: {\n    record?: { logo: string; name: string };\n    source?: string;\n    size?: 'small' | 'medium';\n}) => {\n    const classes = useStyles();\n    if (!record) return null;\n    return (\n        <img\n            src={process.env.PUBLIC_URL + record.logo}\n            alt={record.name}\n            title={record.name}\n            width={sizeInPixel[size]}\n            height={sizeInPixel[size]}\n            className={classes.image}\n        />\n    );\n};\n","import * as React from 'react';\nimport { Box } from '@material-ui/core';\n\nconst getColorFromStatus = (status: string) =>\n    status === 'cold'\n        ? '#7dbde8'\n        : status === 'warm'\n        ? '#e8cb7d'\n        : status === 'hot'\n        ? '#e88b7d'\n        : status === 'in-contract'\n        ? '#a4e87d'\n        : '#000';\n\nexport const Status = ({ status }: { status: string }) => (\n    <Box\n        width={10}\n        height={10}\n        display=\"inline-block\"\n        borderRadius={5}\n        bgcolor={getColorFromStatus(status)}\n        component=\"span\"\n    />\n);\n","import * as React from 'react';\nimport { TextField, MenuItem } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport clsx from 'clsx';\n\nimport { Status } from '../misc/Status';\n\nconst useStyles = makeStyles({\n    root: {\n        width: 150,\n    },\n});\n\nexport const StatusSelector = ({ status, setStatus, className = '' }: any) => {\n    const classes = useStyles();\n    return (\n        <TextField\n            select\n            value={status}\n            onChange={(event: React.ChangeEvent<{ value: unknown }>) => {\n                setStatus(event.target.value);\n            }}\n            variant=\"filled\"\n            label={false}\n            margin=\"none\"\n            size=\"small\"\n            className={clsx(className, classes.root)}\n        >\n            <MenuItem value=\"cold\">\n                Cold <Status status=\"cold\" />\n            </MenuItem>\n            <MenuItem value=\"warm\">\n                Warm <Status status=\"warm\" />\n            </MenuItem>\n            <MenuItem value=\"hot\">\n                Hot <Status status=\"hot\" />\n            </MenuItem>\n            <MenuItem value=\"in-contract\">\n                In Contract <Status status=\"in-contract\" />\n            </MenuItem>\n        </TextField>\n    );\n};\n","import * as React from 'react';\nimport { useState, FormEvent } from 'react';\nimport {\n    useRecordContext,\n    useCreate,\n    useUpdate,\n    useRefresh,\n    useNotify,\n    useGetIdentity,\n    Identifier,\n    useResourceContext,\n} from 'react-admin';\nimport { TextField as TextInput, Button } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { StatusSelector } from './StatusSelector';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        marginTop: theme.spacing(4),\n        marginBottom: theme.spacing(1),\n    },\n    toolbar: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        marginTop: theme.spacing(1),\n    },\n    small: {\n        marginRight: '1em',\n        '& .MuiFilledInput-input': {\n            paddingTop: 10,\n        },\n    },\n}));\n\nexport const NewNote = ({\n    showStatus,\n    reference,\n}: {\n    showStatus?: boolean;\n    reference: 'contacts' | 'deals';\n}) => {\n    const classes = useStyles();\n    const record = useRecordContext();\n    const resource = useResourceContext();\n    const [text, setText] = useState('');\n    const [status, setStatus] = useState(record && record.status);\n    const [date, setDate] = useState(getCurrentDate());\n    const [create, { loading }] = useCreate();\n    const [update] = useUpdate();\n    // FIXME: use refetch instead when ReferenceManyField exposes it in the ListContext\n    const refresh = useRefresh();\n    const notify = useNotify();\n    const { identity } = useGetIdentity();\n    if (!record || !identity) return null;\n\n    const handleSubmit = (event: FormEvent<HTMLFormElement>) => {\n        event.preventDefault();\n        const data: any = {\n            [foreignKeyMapping[reference]]: record.id,\n            sales_id: identity.id,\n            date,\n            text,\n        };\n        if (showStatus) {\n            data.status = status;\n        }\n        update(\n            reference,\n            ((record && record.id) as unknown) as Identifier,\n            {\n                last_seen: date,\n                status,\n                nb_notes: record.nb_notes + 1,\n            },\n            record\n        );\n        create(resource, data, {\n            onSuccess: () => {\n                setText('');\n                notify('Note added successfully');\n                refresh();\n            },\n        });\n        return false;\n    };\n    return (\n        <div className={classes.root}>\n            <form onSubmit={handleSubmit}>\n                <TextInput\n                    label=\"Add a note\"\n                    variant=\"filled\"\n                    size=\"small\"\n                    fullWidth\n                    multiline\n                    value={text}\n                    onChange={(event: React.ChangeEvent<HTMLInputElement>) =>\n                        setText(event.target.value)\n                    }\n                    rows={3}\n                />\n                <div className={classes.toolbar}>\n                    <span>\n                        {text ? (\n                            <>\n                                {showStatus && (\n                                    <StatusSelector\n                                        status={status}\n                                        setStatus={setStatus}\n                                        className={classes.small}\n                                    />\n                                )}\n                                <TextInput\n                                    type=\"datetime-local\"\n                                    variant=\"filled\"\n                                    size=\"small\"\n                                    value={date}\n                                    onChange={(\n                                        event: React.ChangeEvent<\n                                            HTMLInputElement\n                                        >\n                                    ) => {\n                                        setDate(event.target.value);\n                                    }}\n                                    className={classes.small}\n                                />\n                            </>\n                        ) : null}\n                    </span>\n                    <Button\n                        type=\"submit\"\n                        variant=\"contained\"\n                        color=\"primary\"\n                        disabled={!text || loading}\n                    >\n                        Add this note\n                    </Button>\n                </div>\n            </form>\n        </div>\n    );\n};\n\nconst getCurrentDate = () => {\n    const now = new Date();\n    now.setMinutes(now.getMinutes() - now.getTimezoneOffset());\n    return now.toISOString().slice(0, -1);\n};\n\nconst foreignKeyMapping = {\n    contacts: 'contact_id',\n    deals: 'deal_id',\n};\n","import { useCallback } from 'react';\nimport useMutation from './useMutation';\n/**\n * Get a callback to call the dataProvider.delete() method, the result\n * of the call (the deleted record), and the loading state.\n *\n * The return value updates according to the request state:\n *\n * - initial: [deleteOne, { loading: false, loaded: false }]\n * - start:   [deleteOne, { loading: true, loaded: false }]\n * - success: [deleteOne, { data: [data from response], loading: false, loaded: true }]\n * - error:   [deleteOne, { error: [error from response], loading: false, loaded: false }]\n *\n * @param resource The resource name, e.g. 'posts'\n * @param id The resource identifier, e.g. 123\n * @param previousData The record before the delete is applied\n * @param options Options object to pass to the dataProvider. May include side effects to be executed upon success or failure, e.g. { onSuccess: { refresh: true } }\n *\n * @returns The current request state. Destructure as [deleteOne, { data, error, loading, loaded }].\n *\n * The deleteOne() function can be called in 3 different ways:\n *  - with the same parameters as the useDelete() hook: deleteOne(resource, id, previousData, options)\n *  - with the same syntax as useMutation: deleteOne({ resource, payload: { id, previousData } }, options)\n *  - with no parameter (if they were already passed to useDelete()): deleteOne()\n *\n * @example // set params when calling the deleteOne callback\n *\n * import { useDelete } from 'react-admin';\n *\n * const DeleteButton = ({ record }) => {\n *     const [deleteOne, { loading, error }] = useDelete();\n *     const handleClick = () => {\n *         deleteOne('likes', record.id, record)\n *     }\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={loading} onClick={handleClick}>Delete</div>;\n * };\n *\n * @example // set params when calling the hook\n *\n * import { useDelete } from 'react-admin';\n *\n * const DeleteButton = ({ record }) => {\n *     const [deleteOne, { loading, error }] = useDelete('likes', record.id, record);\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={loading} onClick={deleteOne}>Delete</button>;\n * };\n */\nvar useDelete = function (resource, id, previousData, options) {\n    if (previousData === void 0) { previousData = {}; }\n    var _a = useMutation({ type: 'delete', resource: resource, payload: { id: id, previousData: previousData } }, options), mutate = _a[0], state = _a[1];\n    var deleteOne = useCallback(function (resource, id, previousData, options) {\n        if (typeof resource === 'string') {\n            var query = {\n                type: 'delete',\n                resource: resource,\n                payload: {\n                    id: id,\n                    previousData: previousData,\n                },\n            };\n            return mutate(query, options);\n        }\n        else {\n            return mutate(resource, id);\n        }\n    }, [mutate] // eslint-disable-line react-hooks/exhaustive-deps\n    );\n    return [deleteOne, state];\n};\nexport default useDelete;\n","import * as React from 'react';\nimport { useState, FormEvent, ChangeEvent } from 'react';\nimport {\n    TextField,\n    ReferenceField,\n    DateField,\n    useResourceContext,\n    useDelete,\n    useUpdate,\n    useNotify,\n    useRecordContext,\n} from 'react-admin';\nimport {\n    Typography,\n    Tooltip,\n    IconButton,\n    FilledInput,\n    Button,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport EditIcon from '@material-ui/icons/Edit';\nimport TrashIcon from '@material-ui/icons/Delete';\n\nimport { Status } from '../misc/Status';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        marginBottom: theme.spacing(2),\n    },\n    metadata: {\n        marginBottom: theme.spacing(1),\n        color: theme.palette.text.secondary,\n    },\n    textarea: {\n        paddingTop: 16,\n        paddingLeft: 14,\n        paddingRight: 60,\n        paddingBottom: 14,\n        lineHeight: 1.3,\n    },\n    buttons: {\n        display: 'flex',\n        justifyContent: 'flex-end',\n        marginTop: theme.spacing(1),\n    },\n    cancel: {\n        marginRight: theme.spacing(1),\n    },\n    content: {\n        backgroundColor: '#edf3f0',\n        padding: '0 1em',\n        borderRadius: 10,\n        display: 'flex',\n        alignItems: 'stretch',\n        marginBottom: theme.spacing(1),\n    },\n    text: {\n        flex: 1,\n    },\n    paragraph: {\n        fontFamily: theme.typography.fontFamily,\n        fontSize: theme.typography.body1.fontSize,\n        lineHeight: 1.3,\n        marginBottom: theme.spacing(2.4),\n    },\n    toolbar: {\n        marginLeft: theme.spacing(2),\n        visibility: 'hidden',\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'space-around',\n    },\n}));\n\nexport const Note = ({\n    showStatus,\n    note,\n    isLast,\n    reference,\n}: {\n    showStatus?: boolean;\n    note: any;\n    isLast: boolean;\n    reference: string;\n}) => {\n    const [isHover, setHover] = useState(false);\n    const [isEditing, setEditing] = useState(false);\n    const [noteText, setNoteText] = useState(note.text);\n    const resource = useResourceContext();\n    const record = useRecordContext();\n    const notify = useNotify();\n    const classes = useStyles();\n    const [update, { loading }] = useUpdate();\n\n    const [handleDelete] = useDelete(resource, note.id, note, {\n        mutationMode: 'undoable',\n        onSuccess: () => {\n            notify('Note deleted', undefined, undefined, true);\n            update(\n                reference,\n                record.id,\n                { nb_notes: record.nb_notes - 1 },\n                record\n            );\n        },\n    });\n\n    const handleEnterEditMode = () => {\n        setEditing(true);\n    };\n\n    const handleCancelEdit = () => {\n        setEditing(false);\n        setNoteText(note.text);\n        setHover(false);\n    };\n\n    const handleTextChange = (event: ChangeEvent<HTMLInputElement>) => {\n        setNoteText(event.target.value);\n    };\n\n    const handleNoteUpdate = (event: FormEvent<HTMLFormElement>) => {\n        event.preventDefault();\n        update(resource, note.id, { text: noteText }, note, {\n            onSuccess: () => {\n                setEditing(false);\n                setNoteText(note.text);\n                setHover(false);\n            },\n        });\n    };\n\n    return (\n        <div\n            className={classes.root}\n            onMouseEnter={() => setHover(true)}\n            onMouseLeave={() => setHover(false)}\n        >\n            <div className={classes.metadata}>\n                <ReferenceField\n                    record={note}\n                    resource=\"contactNotes\"\n                    source=\"sales_id\"\n                    reference=\"sales\"\n                    basePath=\"/contactNotes\"\n                >\n                    <TextField source=\"first_name\" variant=\"body1\" />\n                </ReferenceField>{' '}\n                <Typography component=\"span\" variant=\"body1\">\n                    added a note on{' '}\n                </Typography>\n                <DateField\n                    source=\"date\"\n                    record={note}\n                    variant=\"body1\"\n                    showTime\n                    locales=\"en\"\n                    options={{\n                        dateStyle: 'full',\n                        timeStyle: 'short',\n                    }}\n                />{' '}\n                {showStatus && <Status status={note.status} />}\n            </div>\n            {isEditing ? (\n                <form onSubmit={handleNoteUpdate}>\n                    <FilledInput\n                        value={noteText}\n                        onChange={handleTextChange}\n                        fullWidth\n                        multiline\n                        className={classes.textarea}\n                        autoFocus\n                    />\n                    <div className={classes.buttons}>\n                        <Button\n                            className={classes.cancel}\n                            onClick={handleCancelEdit}\n                            color=\"primary\"\n                        >\n                            Cancel\n                        </Button>\n                        <Button\n                            type=\"submit\"\n                            color=\"primary\"\n                            variant=\"contained\"\n                            disabled={loading}\n                        >\n                            Update Note\n                        </Button>\n                    </div>\n                </form>\n            ) : (\n                <div className={classes.content}>\n                    <div className={classes.text}>\n                        {note.text\n                            .split('\\n')\n                            .map((paragraph: string, index: number) => (\n                                <p className={classes.paragraph} key={index}>\n                                    {paragraph}\n                                </p>\n                            ))}\n                    </div>\n                    <div\n                        className={classes.toolbar}\n                        style={{ visibility: isHover ? 'visible' : 'hidden' }}\n                    >\n                        <Tooltip title=\"Edit note\">\n                            <IconButton\n                                size=\"small\"\n                                onClick={handleEnterEditMode}\n                            >\n                                <EditIcon />\n                            </IconButton>\n                        </Tooltip>\n                        <Tooltip title=\"Delete note\">\n                            <IconButton size=\"small\" onClick={handleDelete}>\n                                <TrashIcon />\n                            </IconButton>\n                        </Tooltip>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n};\n","import * as React from 'react';\nimport { useListContext } from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { Note } from './Note';\nimport { NewNote } from './NewNote';\n\nconst useStyles = makeStyles({\n    root: {\n        marginTop: '0.5em',\n    },\n});\n\nexport const NotesIterator = ({\n    showStatus,\n    reference,\n}: {\n    showStatus?: boolean;\n    reference: 'contacts' | 'deals';\n}) => {\n    const classes = useStyles();\n    const { data, ids, loaded } = useListContext();\n    if (!loaded) return null;\n    return (\n        <>\n            <NewNote showStatus={showStatus} reference={reference} />\n            <div className={classes.root}>\n                {ids.map((id, index) => (\n                    <Note\n                        note={data[id]}\n                        isLast={index === ids.length - 1}\n                        showStatus={showStatus}\n                        reference={reference}\n                        key={index}\n                    />\n                ))}\n            </div>\n        </>\n    );\n};\n","import * as React from 'react';\nimport {\n    ShowBase,\n    ShowProps,\n    TextField,\n    ReferenceField,\n    ReferenceManyField,\n    useShowContext,\n} from 'react-admin';\nimport { Box, Card, CardContent, Typography } from '@material-ui/core';\n\nimport { Avatar } from './Avatar';\nimport { ContactAside } from './ContactAside';\nimport { LogoField } from '../companies/LogoField';\nimport { NotesIterator } from '../notes';\nimport { Contact } from '../types';\n\nexport const ContactShow = (props: ShowProps) => (\n    <ShowBase {...props}>\n        <ContactShowContent />\n    </ShowBase>\n);\n\nconst ContactShowContent = () => {\n    const { record, loaded } = useShowContext<Contact>();\n    if (!loaded || !record) return null;\n    return (\n        <Box mt={2} display=\"flex\">\n            <Box flex=\"1\">\n                <Card>\n                    <CardContent>\n                        <Box display=\"flex\">\n                            <Avatar record={record} />\n                            <Box ml={2} flex=\"1\">\n                                <Typography variant=\"h5\">\n                                    {record.first_name} {record.last_name}\n                                </Typography>\n                                <Typography variant=\"body2\">\n                                    {record.title} at{' '}\n                                    <ReferenceField\n                                        source=\"company_id\"\n                                        reference=\"companies\"\n                                        link=\"show\"\n                                    >\n                                        <TextField source=\"name\" />\n                                    </ReferenceField>\n                                </Typography>\n                            </Box>\n                            <Box>\n                                <ReferenceField\n                                    source=\"company_id\"\n                                    reference=\"companies\"\n                                    link=\"show\"\n                                >\n                                    <LogoField />\n                                </ReferenceField>\n                            </Box>\n                        </Box>\n                        <ReferenceManyField\n                            target=\"contact_id\"\n                            reference=\"contactNotes\"\n                            sort={{ field: 'date', order: 'DESC' }}\n                        >\n                            <NotesIterator showStatus reference=\"contacts\" />\n                        </ReferenceManyField>\n                    </CardContent>\n                </Card>\n            </Box>\n            <ContactAside record={record} />\n        </Box>\n    );\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport Avatar from '@material-ui/core/Avatar';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Placeholder from './Placeholder';\nimport { useTimeout } from 'ra-core';\nvar useStyles = makeStyles(function (theme) { return ({\n    primary: {\n        width: '30vw',\n        display: 'inline-block',\n        marginBottom: theme.spacing(),\n    },\n    tertiary: { float: 'right', opacity: 0.541176, minWidth: '10vw' },\n}); }, { name: 'RaSimpleListLoading' });\nvar times = function (nbChildren, fn) {\n    return Array.from({ length: nbChildren }, function (_, key) { return fn(key); });\n};\nvar SimpleListLoading = function (props) {\n    var classesOverride = props.classes, className = props.className, hasLeftAvatarOrIcon = props.hasLeftAvatarOrIcon, hasRightAvatarOrIcon = props.hasRightAvatarOrIcon, hasSecondaryText = props.hasSecondaryText, hasTertiaryText = props.hasTertiaryText, _a = props.nbFakeLines, nbFakeLines = _a === void 0 ? 5 : _a, rest = __rest(props, [\"classes\", \"className\", \"hasLeftAvatarOrIcon\", \"hasRightAvatarOrIcon\", \"hasSecondaryText\", \"hasTertiaryText\", \"nbFakeLines\"]);\n    var classes = useStyles(props);\n    var oneSecondHasPassed = useTimeout(1000);\n    return oneSecondHasPassed ? (React.createElement(List, __assign({ className: className }, rest), times(nbFakeLines, function (key) { return (React.createElement(ListItem, { key: key },\n        hasLeftAvatarOrIcon && (React.createElement(ListItemAvatar, null,\n            React.createElement(Avatar, null, \"\\u00A0\"))),\n        React.createElement(ListItemText, { primary: React.createElement(\"div\", null,\n                React.createElement(Placeholder, { className: classes.primary }),\n                hasTertiaryText && (React.createElement(\"span\", { className: classes.tertiary },\n                    React.createElement(Placeholder, null)))), secondary: hasSecondaryText ? React.createElement(Placeholder, null) : undefined }),\n        hasRightAvatarOrIcon && (React.createElement(ListItemSecondaryAction, null,\n            React.createElement(Avatar, null, \"\\u00A0\"))))); }))) : null;\n};\nSimpleListLoading.propTypes = {\n    className: PropTypes.string,\n    hasLeftAvatarOrIcon: PropTypes.bool,\n    hasRightAvatarOrIcon: PropTypes.bool,\n    hasSecondaryText: PropTypes.bool,\n    hasTertiaryText: PropTypes.bool,\n    nbFakeLines: PropTypes.number,\n};\nexport default SimpleListLoading;\n","import { useContext } from 'react';\nimport ListSortContext from './ListSortContext';\n/**\n * Hook to read the list controller props from the ListContext.\n *\n * Must be used within a <ListContextProvider> (e.g. as a descendent of <List>\n * or <ListBase>).\n *\n * @typedef {Object} ListSortContextValue\n * @prop {Object}   currentSort a sort object { field, order }, e.g. { field: 'date', order: 'DESC' }\n * @prop {Function} setSort a callback to change the sort, e.g. setSort('name', 'ASC')\n * @prop {string}   resource the resource name, deduced from the location. e.g. 'posts'\n *\n * @returns {ListSortContextValue} list controller props\n *\n * @see useListController for how it is filled\n */\nvar useListSortContext = function (props) {\n    var context = useContext(ListSortContext);\n    if (!context.setSort) {\n        /**\n         * The element isn't inside a <ListSortContext.Provider>\n         *\n         * This may only happen when using Datagrid / SimpleList / SingleFieldList components\n         * outside of a List / ReferenceManyField / ReferenceArrayField -\n         * which isn't documented but tolerated.\n         * To avoid breakage in that case, fallback to props\n         *\n         * @deprecated - to be removed in 4.0\n         */\n        if (process.env.NODE_ENV !== 'production') {\n            console.log(\"List components must be used inside a <ListContextProvider>. Relying on props rather than context to get List data and callbacks is deprecated and won't be supported in the next major version of react-admin.\");\n        }\n        return props;\n    }\n    return context;\n};\nexport default useListSortContext;\n","import * as React from 'react';\nimport { memo } from 'react';\nimport { Button, Menu, MenuItem, Tooltip, IconButton, useMediaQuery, } from '@material-ui/core';\nimport SortIcon from '@material-ui/icons/Sort';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport { shallowEqual } from 'react-redux';\nimport { useListSortContext, useTranslate, getFieldLabelTranslationArgs, } from 'ra-core';\n/**\n * A button allowing to change the sort field and order.\n *\n * To be used inside a ListContext (e.g. inside a <List> or <ReferenceManyField>)\n *\n * Expects one 'fields' prop, containing an array of field strings that shall\n * be used and displayed for sorting.\n *\n * When users clicks on the <SortButton>, they see a dropdown list with the\n * proposed sorting fields. Once they click on one of these fields, the related\n * list refreshes, re-sorted.\n *\n * @example\n *\n * import * as React from 'react';\n * import { TopToolbar, SortButton, CreateButton, ExportButton } from 'react-admin';\n *\n * const ListActions: FC = props => (\n *     <TopToolbar>\n *         <SortButton fields={['reference', 'sales', 'stock']} />\n *         <CreateButton basePath={props.basePath} />\n *         <ExportButton />\n *     </TopToolbar>\n * );\n */\nvar SortButton = function (_a) {\n    var fields = _a.fields, _b = _a.label, label = _b === void 0 ? 'ra.sort.sort_by' : _b, _c = _a.icon, icon = _c === void 0 ? defaultIcon : _c;\n    var _d = useListSortContext(), resource = _d.resource, currentSort = _d.currentSort, setSort = _d.setSort;\n    var translate = useTranslate();\n    var isXSmall = useMediaQuery(function (theme) {\n        return theme.breakpoints.down('xs');\n    });\n    var _e = React.useState(null), anchorEl = _e[0], setAnchorEl = _e[1];\n    var handleClick = function (event) {\n        setAnchorEl(event.currentTarget);\n    };\n    var handleClose = function () {\n        setAnchorEl(null);\n    };\n    var handleChangeSort = function (event) {\n        var field = event.currentTarget.dataset.sort;\n        setSort(field, field === currentSort.field\n            ? inverseOrder(currentSort.order)\n            : 'ASC');\n        setAnchorEl(null);\n    };\n    var buttonLabel = translate(label, {\n        field: translate.apply(void 0, getFieldLabelTranslationArgs({\n            resource: resource,\n            source: currentSort.field,\n        })),\n        order: translate(\"ra.sort.\" + currentSort.order),\n        _: label,\n    });\n    return (React.createElement(React.Fragment, null,\n        isXSmall ? (React.createElement(Tooltip, { title: buttonLabel },\n            React.createElement(IconButton, { \"aria-label\": buttonLabel, color: \"primary\", onClick: handleClick }, icon))) : (React.createElement(Button, { \"aria-controls\": \"simple-menu\", \"aria-haspopup\": \"true\", color: \"primary\", onClick: handleClick, startIcon: icon, endIcon: React.createElement(ArrowDropDownIcon, null), size: \"small\" }, buttonLabel)),\n        React.createElement(Menu, { id: \"simple-menu\", anchorEl: anchorEl, keepMounted: true, open: Boolean(anchorEl), onClose: handleClose }, fields.map(function (field) { return (React.createElement(MenuItem, { onClick: handleChangeSort, \"data-sort\": field, key: field },\n            translate.apply(void 0, getFieldLabelTranslationArgs({\n                resource: resource,\n                source: field,\n            })),\n            ' ',\n            translate(\"ra.sort.\" + (currentSort.field === field\n                ? inverseOrder(currentSort.order)\n                : 'ASC')))); }))));\n};\nvar defaultIcon = React.createElement(SortIcon, null);\nvar inverseOrder = function (sort) { return (sort === 'ASC' ? 'DESC' : 'ASC'); };\nvar arePropsEqual = function (prevProps, nextProps) {\n    return shallowEqual(prevProps.fields, nextProps.fields);\n};\nexport default memo(SortButton, arePropsEqual);\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { useCheckMinimumRequiredProps, useListController, ListContextProvider, } from 'ra-core';\nimport { TitlePropType } from '../layout/Title';\nimport ListView from './ListView';\n/**\n * List page component\n *\n * The <List> component renders the list layout (title, buttons, filters, pagination),\n * and fetches the list of records from the REST API.\n * It then delegates the rendering of the list of records to its child component.\n * Usually, it's a <Datagrid>, responsible for displaying a table with one row for each post.\n *\n * In Redux terms, <List> is a connected component, and <Datagrid> is a dumb component.\n *\n * The <List> component accepts the following props:\n *\n * - actions\n * - aside\n * - bulkActionButtons\n * - component\n * - empty\n * - exporter\n * - filter (the permanent filter to apply to the query)\n * - filterDefaultValues (the default values for `alwaysOn` filters)\n * - filters (a list of inputs used to display the filter button/form combo)\n * - pagination\n * - perPage\n * - sort\n * - title\n * - syncWithLocation\n *\n * @example\n *\n * const postFilters = [\n *     <TextInput label=\"Search\" source=\"q\" alwaysOn />,\n *     <TextInput label=\"Title\" source=\"title\" />\n * ];\n * export const PostList = (props) => (\n *     <List {...props}\n *         title=\"List of posts\"\n *         sort={{ field: 'published_at' }}\n *         filter={{ is_published: true }}\n *         filters={postFilters}\n *     >\n *         <Datagrid>\n *             <TextField source=\"id\" />\n *             <TextField source=\"title\" />\n *             <EditButton />\n *         </Datagrid>\n *     </List>\n * );\n */\nvar List = function (props) {\n    useCheckMinimumRequiredProps('List', ['children'], props);\n    var controllerProps = useListController(props);\n    return (React.createElement(ListContextProvider, { value: controllerProps },\n        React.createElement(ListView, __assign({}, props, controllerProps))));\n};\nList.propTypes = {\n    // the props you can change\n    // @ts-ignore-line\n    actions: PropTypes.oneOfType([PropTypes.bool, PropTypes.element]),\n    aside: PropTypes.element,\n    // @ts-ignore-line\n    bulkActionButtons: PropTypes.oneOfType([PropTypes.element, PropTypes.bool]),\n    children: PropTypes.element,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    filter: PropTypes.object,\n    filterDefaultValues: PropTypes.object,\n    filters: PropTypes.oneOfType([\n        PropTypes.element,\n        PropTypes.arrayOf(PropTypes.element),\n    ]),\n    // @ts-ignore-line\n    pagination: PropTypes.oneOfType([PropTypes.element, PropTypes.bool]),\n    perPage: PropTypes.number.isRequired,\n    //@ts-ignore-line\n    sort: PropTypes.shape({\n        field: PropTypes.string,\n        order: PropTypes.string,\n    }),\n    title: TitlePropType,\n    // the props managed by react-admin\n    authProvider: PropTypes.func,\n    hasCreate: PropTypes.bool,\n    hasEdit: PropTypes.bool,\n    hasList: PropTypes.bool,\n    hasShow: PropTypes.bool,\n    location: PropTypes.any,\n    match: PropTypes.any,\n    path: PropTypes.string,\n    resource: PropTypes.string,\n    syncWithLocation: PropTypes.bool,\n};\nList.defaultProps = {\n    filter: {},\n    perPage: 10,\n};\nexport default List;\n","import * as React from 'react';\nimport { ReferenceArrayField, SingleFieldList, ChipField } from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { Contact } from '../types';\n\nconst ColoredChipField = ({ record, ...props }: any) =>\n    record ? (\n        <ChipField\n            record={record}\n            {...props}\n            style={{ backgroundColor: record.color, border: 0 }}\n            component=\"span\"\n        />\n    ) : null;\n\nconst useStyles = makeStyles({\n    root: {\n        display: 'inline-block',\n    },\n});\n\nexport const TagsList = ({ record }: { record: Contact }) => {\n    const classes = useStyles();\n    if (!record) return null;\n    return (\n        <ReferenceArrayField\n            record={record}\n            basePath=\"/contacts\"\n            resource=\"contacts\"\n            source=\"tags\"\n            reference=\"tags\"\n            className={classes.root}\n        >\n            <SingleFieldList linkType={false} component=\"span\">\n                <ColoredChipField\n                    source=\"name\"\n                    variant=\"outlined\"\n                    size=\"small\"\n                />\n            </SingleFieldList>\n        </ReferenceArrayField>\n    );\n};\n","import { useContext } from 'react';\nimport ListFilterContext from './ListFilterContext';\n/**\n * Hook to read the list controller props from the ListContext.\n *\n * Must be used within a <ListContextProvider> (e.g. as a descendent of <List>\n * or <ListBase>).\n *\n * @typedef {Object} ListFilterContextValue\n * @prop {Object}   filterValues a dictionary of filter values, e.g. { title: 'lorem', nationality: 'fr' }\n * @prop {Function} setFilters a callback to update the filters, e.g. setFilters(filters, displayedFilters)\n * @prop {Object}   displayedFilters a dictionary of the displayed filters, e.g. { title: true, nationality: true }\n * @prop {Function} showFilter a callback to show one of the filters, e.g. showFilter('title', defaultValue)\n * @prop {Function} hideFilter a callback to hide one of the filters, e.g. hideFilter('title')\n * @prop {string}   resource the resource name, deduced from the location. e.g. 'posts'\n *\n * @returns {ListFilterContextValue} list controller props\n *\n * @see useListController for how it is filled\n */\nvar useListFilterContext = function (props) {\n    var context = useContext(ListFilterContext);\n    if (!context.hideFilter) {\n        /**\n         * The element isn't inside a <ListFilterContext.Provider>\n         *\n         * This may only happen when using Datagrid / SimpleList / SingleFieldList components\n         * outside of a List / ReferenceManyField / ReferenceArrayField -\n         * which isn't documented but tolerated.\n         * To avoid breakage in that case, fallback to props\n         *\n         * @deprecated - to be removed in 4.0\n         */\n        if (process.env.NODE_ENV !== 'production') {\n            console.log(\"List components must be used inside a <ListContextProvider>. Relying on props rather than context to get List data and callbacks is deprecated and won't be supported in the next major version of react-admin.\");\n        }\n        return props;\n    }\n    return context;\n};\nexport default useListFilterContext;\n","import lodashMemoize from 'lodash/memoize';\n/* eslint-disable no-underscore-dangle */\n/* @link http://stackoverflow.com/questions/46155/validate-email-address-in-javascript */\nvar EMAIL_REGEX = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/; // eslint-disable-line no-useless-escape\nvar isEmpty = function (value) {\n    return typeof value === 'undefined' ||\n        value === null ||\n        value === '' ||\n        (Array.isArray(value) && value.length === 0);\n};\n// type predicate, see https://www.typescriptlang.org/docs/handbook/2/narrowing.html#using-type-predicates\nfunction isValidationErrorMessageWithArgs(error) {\n    return error.hasOwnProperty('message');\n}\nvar getMessage = function (message, messageArgs, value, values) {\n    return typeof message === 'function'\n        ? message({\n            args: messageArgs,\n            value: value,\n            values: values,\n        })\n        : messageArgs\n            ? {\n                message: message,\n                args: messageArgs,\n            }\n            : message;\n};\n// If we define validation functions directly in JSX, it will\n// result in a new function at every render, and then trigger infinite re-render.\n// Hence, we memoize every built-in validator to prevent a \"Maximum call stack\" error.\nvar memoize = function (fn) {\n    return lodashMemoize(fn, function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return JSON.stringify(args);\n    });\n};\nvar isFunction = function (value) { return typeof value === 'function'; };\nexport var combine2Validators = function (validator1, validator2) {\n    return function (value, values, meta) {\n        var result1 = validator1(value, values, meta);\n        if (!result1) {\n            return validator2(value, values, meta);\n        }\n        if (typeof result1 === 'string' ||\n            isValidationErrorMessageWithArgs(result1)) {\n            return result1;\n        }\n        return result1.then(function (resolvedResult1) {\n            if (!resolvedResult1) {\n                return validator2(value, values, meta);\n            }\n            return resolvedResult1;\n        });\n    };\n};\n// Compose multiple validators into a single one for use with final-form\nexport var composeValidators = function () {\n    var validators = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        validators[_i] = arguments[_i];\n    }\n    var allValidators = (Array.isArray(validators[0])\n        ? validators[0]\n        : validators).filter(isFunction);\n    return allValidators.reduce(combine2Validators, function () { return null; });\n};\n// Compose multiple validators into a single one for use with final-form\nexport var composeSyncValidators = function () {\n    var validators = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        validators[_i] = arguments[_i];\n    }\n    return function (value, values, meta) {\n        var allValidators = (Array.isArray(validators[0])\n            ? validators[0]\n            : validators).filter(isFunction);\n        for (var _i = 0, allValidators_1 = allValidators; _i < allValidators_1.length; _i++) {\n            var validator = allValidators_1[_i];\n            var error = validator(value, values, meta);\n            if (error) {\n                return error;\n            }\n        }\n    };\n};\n/**\n * Required validator\n *\n * Returns an error if the value is null, undefined, or empty\n *\n * @param {string|Function} message\n *\n * @example\n *\n * const titleValidators = [required('The title is required')];\n * <TextInput name=\"title\" validate={titleValidators} />\n */\nexport var required = memoize(function (message) {\n    if (message === void 0) { message = 'ra.validation.required'; }\n    return Object.assign(function (value, values) {\n        return isEmpty(value)\n            ? getMessage(message, undefined, value, values)\n            : undefined;\n    }, { isRequired: true });\n});\n/**\n * Minimum length validator\n *\n * Returns an error if the value has a length less than the parameter\n *\n * @param {integer} min\n * @param {string|Function} message\n *\n * @example\n *\n * const passwordValidators = [minLength(10, 'Should be at least 10 characters')];\n * <TextInput type=\"password\" name=\"password\" validate={passwordValidators} />\n */\nexport var minLength = memoize(function (min, message) {\n    if (message === void 0) { message = 'ra.validation.minLength'; }\n    return function (value, values) {\n        return !isEmpty(value) && value.length < min\n            ? getMessage(message, { min: min }, value, values)\n            : undefined;\n    };\n});\n/**\n * Maximum length validator\n *\n * Returns an error if the value has a length higher than the parameter\n *\n * @param {integer} max\n * @param {string|Function} message\n *\n * @example\n *\n * const nameValidators = [maxLength(10, 'Should be at most 10 characters')];\n * <TextInput name=\"name\" validate={nameValidators} />\n */\nexport var maxLength = memoize(function (max, message) {\n    if (message === void 0) { message = 'ra.validation.maxLength'; }\n    return function (value, values) {\n        return !isEmpty(value) && value.length > max\n            ? getMessage(message, { max: max }, value, values)\n            : undefined;\n    };\n});\n/**\n * Minimum validator\n *\n * Returns an error if the value is less than the parameter\n *\n * @param {integer} min\n * @param {string|Function} message\n *\n * @example\n *\n * const fooValidators = [minValue(5, 'Should be more than 5')];\n * <NumberInput name=\"foo\" validate={fooValidators} />\n */\nexport var minValue = memoize(function (min, message) {\n    if (message === void 0) { message = 'ra.validation.minValue'; }\n    return function (value, values) {\n        return !isEmpty(value) && value < min\n            ? getMessage(message, { min: min }, value, values)\n            : undefined;\n    };\n});\n/**\n * Maximum validator\n *\n * Returns an error if the value is higher than the parameter\n *\n * @param {integer} max\n * @param {string|Function} message\n *\n * @example\n *\n * const fooValidators = [maxValue(10, 'Should be less than 10')];\n * <NumberInput name=\"foo\" validate={fooValidators} />\n */\nexport var maxValue = memoize(function (max, message) {\n    if (message === void 0) { message = 'ra.validation.maxValue'; }\n    return function (value, values) {\n        return !isEmpty(value) && value > max\n            ? getMessage(message, { max: max }, value, values)\n            : undefined;\n    };\n});\n/**\n * Number validator\n *\n * Returns an error if the value is not a number\n *\n * @param {string|Function} message\n *\n * @example\n *\n * const ageValidators = [number('Must be a number')];\n * <TextInput name=\"age\" validate={ageValidators} />\n */\nexport var number = memoize(function (message) {\n    if (message === void 0) { message = 'ra.validation.number'; }\n    return function (value, values) {\n        return !isEmpty(value) && isNaN(Number(value))\n            ? getMessage(message, undefined, value, values)\n            : undefined;\n    };\n});\n/**\n * Regular expression validator\n *\n * Returns an error if the value does not match the pattern given as parameter\n *\n * @param {RegExp} pattern\n * @param {string|Function} message\n *\n * @example\n *\n * const zipValidators = [regex(/^\\d{5}(?:[-\\s]\\d{4})?$/, 'Must be a zip code')];\n * <TextInput name=\"zip\" validate={zipValidators} />\n */\nexport var regex = lodashMemoize(function (pattern, message) {\n    if (message === void 0) { message = 'ra.validation.regex'; }\n    return function (value, values) {\n        return !isEmpty(value) && typeof value === 'string' && !pattern.test(value)\n            ? getMessage(message, { pattern: pattern }, value, values)\n            : undefined;\n    };\n}, function (pattern, message) {\n    return pattern.toString() + message;\n});\n/**\n * Email validator\n *\n * Returns an error if the value is not a valid email\n *\n * @param {string|Function} message\n *\n * @example\n *\n * const emailValidators = [email('Must be an email')];\n * <TextInput name=\"email\" validate={emailValidators} />\n */\nexport var email = memoize(function (message) {\n    if (message === void 0) { message = 'ra.validation.email'; }\n    return regex(EMAIL_REGEX, message);\n});\nvar oneOfTypeMessage = function (_a) {\n    var args = _a.args;\n    return ({\n        message: 'ra.validation.oneOf',\n        args: args,\n    });\n};\n/**\n * Choices validator\n *\n * Returns an error if the value is not among the list passed as parameter\n *\n * @param {array} list\n * @param {string|Function} message\n *\n * @example\n *\n * const genderValidators = [choices(['male', 'female'], 'Must be either Male or Female')];\n * <TextInput name=\"gender\" validate={genderValidators} />\n */\nexport var choices = memoize(function (list, message) {\n    if (message === void 0) { message = oneOfTypeMessage; }\n    return function (value, values) {\n        return !isEmpty(value) && list.indexOf(value) === -1\n            ? getMessage(message, { list: list }, value, values)\n            : undefined;\n    };\n});\n","var isRequired = function (validate) {\n    if (validate && validate.isRequired) {\n        return true;\n    }\n    if (Array.isArray(validate)) {\n        return validate.some(function (it) { return it.isRequired; });\n    }\n    return false;\n};\nexport default isRequired;\n","import { createContext } from 'react';\n/**\n * Context allowing inputs to register to a specific group.\n * This enables other components in the group to access group properties such as its\n * validation (valid/invalid) or whether its inputs have been updated (dirty/pristine).\n *\n * This should only be used through a FormGroupContextProvider.\n */\nexport var FormGroupContext = createContext(undefined);\n","import { createContext } from 'react';\nexport var FormContext = createContext(undefined);\n","import { useContext } from 'react';\nimport { FormContext } from './FormContext';\n/**\n * Retrieve the form context enabling consumers to alter its save function or to register inputs inside a form group.\n * @returns {FormContext} The form context.\n */\nexport var useFormContext = function () { return useContext(FormContext); };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { useCallback, useEffect } from 'react';\nimport { useField as useFinalFormField, useForm, } from 'react-final-form';\nimport { composeValidators } from './validate';\nimport isRequired from './isRequired';\nimport { useFormGroupContext } from './useFormGroupContext';\nimport { useFormContext } from './useFormContext';\nimport { useRecordContext } from '../controller';\nvar useInput = function (_a) {\n    var defaultValue = _a.defaultValue, initialValue = _a.initialValue, id = _a.id, name = _a.name, source = _a.source, validate = _a.validate, customOnBlur = _a.onBlur, customOnChange = _a.onChange, customOnFocus = _a.onFocus, isRequiredOption = _a.isRequired, options = __rest(_a, [\"defaultValue\", \"initialValue\", \"id\", \"name\", \"source\", \"validate\", \"onBlur\", \"onChange\", \"onFocus\", \"isRequired\"]);\n    var finalName = name || source;\n    var formGroupName = useFormGroupContext();\n    var formContext = useFormContext();\n    var record = useRecordContext();\n    useEffect(function () {\n        if (!formContext || !formGroupName) {\n            return;\n        }\n        formContext.registerField(source, formGroupName);\n        return function () {\n            formContext.unregisterField(source, formGroupName);\n        };\n    }, [formContext, formGroupName, source]);\n    var sanitizedValidate = Array.isArray(validate)\n        ? composeValidators(validate)\n        : validate;\n    var _b = useFinalFormField(finalName, __assign({ initialValue: initialValue,\n        defaultValue: defaultValue, validate: sanitizedValidate }, options)), input = _b.input, meta = _b.meta;\n    // Extract the event handlers so that we can provide ours\n    // allowing users to provide theirs without breaking the form\n    var onBlur = input.onBlur, onChange = input.onChange, onFocus = input.onFocus, inputProps = __rest(input, [\"onBlur\", \"onChange\", \"onFocus\"]);\n    var handleBlur = useCallback(function (event) {\n        onBlur(event);\n        if (typeof customOnBlur === 'function') {\n            customOnBlur(event);\n        }\n    }, [onBlur, customOnBlur]);\n    var handleChange = useCallback(function (event) {\n        onChange(event);\n        if (typeof customOnChange === 'function') {\n            customOnChange(event);\n        }\n    }, [onChange, customOnChange]);\n    var handleFocus = useCallback(function (event) {\n        onFocus(event);\n        if (typeof customOnFocus === 'function') {\n            customOnFocus(event);\n        }\n    }, [onFocus, customOnFocus]);\n    // Every time the record changes and didn't include a value for this field\n    var form = useForm();\n    var recordId = record === null || record === void 0 ? void 0 : record.id;\n    useEffect(function () {\n        if (input.value != null && input.value !== '') {\n            return;\n        }\n        // Apply the default value if provided\n        // We use a change here which will make the form dirty but this is expected\n        // and identical to what FinalForm does (https://final-form.org/docs/final-form/types/FieldConfig#defaultvalue)\n        if (defaultValue != null) {\n            form.change(source, defaultValue);\n        }\n        if (initialValue != null) {\n            form.batch(function () {\n                form.change(source, initialValue);\n                form.resetFieldState(source);\n            });\n        }\n    }, [recordId, input.value, defaultValue, initialValue, source, form]);\n    // If there is an input prop, this input has already been enhanced by final-form\n    // This is required in for inputs used inside other inputs (such as the SelectInput inside a ReferenceInput)\n    if (options.input) {\n        return {\n            id: id || source,\n            input: options.input,\n            meta: options.meta,\n            isRequired: isRequiredOption || isRequired(validate),\n        };\n    }\n    return {\n        id: id || source,\n        input: __assign(__assign({}, inputProps), { onBlur: handleBlur, onChange: handleChange, onFocus: handleFocus }),\n        meta: meta,\n        isRequired: isRequiredOption || isRequired(validate),\n    };\n};\nexport default useInput;\n","import { useContext } from 'react';\nimport { FormGroupContext } from './FormGroupContext';\n/**\n * Retrieve the name of the form group the consumer belongs to. May be undefined if the consumer is not inside a form group.\n */\nexport var useFormGroupContext = function () {\n    var context = useContext(FormGroupContext);\n    return context;\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { InputAdornment, IconButton, TextField as MuiTextField, } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport { useTranslate } from 'ra-core';\n/**\n * An override of the default Material-UI TextField which is resettable\n */\nfunction ResettableTextField(props) {\n    var classesOverride = props.classes, clearAlwaysVisible = props.clearAlwaysVisible, InputProps = props.InputProps, value = props.value, resettable = props.resettable, disabled = props.disabled, _a = props.variant, variant = _a === void 0 ? 'filled' : _a, _b = props.margin, margin = _b === void 0 ? 'dense' : _b, rest = __rest(props, [\"classes\", \"clearAlwaysVisible\", \"InputProps\", \"value\", \"resettable\", \"disabled\", \"variant\", \"margin\"]);\n    var classes = useStyles(props);\n    var translate = useTranslate();\n    var onChange = props.onChange, onFocus = props.onFocus, onBlur = props.onBlur;\n    var handleClickClearButton = useCallback(function (event) {\n        event.preventDefault();\n        onChange('');\n    }, [onChange]);\n    var handleFocus = useCallback(function (event) {\n        onFocus && onFocus(event);\n    }, [onFocus]);\n    var handleBlur = useCallback(function (event) {\n        onBlur && onBlur(event);\n    }, [onBlur]);\n    var clearButton = classes.clearButton, clearIcon = classes.clearIcon, inputAdornedEnd = classes.inputAdornedEnd, selectAdornment = classes.selectAdornment, visibleClearIcon = classes.visibleClearIcon, restClasses = __rest(classes, [\"clearButton\", \"clearIcon\", \"inputAdornedEnd\", \"selectAdornment\", \"visibleClearIcon\"]);\n    var _c = InputProps || {}, endAdornment = _c.endAdornment, InputPropsWithoutEndAdornment = __rest(_c, [\"endAdornment\"]);\n    if (clearAlwaysVisible && endAdornment) {\n        throw new Error('ResettableTextField cannot display both an endAdornment and a clear button always visible');\n    }\n    var getEndAdornment = function () {\n        var _a;\n        if (!resettable) {\n            return endAdornment;\n        }\n        else if (!value) {\n            if (clearAlwaysVisible) {\n                // show clear button, inactive\n                return (React.createElement(InputAdornment, { position: \"end\", classes: {\n                        root: props.select ? selectAdornment : null,\n                    } },\n                    React.createElement(IconButton, { className: clearButton, \"aria-label\": translate('ra.action.clear_input_value'), title: translate('ra.action.clear_input_value'), disableRipple: true, disabled: true },\n                        React.createElement(ClearIcon, { className: classNames(clearIcon, visibleClearIcon) }))));\n            }\n            else {\n                if (endAdornment) {\n                    return endAdornment;\n                }\n                else {\n                    // show spacer\n                    return (React.createElement(InputAdornment, { position: \"end\", classes: {\n                            root: props.select ? selectAdornment : null,\n                        } },\n                        React.createElement(\"span\", { className: clearButton }, \"\\u00A0\")));\n                }\n            }\n        }\n        else {\n            // show clear\n            return (React.createElement(InputAdornment, { position: \"end\", classes: {\n                    root: props.select ? selectAdornment : null,\n                } },\n                React.createElement(IconButton, { className: clearButton, \"aria-label\": translate('ra.action.clear_input_value'), title: translate('ra.action.clear_input_value'), disableRipple: true, onClick: handleClickClearButton, onMouseDown: handleMouseDownClearButton, disabled: disabled },\n                    React.createElement(ClearIcon, { className: classNames(clearIcon, (_a = {},\n                            _a[visibleClearIcon] = clearAlwaysVisible || value,\n                            _a)) }))));\n        }\n    };\n    return (React.createElement(MuiTextField, __assign({ classes: restClasses, value: value, InputProps: __assign({ classes: props.select && variant === 'filled'\n                ? { adornedEnd: inputAdornedEnd }\n                : {}, endAdornment: getEndAdornment() }, InputPropsWithoutEndAdornment), disabled: disabled, variant: variant, margin: margin }, rest, { onFocus: handleFocus, onBlur: handleBlur })));\n}\nvar useStyles = makeStyles({\n    clearIcon: {\n        height: 16,\n        width: 0,\n    },\n    visibleClearIcon: {\n        width: 16,\n    },\n    clearButton: {\n        height: 24,\n        width: 24,\n        padding: 0,\n    },\n    selectAdornment: {\n        position: 'absolute',\n        right: 24,\n    },\n    inputAdornedEnd: {\n        paddingRight: 0,\n    },\n}, { name: 'RaResettableTextField' });\nvar handleMouseDownClearButton = function (event) {\n    event.preventDefault();\n};\nResettableTextField.propTypes = {\n    classes: PropTypes.object,\n    clearAlwaysVisible: PropTypes.bool,\n    disabled: PropTypes.bool,\n    InputProps: PropTypes.object,\n    onBlur: PropTypes.func,\n    onChange: PropTypes.func.isRequired,\n    onFocus: PropTypes.func,\n    resettable: PropTypes.bool,\n    value: PropTypes.any.isRequired,\n};\nexport default ResettableTextField;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { useTranslate } from '../i18n';\nvar ValidationError = function (_a) {\n    var error = _a.error;\n    var translate = useTranslate();\n    if (error.message) {\n        var _b = error, message = _b.message, args = _b.args;\n        return React.createElement(React.Fragment, null, translate(message, __assign({ _: message }, args)));\n    }\n    return React.createElement(React.Fragment, null, translate(error, { _: error }));\n};\nexport default ValidationError;\n","import * as React from 'react';\nimport { useTranslate, ValidationError } from 'ra-core';\nvar InputHelperText = function (_a) {\n    var helperText = _a.helperText, touched = _a.touched, error = _a.error;\n    var translate = useTranslate();\n    return touched && error ? (React.createElement(ValidationError, { error: error })) : typeof helperText === 'string' ? (React.createElement(React.Fragment, null, translate(helperText, { _: helperText }))) : helperText !== false ? (\n    // material-ui's HelperText cannot reserve space unless we pass a single\n    // space as child, which isn't possible when the child is a component.\n    // Therefore, we must reserve the space ourselves by passing the same\n    // markup as material-ui.\n    // @see https://github.com/mui-org/material-ui/blob/62e439b7022d519ab638d65201e204b59b77f8da/packages/material-ui/src/FormHelperText/FormHelperText.js#L85-L90\n    // eslint-disable-next-line react/no-danger\n    React.createElement(\"span\", { dangerouslySetInnerHTML: defaultInnerHTML })) : null;\n};\nvar defaultInnerHTML = { __html: '&#8203;' };\nexport default InputHelperText;\n","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar sanitizeInputRestProps = function (_a) {\n    var afterSubmit = _a.afterSubmit, allowEmpty = _a.allowEmpty, allowNull = _a.allowNull, alwaysOn = _a.alwaysOn, basePath = _a.basePath, beforeSubmit = _a.beforeSubmit, component = _a.component, data = _a.data, defaultValue = _a.defaultValue, error = _a.error, format = _a.format, formatOnBlur = _a.formatOnBlur, formClassName = _a.formClassName, initialValue = _a.initialValue, initializeForm = _a.initializeForm, input = _a.input, isEqual = _a.isEqual, isRequired = _a.isRequired, label = _a.label, limitChoicesToValue = _a.limitChoicesToValue, locale = _a.locale, meta = _a.meta, multiple = _a.multiple, name = _a.name, options = _a.options, optionText = _a.optionText, optionValue = _a.optionValue, parse = _a.parse, record = _a.record, ref = _a.ref, render = _a.render, resource = _a.resource, source = _a.source, submitError = _a.submitError, subscription = _a.subscription, textAlign = _a.textAlign, translate = _a.translate, translateChoice = _a.translateChoice, type = _a.type, validate = _a.validate, validateFields = _a.validateFields, value = _a.value, rest = __rest(_a, [\"afterSubmit\", \"allowEmpty\", \"allowNull\", \"alwaysOn\", \"basePath\", \"beforeSubmit\", \"component\", \"data\", \"defaultValue\", \"error\", \"format\", \"formatOnBlur\", \"formClassName\", \"initialValue\", \"initializeForm\", \"input\", \"isEqual\", \"isRequired\", \"label\", \"limitChoicesToValue\", \"locale\", \"meta\", \"multiple\", \"name\", \"options\", \"optionText\", \"optionValue\", \"parse\", \"record\", \"ref\", \"render\", \"resource\", \"source\", \"submitError\", \"subscription\", \"textAlign\", \"translate\", \"translateChoice\", \"type\", \"validate\", \"validateFields\", \"value\"]);\n    return rest;\n};\nexport default sanitizeInputRestProps;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { useInput, FieldTitle } from 'ra-core';\nimport ResettableTextField from './ResettableTextField';\nimport InputHelperText from './InputHelperText';\nimport sanitizeInputRestProps from './sanitizeInputRestProps';\n/**\n * An Input component for a string\n *\n * @example\n * <TextInput source=\"first_name\" />\n *\n * You can customize the `type` props (which defaults to \"text\").\n * Note that, due to a React bug, you should use `<NumberField>` instead of using type=\"number\".\n * @example\n * <TextInput source=\"email\" type=\"email\" />\n * <NumberInput source=\"nb_views\" />\n *\n * The object passed as `options` props is passed to the <ResettableTextField> component\n */\nvar TextInput = function (_a) {\n    var label = _a.label, format = _a.format, helperText = _a.helperText, onBlur = _a.onBlur, onFocus = _a.onFocus, onChange = _a.onChange, options = _a.options, parse = _a.parse, resource = _a.resource, source = _a.source, validate = _a.validate, rest = __rest(_a, [\"label\", \"format\", \"helperText\", \"onBlur\", \"onFocus\", \"onChange\", \"options\", \"parse\", \"resource\", \"source\", \"validate\"]);\n    var _b = useInput(__assign({ format: format,\n        onBlur: onBlur,\n        onChange: onChange,\n        onFocus: onFocus,\n        parse: parse,\n        resource: resource,\n        source: source, type: 'text', validate: validate }, rest)), id = _b.id, input = _b.input, isRequired = _b.isRequired, _c = _b.meta, error = _c.error, submitError = _c.submitError, touched = _c.touched;\n    return (React.createElement(ResettableTextField, __assign({ id: id }, input, { label: React.createElement(FieldTitle, { label: label, source: source, resource: resource, isRequired: isRequired }), error: !!(touched && (error || submitError)), helperText: React.createElement(InputHelperText, { touched: touched, error: error || submitError, helperText: helperText }) }, options, sanitizeInputRestProps(rest))));\n};\nTextInput.propTypes = {\n    className: PropTypes.string,\n    label: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n    options: PropTypes.object,\n    resource: PropTypes.string,\n    source: PropTypes.string,\n};\nTextInput.defaultProps = {\n    options: {},\n};\nexport default TextInput;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { memo, useMemo } from 'react';\nimport { InputAdornment } from '@material-ui/core';\nimport SearchIcon from '@material-ui/icons/Search';\nimport { Form } from 'react-final-form';\nimport { useTranslate, useListFilterContext } from 'ra-core';\nimport TextInput from '../../input/TextInput';\n/**\n * Form and search input for doing a full-text search filter.\n *\n * Triggers a search on change (with debounce).\n *\n * @example\n *\n * const FilterPanel = () => (\n *     <Card>\n *         <CardContent>\n *             <FilterLiveSearch source=\"title\" />\n *         </CardContent>\n *     </Card>\n * );\n */\nvar FilterLiveSearch = function (props) {\n    var _a = props.source, source = _a === void 0 ? 'q' : _a, rest = __rest(props, [\"source\"]);\n    var _b = useListFilterContext(), filterValues = _b.filterValues, setFilters = _b.setFilters;\n    var translate = useTranslate();\n    var onSearchChange = function (event) {\n        var _a;\n        if (event.target) {\n            setFilters(__assign(__assign({}, filterValues), (_a = {}, _a[source] = event.target.value, _a)), null);\n        }\n        else {\n            var _b = filterValues, _c = source, _1 = _b[_c], filters = __rest(_b, [typeof _c === \"symbol\" ? _c : _c + \"\"]);\n            setFilters(filters, null);\n        }\n    };\n    var initialValues = useMemo(function () {\n        var _a;\n        return (_a = {},\n            _a[source] = filterValues[source],\n            _a);\n    }, [filterValues, source]);\n    var onSubmit = function () { return undefined; };\n    return (React.createElement(Form, { initialValues: initialValues, onSubmit: onSubmit }, function () { return (React.createElement(TextInput, __assign({ resettable: true, helperText: false, source: source, label: translate('ra.action.search'), InputProps: {\n            endAdornment: (React.createElement(InputAdornment, { position: \"end\" },\n                React.createElement(SearchIcon, { color: \"disabled\" }))),\n        }, onChange: onSearchChange }, rest))); }));\n};\nexport default memo(FilterLiveSearch);\n","import * as React from 'react';\nimport { Box, Typography, List } from '@material-ui/core';\nimport { useTranslate } from 'ra-core';\n/**\n * Header and container for a list of filter list items\n *\n * Expects 2 props, and a list of <FilterListItem> as children:\n *\n * - label: The label for this filter section. Will be translated.\n * - icon: An icon react element\n *\n * @see FilterListItem\n *\n * @example\n *\n * import * as React from 'react';\n * import { Card, CardContent } from '@material-ui/core';\n * import MailIcon from '@material-ui/icons/MailOutline';\n * import { FilterList, FilterListItem } from 'react-admin';\n *\n * const FilterSidebar = () => (\n *     <Card>\n *         <CardContent>\n *             <FilterList\n *                 label=\"Subscribed to newsletter\"\n *                 icon={<MailIcon />}\n *             >\n *                 <FilterListItem\n *                     label=\"Yes\"\n *                     value={{ has_newsletter: true }}\n *                  />\n *                 <FilterListItem\n *                     label=\"No\"\n *                     value={{ has_newsletter: false }}\n *                  />\n *             </FilterList>\n *         </CardContent>\n *     </Card>\n * );\n */\nvar FilterList = function (_a) {\n    var label = _a.label, icon = _a.icon, children = _a.children;\n    var translate = useTranslate();\n    return (React.createElement(React.Fragment, null,\n        React.createElement(Box, { mt: 2, display: \"flex\", alignItems: \"center\" },\n            React.createElement(Box, { mr: 1 }, icon),\n            React.createElement(Typography, { variant: \"overline\" }, translate(label))),\n        React.createElement(List, { dense: true, disablePadding: true }, children)));\n};\nexport default FilterList;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { memo, isValidElement } from 'react';\nimport { IconButton, ListItem, ListItemText, ListItemSecondaryAction, } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CancelIcon from '@material-ui/icons/CancelOutlined';\nimport { useTranslate, useListFilterContext } from 'ra-core';\nimport { shallowEqual } from 'react-redux';\nimport matches from 'lodash/matches';\nimport pickBy from 'lodash/pickBy';\nvar useStyles = makeStyles(function (theme) { return ({\n    listItem: {\n        paddingLeft: '2em',\n    },\n    listItemText: {\n        margin: 0,\n    },\n}); });\n/**\n * Button to enable/disable a list filter.\n *\n * Expects 2 props:\n *\n * - label: The text (or React element) to be displayed for this item.\n *   If it's a string, the component will translate it.\n * - value: An object to be merged into the filter value when enabling the filter\n *   (e.g. { is_published: true, published_at_gte: '2020-07-08' })\n *\n * @example\n *\n * import * as React from 'react';\n * import { Card, CardContent } from '@material-ui/core';\n * import MailIcon from '@material-ui/icons/MailOutline';\n * import { FilterList, FilterListItem } from 'react-admin';\n *\n * const FilterSidebar = () => (\n *     <Card>\n *         <CardContent>\n *             <FilterList\n *                 label=\"Subscribed to newsletter\"\n *                 icon={<MailIcon />}\n *             >\n *                 <FilterListItem\n *                     label=\"Yes\"\n *                     value={{ has_newsletter: true }}\n *                  />\n *                 <FilterListItem\n *                     label=\"No\"\n *                     value={{ has_newsletter: false }}\n *                  />\n *             </FilterList>\n *         </CardContent>\n *     </Card>\n * );\n *\n * @example // The value prop can contain multiple keys\n *\n * import * as React from 'react';\n * import {\n *     endOfYesterday,\n *     startOfWeek,\n *     subWeeks,\n *     startOfMonth,\n *     subMonths,\n * } from 'date-fns';\n * import { Card, CardContent } from '@material-ui/core';\n * import AccessTimeIcon from '@material-ui/icons/AccessTime';\n * import { FilterList, FilterListItem } from 'react-admin';\n *\n * const FilterSidebar = () => (\n *     <Card>\n *         <CardContent>\n *             <FilterList\n *                 label=\"Last visited\"\n *                 icon={<AccessTimeIcon />}\n *             >\n *                 <FilterListItem\n *                     label=\"Today\"\n *                     value={{\n *                         last_seen_gte: endOfYesterday().toISOString(),\n *                         last_seen_lte: undefined,\n *                     }}\n *                 />\n *                 <FilterListItem\n *                     label=\"This week\"\n *                     value={{\n *                         last_seen_gte: startOfWeek(\n *                             new Date()\n *                         ).toISOString(),\n *                         last_seen_lte: undefined,\n *                     }}\n *                 />\n *                 <FilterListItem\n *                     label=\"Last week\"\n *                     value={{\n *                         last_seen_gte: subWeeks(\n *                             startOfWeek(new Date()),\n *                             1\n *                         ).toISOString(),\n *                         last_seen_lte: startOfWeek(\n *                             new Date()\n *                         ).toISOString(),\n *                     }}\n *                 />\n *                 <FilterListItem\n *                     label=\"This month\"\n *                     value={{\n *                         last_seen_gte: startOfMonth(\n *                             new Date()\n *                         ).toISOString(),\n *                         last_seen_lte: undefined,\n *                     }}\n *                 />\n *                 <FilterListItem\n *                     label=\"Last month\"\n *                     value={{\n *                         last_seen_gte: subMonths(\n *                             startOfMonth(new Date()),\n *                             1\n *                         ).toISOString(),\n *                         last_seen_lte: startOfMonth(\n *                             new Date()\n *                         ).toISOString(),\n *                     }}\n *                 />\n *                 <FilterListItem\n *                     label=\"Earlier\"\n *                     value={{\n *                         last_seen_gte: undefined,\n *                         last_seen_lte: subMonths(\n *                             startOfMonth(new Date()),\n *                             1\n *                         ).toISOString(),\n *                     }}\n *                 />\n *             </FilterList>\n *         </CardContent>\n *     </Card>\n * );\n */\nvar FilterListItem = function (props) {\n    var label = props.label, value = props.value;\n    var _a = useListFilterContext(), filterValues = _a.filterValues, setFilters = _a.setFilters;\n    var translate = useTranslate();\n    var classes = useStyles(props);\n    var isSelected = matches(pickBy(value, function (val) { return typeof val !== 'undefined'; }))(filterValues);\n    var addFilter = function () {\n        setFilters(__assign(__assign({}, filterValues), value), null, false);\n    };\n    var removeFilter = function () {\n        var keysToRemove = Object.keys(value);\n        var filters = Object.keys(filterValues).reduce(function (acc, key) {\n            var _a;\n            return keysToRemove.includes(key)\n                ? acc\n                : __assign(__assign({}, acc), (_a = {}, _a[key] = filterValues[key], _a));\n        }, {});\n        setFilters(filters, null, false);\n    };\n    var toggleFilter = function () { return (isSelected ? removeFilter() : addFilter()); };\n    return (React.createElement(ListItem, { button: true, onClick: toggleFilter, selected: isSelected, className: classes.listItem },\n        React.createElement(ListItemText, { primary: isValidElement(label)\n                ? label\n                : translate(label, { _: label }), className: classes.listItemText, \"data-selected\": isSelected ? 'true' : 'false' }),\n        isSelected && (React.createElement(ListItemSecondaryAction, null,\n            React.createElement(IconButton, { size: \"small\", onClick: toggleFilter },\n                React.createElement(CancelIcon, null))))));\n};\nvar arePropsEqual = function (prevProps, nextProps) {\n    return prevProps.label === nextProps.label &&\n        shallowEqual(prevProps.value, nextProps.value);\n};\nexport default memo(FilterListItem, arePropsEqual);\n","/* eslint-disable import/no-anonymous-default-export */\nimport * as React from 'react';\nimport {\n    FilterList,\n    FilterLiveSearch,\n    FilterListItem,\n    useGetIdentity,\n    useGetList,\n} from 'react-admin';\nimport { Box, Chip } from '@material-ui/core';\nimport AccessTimeIcon from '@material-ui/icons/AccessTime';\nimport TrendingUpIcon from '@material-ui/icons/TrendingUp';\nimport LocalOfferIcon from '@material-ui/icons/LocalOffer';\nimport SupervisorAccountIcon from '@material-ui/icons/SupervisorAccount';\nimport { endOfYesterday, startOfWeek, startOfMonth, subMonths } from 'date-fns';\n\nimport { Status } from '../misc/Status';\n\nexport const ContactListFilter = () => {\n    const { identity } = useGetIdentity();\n    const { data, ids } = useGetList(\n        'tags',\n        { page: 1, perPage: 10 },\n        { field: 'name', order: 'ASC' }\n    );\n    return (\n        <Box width=\"15em\" order=\"-1\" marginRight=\"1em\">\n            <FilterLiveSearch />\n            <FilterList label=\"Last seen\" icon={<AccessTimeIcon />}>\n                <FilterListItem\n                    label=\"Today\"\n                    value={{\n                        last_seen_gte: endOfYesterday().toISOString(),\n                        last_seen_lte: undefined,\n                    }}\n                />\n                <FilterListItem\n                    label=\"This week\"\n                    value={{\n                        last_seen_gte: startOfWeek(new Date()).toISOString(),\n                        last_seen_lte: undefined,\n                    }}\n                />\n                <FilterListItem\n                    label=\"Before this week\"\n                    value={{\n                        last_seen_gte: undefined,\n                        last_seen_lte: startOfWeek(new Date()).toISOString(),\n                    }}\n                />\n                <FilterListItem\n                    label=\"Before this month\"\n                    value={{\n                        last_seen_gte: undefined,\n                        last_seen_lte: startOfMonth(new Date()).toISOString(),\n                    }}\n                />\n                <FilterListItem\n                    label=\"Before last month\"\n                    value={{\n                        last_seen_gte: undefined,\n                        last_seen_lte: subMonths(\n                            startOfMonth(new Date()),\n                            1\n                        ).toISOString(),\n                    }}\n                />\n            </FilterList>\n            <FilterList label=\"Status\" icon={<TrendingUpIcon />}>\n                <FilterListItem\n                    label={\n                        <>\n                            Cold <Status status=\"cold\" />\n                        </>\n                    }\n                    value={{\n                        status: 'cold',\n                    }}\n                />\n                <FilterListItem\n                    label={\n                        <>\n                            Warm <Status status=\"warm\" />\n                        </>\n                    }\n                    value={{\n                        status: 'warm',\n                    }}\n                />\n                <FilterListItem\n                    label={\n                        <>\n                            Hot <Status status=\"hot\" />\n                        </>\n                    }\n                    value={{\n                        status: 'hot',\n                    }}\n                />\n                <FilterListItem\n                    label={\n                        <>\n                            In contract <Status status=\"in-contract\" />\n                        </>\n                    }\n                    value={{\n                        status: 'in-contract',\n                    }}\n                />\n            </FilterList>\n            <FilterList label=\"Tags\" icon={<LocalOfferIcon />}>\n                {ids &&\n                    data &&\n                    ids.map(id => (\n                        <FilterListItem\n                            key={id}\n                            label={\n                                <Chip\n                                    label={data[id]?.name}\n                                    size=\"small\"\n                                    style={{\n                                        backgroundColor: data[id]?.color,\n                                        border: 0,\n                                        cursor: 'pointer',\n                                    }}\n                                />\n                            }\n                            value={{ tags: [id] }}\n                        />\n                    ))}\n            </FilterList>\n            <FilterList\n                label=\"Account manager\"\n                icon={<SupervisorAccountIcon />}\n            >\n                <FilterListItem\n                    label=\"Me\"\n                    value={{\n                        sales_id: identity && identity.id,\n                    }}\n                />\n            </FilterList>\n        </Box>\n    );\n};\n","/* eslint-disable import/no-anonymous-default-export */\nimport * as React from 'react';\nimport {\n    List as RaList,\n    ListProps,\n    SimpleListLoading,\n    ReferenceField,\n    TextField,\n    useListContext,\n    ExportButton,\n    SortButton,\n    TopToolbar,\n    CreateButton,\n    Pagination,\n    useGetIdentity,\n} from 'react-admin';\nimport {\n    List,\n    ListItem,\n    ListItemAvatar,\n    ListItemIcon,\n    ListItemSecondaryAction,\n    ListItemText,\n    Checkbox,\n    Typography,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport { formatDistance } from 'date-fns';\n\nimport { Avatar } from './Avatar';\nimport { Status } from '../misc/Status';\nimport { TagsList } from './TagsList';\nimport { ContactListFilter } from './ContactListFilter';\nimport { Contact } from '../types';\n\nconst ContactListContent = () => {\n    const { data, ids, loaded, onToggleItem, selectedIds } = useListContext<\n        Contact\n    >();\n    const now = Date.now();\n    if (loaded === false) {\n        return <SimpleListLoading hasLeftAvatarOrIcon hasSecondaryText />;\n    }\n\n    return (\n        <List>\n            {ids.map(id => {\n                const contact = data[id];\n                return (\n                    <ListItem\n                        button\n                        key={id}\n                        component={Link}\n                        to={`/contacts/${id}/show`}\n                    >\n                        <ListItemIcon>\n                            <Checkbox\n                                edge=\"start\"\n                                checked={selectedIds.includes(id)}\n                                tabIndex={-1}\n                                disableRipple\n                                onClick={e => {\n                                    e.stopPropagation();\n                                    onToggleItem(id);\n                                }}\n                            />\n                        </ListItemIcon>\n                        <ListItemAvatar>\n                            <Avatar record={contact} />\n                        </ListItemAvatar>\n                        <ListItemText\n                            primary={`${contact.first_name} ${contact.last_name}`}\n                            secondary={\n                                <>\n                                    {contact.title} at{' '}\n                                    <ReferenceField\n                                        record={contact}\n                                        source=\"company_id\"\n                                        reference=\"companies\"\n                                        basePath=\"/companies\"\n                                        link={false}\n                                    >\n                                        <TextField source=\"name\" />\n                                    </ReferenceField>{' '}\n                                    {contact.nb_notes &&\n                                        `- ${contact.nb_notes} notes `}\n                                    <TagsList record={contact} />\n                                </>\n                            }\n                        />\n                        <ListItemSecondaryAction>\n                            <Typography variant=\"body2\" color=\"textSecondary\">\n                                last activity{' '}\n                                {formatDistance(\n                                    new Date(contact.last_seen),\n                                    now\n                                )}{' '}\n                                ago <Status status={contact.status} />\n                            </Typography>\n                        </ListItemSecondaryAction>\n                    </ListItem>\n                );\n            })}\n        </List>\n    );\n};\n\nconst useActionStyles = makeStyles(theme => ({\n    createButton: {\n        marginLeft: theme.spacing(2),\n    },\n}));\nconst ContactListActions = () => {\n    const classes = useActionStyles();\n    return (\n        <TopToolbar>\n            <SortButton fields={['last_name', 'first_name', 'last_seen']} />\n            <ExportButton />\n            <CreateButton\n                basePath=\"/contacts\"\n                variant=\"contained\"\n                label=\"New Contact\"\n                className={classes.createButton}\n            />\n        </TopToolbar>\n    );\n};\n\nexport const ContactList = (props: ListProps) => {\n    const { identity } = useGetIdentity();\n    return identity ? (\n        <RaList\n            {...props}\n            actions={<ContactListActions />}\n            aside={<ContactListFilter />}\n            perPage={25}\n            pagination={<Pagination rowsPerPageOptions={[10, 25, 50, 100]} />}\n            filterDefaultValues={{ sales_id: identity?.id }}\n            sort={{ field: 'last_seen', order: 'DESC' }}\n        >\n            <ContactListContent />\n        </RaList>\n    ) : null;\n};\n","import { createContext } from 'react';\n/**\n * Context to store the result of the useEditController() hook.\n *\n * Use the useEditContext() hook to read the context. That's what the Edit components do in react-admin.\n *\n * @example\n *\n * import { useEditController, EditContextProvider } from 'ra-core';\n *\n * const Edit = props => {\n *     const controllerProps = useEditController(props);\n *     return (\n *         <EditContextProvider value={controllerProps}>\n *             ...\n *         </EditContextProvider>\n *     );\n * };\n */\nexport var EditContext = createContext({\n    basePath: null,\n    record: null,\n    defaultTitle: null,\n    loaded: null,\n    loading: null,\n    onFailureRef: null,\n    onSuccessRef: null,\n    transformRef: null,\n    redirect: null,\n    setOnFailure: null,\n    setOnSuccess: null,\n    setTransform: null,\n    refetch: null,\n    resource: null,\n    save: null,\n    saving: null,\n    successMessage: null,\n    version: null,\n});\nEditContext.displayName = 'EditContext';\n","import { useContext, useMemo } from 'react';\nimport defaults from 'lodash/defaults';\nimport { EditContext } from './EditContext';\n/**\n * Hook to read the edit controller props from the CreateContext.\n *\n * Mostly used within a <EditContext.Provider> (e.g. as a descendent of <Edit>).\n *\n * But you can also use it without a <EditContext.Provider>. In this case, it is up to you\n * to pass all the necessary props.\n *\n * The given props will take precedence over context values.\n *\n * @typedef {Object} EditControllerProps\n *\n * @returns {EditControllerProps} edit controller props\n *\n * @see useEditController for how it is filled\n *\n */\nexport var useEditContext = function (props) {\n    // Can't find a way to specify the RecordType when EditContext is declared\n    // @ts-ignore\n    var context = useContext(EditContext);\n    // Props take precedence over the context\n    return useMemo(function () {\n        return defaults({}, props != null ? extractEditContextProps(props) : {}, context);\n    }, [context, props]);\n};\n/**\n * Extract only the edit controller props\n *\n * @param {Object} props props passed to the useEditContext hook\n *\n * @returns {EditControllerProps} edit controller props\n */\nvar extractEditContextProps = function (_a) {\n    var basePath = _a.basePath, data = _a.data, record = _a.record, defaultTitle = _a.defaultTitle, onFailureRef = _a.onFailureRef, onSuccessRef = _a.onSuccessRef, transformRef = _a.transformRef, loaded = _a.loaded, loading = _a.loading, redirect = _a.redirect, setOnFailure = _a.setOnFailure, setOnSuccess = _a.setOnSuccess, setTransform = _a.setTransform, resource = _a.resource, save = _a.save, saving = _a.saving, successMessage = _a.successMessage, version = _a.version;\n    return ({\n        basePath: basePath,\n        // Necessary for actions (EditActions) which expect a data prop containing the record\n        // @deprecated - to be removed in 4.0d\n        data: record || data,\n        record: record || data,\n        defaultTitle: defaultTitle,\n        onFailureRef: onFailureRef,\n        onSuccessRef: onSuccessRef,\n        transformRef: transformRef,\n        loaded: loaded,\n        loading: loading,\n        redirect: redirect,\n        setOnFailure: setOnFailure,\n        setOnSuccess: setOnSuccess,\n        setTransform: setTransform,\n        resource: resource,\n        save: save,\n        saving: saving,\n        successMessage: successMessage,\n        version: version,\n    });\n};\n","import merge from 'lodash/merge';\nexport default function getFormInitialValues(initialValues, defaultValue, record) {\n    if (typeof defaultValue !== 'undefined') {\n        console.warn('\"defaultValue\" is deprecated, please use \"initialValues\" instead');\n    }\n    var finalInitialValues = merge({}, getValues(defaultValue, record), getValues(initialValues, record), record);\n    return finalInitialValues;\n}\nfunction getValues(values, record) {\n    if (typeof values === 'object') {\n        return values;\n    }\n    if (typeof values === 'function') {\n        return values(record);\n    }\n    return {};\n}\n","import { useEffect } from 'react';\nimport { useForm } from 'react-final-form';\nimport isEqual from 'lodash/isEqual';\nimport getFormInitialValues from './getFormInitialValues';\n/**\n * Restore the record values which should override any default values specified on the form.\n */\nvar useInitializeFormWithRecord = function (record) {\n    var form = useForm();\n    useEffect(function () {\n        if (!record) {\n            return;\n        }\n        var initialValues = getFormInitialValues(form.getState().initialValues, undefined, record);\n        if (isEqual(form.getState().initialValues, initialValues)) {\n            return;\n        }\n        // Disable this option when re-initializing the form because in this case, it should reset the dirty state of all fields\n        // We do need to keep this option for dynamically added inputs though which is why it is kept at the form level\n        form.setConfig('keepDirtyOnReinitialize', false);\n        form.restart(initialValues);\n        form.setConfig('keepDirtyOnReinitialize', true);\n    }, [form, JSON.stringify(record)]); // eslint-disable-line react-hooks/exhaustive-deps\n};\nexport default useInitializeFormWithRecord;\n","import { useEffect, useRef } from 'react';\nimport { useForm } from 'react-final-form';\nimport { useHistory } from 'react-router-dom';\nimport get from 'lodash/get';\nimport { useTranslate } from '../i18n';\n/**\n * Display a confirmation dialog if the form has unsaved changes.\n * - If the user confirms, the navigation continues and the changes are lost.\n * - If the user cancels, the navigation is reverted and the changes are kept.\n *\n * We can't use history.block() here because forms have routes, too (for\n * instance TabbedForm), and the confirm dialog would show up when navigating\n * inside the form. So instead of relying on route change detection, we rely\n * on unmount detection. The resulting UI isn't perfect, because when they\n * click the cancel button, users briefly see the page they asked before\n * seeing the form page again. But that's the best we can do.\n *\n * @see history.block()\n */\nvar useWarnWhenUnsavedChanges = function (enable) {\n    var form = useForm();\n    var history = useHistory();\n    var translate = useTranslate();\n    // Keep track of the current location inside the form (e.g. active tab)\n    var formLocation = useRef(history.location);\n    useEffect(function () {\n        formLocation.current = history.location;\n    }, [history.location]);\n    useEffect(function () {\n        if (!enable) {\n            window.sessionStorage.removeItem('unsavedChanges');\n            return;\n        }\n        // on mount: apply unsaved changes\n        var unsavedChanges = JSON.parse(window.sessionStorage.getItem('unsavedChanges'));\n        if (unsavedChanges) {\n            Object.keys(unsavedChanges).forEach(function (key) {\n                return form.change(key, unsavedChanges[key]);\n            });\n            window.sessionStorage.removeItem('unsavedChanges');\n        }\n        // on unmount : check and save unsaved changes, then cancel navigation\n        return function () {\n            var formState = form.getState();\n            if (formState.dirty &&\n                (!formState.submitSucceeded ||\n                    (formState.submitSucceeded &&\n                        formState.dirtySinceLastSubmit))) {\n                if (!window.confirm(translate('ra.message.unsaved_changes'))) {\n                    var dirtyFields = formState.submitSucceeded\n                        ? formState.dirtySinceLastSubmit\n                        : formState.dirtyFields;\n                    var dirtyFieldValues = Object.keys(dirtyFields).reduce(function (acc, key) {\n                        acc[key] = get(formState.values, key);\n                        return acc;\n                    }, {});\n                    window.sessionStorage.setItem('unsavedChanges', JSON.stringify(dirtyFieldValues));\n                    history.push(formLocation.current);\n                }\n            }\n            else {\n                window.sessionStorage.removeItem('unsavedChanges');\n            }\n        };\n    }, [translate]); // eslint-disable-line react-hooks/exhaustive-deps\n};\nexport default useWarnWhenUnsavedChanges;\n","import { useEffect, useRef } from 'react';\nimport { useForm } from 'react-final-form';\n/**\n * Reset the submission error when the corresponding field changes.\n * final-form doesn't do this by default.\n */\nvar useResetSubmitErrors = function () {\n    var form = useForm();\n    var prevValues = useRef(form.getState().values);\n    useEffect(function () {\n        var unsubscribe = form.subscribe(function (_a) {\n            var values = _a.values;\n            form.mutators.resetSubmitErrors({\n                current: values,\n                prev: prevValues.current,\n            });\n            prevValues.current = values;\n        }, { values: true });\n        return unsubscribe;\n    }, [form]);\n};\nexport default useResetSubmitErrors;\n","import merge from 'lodash/merge';\n/**\n * Because final-form removes undefined and empty string values completely\n * (the key for the empty field is removed from the values), we have to check\n * whether this value was initially provided so that it is correctly sent to\n * the backend.\n * @see https://github.com/final-form/react-final-form/issues/130#issuecomment-493447888\n *\n * @param initialValues The initial values provided to the form\n * @param values The current form values\n */\nvar sanitizeEmptyValues = function (initialValues, values) {\n    // For every field initially provided, we check whether it value has been removed\n    // and set it explicitly to an empty string\n    if (!initialValues)\n        return values;\n    var initialValuesWithEmptyFields = Object.keys(initialValues).reduce(function (acc, key) {\n        if (values[key] instanceof Date) {\n            acc[key] = values[key];\n        }\n        else if (Array.isArray(values[key])) {\n            if (Array.isArray(initialValues[key])) {\n                acc[key] = values[key].map(function (value, index) {\n                    return sanitizeEmptyValues(initialValues[key][index], value);\n                });\n            }\n            else {\n                acc[key] = values[key];\n            }\n        }\n        else if (typeof values[key] === 'object' &&\n            typeof initialValues[key] === 'object' &&\n            values[key] !== null) {\n            acc[key] = sanitizeEmptyValues(initialValues[key], values[key]);\n        }\n        else {\n            acc[key] =\n                typeof values[key] === 'undefined' ? null : values[key];\n        }\n        return acc;\n    }, {});\n    // Finally, we merge back the values to not miss any which wasn't initially provided\n    return merge(initialValuesWithEmptyFields, values);\n};\nexport default sanitizeEmptyValues;\n","import * as React from 'react';\nimport { FormContext } from './FormContext';\n/**\n * Provides utilities to Form children, allowing them to change the default save function or register inputs to a group.\n * @param props The component props\n * @param {ReactNode} props.children The form content\n * @param {FormContextValue} props.value The form context\n */\nexport var FormContextProvider = function (_a) {\n    var children = _a.children, value = _a.value;\n    return React.createElement(FormContext.Provider, { value: value }, children);\n};\n","/**\n * Fork of the https://github.com/ignatevdev/final-form-submit-errors\n *\n * In react-admin, errors might be objects with `message` and `args` properties which\n * are used for translation.\n * The original final-form-submit-errors mutator was considering those errors as form\n * nested field like `name.message` and `name.args`.\n * This version detects those objects.\n */\nexport function resetSubmitErrors(_a, state, _b) {\n    var _c = _a[0], prev = _c.prev, current = _c.current;\n    var getIn = _b.getIn, setIn = _b.setIn;\n    // Reset the general submit error on any value change\n    if (state.formState.submitError) {\n        delete state.formState.submitError;\n    }\n    if (!isObjectEmpty(state.formState.submitErrors)) {\n        // Flatten nested errors object for easier comparison\n        var flatErrors = flatten(state.formState.submitErrors);\n        var changed_1 = [];\n        // Iterate over each error\n        Object.keys(flatErrors).forEach(function (key) {\n            // Compare the value for the error field path\n            if (getIn(prev, key) !== getIn(current, key)) {\n                changed_1.push(key);\n            }\n        });\n        // Reset the error on value change\n        if (changed_1.length) {\n            var newErrors_1 = state.formState.submitErrors;\n            changed_1.forEach(function (key) {\n                newErrors_1 = setIn(newErrors_1, key, null);\n            });\n            // Clear submit errors from empty objects and arrays\n            var cleanErrors = clean(newErrors_1);\n            state.formState.submitErrors = cleanErrors;\n        }\n    }\n}\nexport function clean(obj) {\n    var newObj = Array.isArray(obj) ? [] : {};\n    Object.keys(obj).forEach(function (key) {\n        if (obj[key] && typeof obj[key] === 'object') {\n            var newVal = clean(obj[key]);\n            if (!isObjectEmpty(newVal) && newVal.length !== 0) {\n                newObj[key] = newVal;\n            }\n        }\n        else if (obj[key] !== null) {\n            newObj[key] = obj[key];\n        }\n    });\n    return newObj;\n}\nexport function flatten(obj) {\n    var toReturn = {};\n    for (var i in obj) {\n        if (!obj.hasOwnProperty(i)) {\n            continue;\n        }\n        if (typeof obj[i] === 'object' &&\n            obj[i] !== null &&\n            !isValidationError(obj[i])) {\n            var flatObject = flatten(obj[i]);\n            for (var x in flatObject) {\n                if (!flatObject.hasOwnProperty(x)) {\n                    continue;\n                }\n                // Make a bracket array notation like some[1].array[0]\n                var key = (i + \".\" + x).split('.').reduce(function (str, value) {\n                    if (/^\\[\\d\\]/.test(value)) {\n                        return \"\" + str + value;\n                    }\n                    if (!isNaN(Number(value))) {\n                        return str + \"[\" + value + \"]\";\n                    }\n                    if (str) {\n                        return str + \".\" + value;\n                    }\n                    return value;\n                }, '');\n                toReturn[key] = flatObject[x];\n            }\n        }\n        else {\n            toReturn[i] = obj[i];\n        }\n    }\n    return toReturn;\n}\nexport var isValidationError = function (obj) { return obj.message && obj.args; };\nexport function isObjectEmpty(obj) {\n    if (!obj) {\n        return true;\n    }\n    return Object.entries(obj).length === 0 && obj.constructor === Object;\n}\nexport default {\n    resetSubmitErrors: resetSubmitErrors,\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useRef, useCallback, useEffect, useMemo } from 'react';\nimport { Form } from 'react-final-form';\nimport arrayMutators from 'final-form-arrays';\nimport useInitializeFormWithRecord from './useInitializeFormWithRecord';\nimport useWarnWhenUnsavedChanges from './useWarnWhenUnsavedChanges';\nimport useResetSubmitErrors from './useResetSubmitErrors';\nimport sanitizeEmptyValues from './sanitizeEmptyValues';\nimport getFormInitialValues from './getFormInitialValues';\nimport { useDispatch } from 'react-redux';\nimport { setAutomaticRefresh } from '../actions/uiActions';\nimport { FormContextProvider } from './FormContextProvider';\nimport submitErrorsMutators from './submitErrorsMutators';\n/**\n * Wrapper around react-final-form's Form to handle redirection on submit,\n * legacy defaultValue prop, and array inputs.\n *\n * Requires a render function, just like react-final-form\n *\n * @example\n *\n * const SimpleForm = props => (\n *    <FormWithRedirect\n *        {...props}\n *        render={formProps => <SimpleFormView {...formProps} />}\n *    />\n * );\n *\n * @typedef {Object} Props the props you can use (other props are injected by Create or Edit)\n * @prop {Object} initialValues\n * @prop {Function} validate\n * @prop {Function} save\n * @prop {boolean} submitOnEnter\n * @prop {string} redirect\n * @prop {boolean} sanitizeEmptyValues\n *\n * @param {Props} props\n */\nvar FormWithRedirect = function (_a) {\n    var debug = _a.debug, decorators = _a.decorators, defaultValue = _a.defaultValue, destroyOnUnregister = _a.destroyOnUnregister, form = _a.form, initialValues = _a.initialValues, initialValuesEqual = _a.initialValuesEqual, _b = _a.keepDirtyOnReinitialize, keepDirtyOnReinitialize = _b === void 0 ? true : _b, _c = _a.mutators, mutators = _c === void 0 ? defaultMutators : _c, record = _a.record, render = _a.render, save = _a.save, saving = _a.saving, _d = _a.subscription, subscription = _d === void 0 ? defaultSubscription : _d, validate = _a.validate, validateOnBlur = _a.validateOnBlur, version = _a.version, warnWhenUnsavedChanges = _a.warnWhenUnsavedChanges, _e = _a.sanitizeEmptyValues, shouldSanitizeEmptyValues = _e === void 0 ? true : _e, props = __rest(_a, [\"debug\", \"decorators\", \"defaultValue\", \"destroyOnUnregister\", \"form\", \"initialValues\", \"initialValuesEqual\", \"keepDirtyOnReinitialize\", \"mutators\", \"record\", \"render\", \"save\", \"saving\", \"subscription\", \"validate\", \"validateOnBlur\", \"version\", \"warnWhenUnsavedChanges\", \"sanitizeEmptyValues\"]);\n    var redirect = useRef(props.redirect);\n    var onSave = useRef(save);\n    var formGroups = useRef({});\n    var finalMutators = useMemo(function () {\n        return mutators === defaultMutators\n            ? mutators\n            : __assign(__assign({}, defaultMutators), mutators);\n    }, [mutators]);\n    // We don't use state here for two reasons:\n    // 1. There no way to execute code only after the state has been updated\n    // 2. We don't want the form to rerender when redirect is changed\n    var setRedirect = function (newRedirect) {\n        redirect.current = newRedirect;\n    };\n    /**\n     * A form can have several Save buttons. In case the user clicks on\n     * a Save button with a custom onSave handler, then on a second Save button\n     * without custom onSave handler, the user expects the default save\n     * handler (the one of the Form) to be called.\n     * That's why the SaveButton onClick calls setOnSave() with no parameters\n     * if it has no custom onSave, and why this function forces a default to\n     * save.\n     */\n    var setOnSave = useCallback(function (newOnSave) {\n        typeof newOnSave === 'function'\n            ? (onSave.current = newOnSave)\n            : (onSave.current = save);\n    }, [save]);\n    var formContextValue = useMemo(function () { return ({\n        setOnSave: setOnSave,\n        getGroupFields: function (name) { return formGroups.current[name] || []; },\n        registerGroup: function (name) {\n            formGroups.current[name] = formGroups.current[name] || [];\n        },\n        unregisterGroup: function (name) {\n            delete formGroups[name];\n        },\n        registerField: function (source, group) {\n            if (group) {\n                var fields = new Set(formGroups.current[group] || []);\n                fields.add(source);\n                formGroups.current[group] = Array.from(fields);\n            }\n        },\n        unregisterField: function (source, group) {\n            if (group) {\n                if (!formGroups.current[group]) {\n                    console.warn(\"Invalid form group \" + group);\n                }\n                else {\n                    var fields = new Set(formGroups.current[group]);\n                    fields.delete(source);\n                    formGroups.current[group] = Array.from(fields);\n                }\n            }\n        },\n    }); }, [setOnSave]);\n    var finalInitialValues = useMemo(function () { return getFormInitialValues(initialValues, defaultValue, record); }, [JSON.stringify({ initialValues: initialValues, defaultValue: defaultValue, record: record })]); // eslint-disable-line\n    var submit = function (values) {\n        var finalRedirect = typeof redirect.current === undefined\n            ? props.redirect\n            : redirect.current;\n        if (shouldSanitizeEmptyValues) {\n            var sanitizedValues = sanitizeEmptyValues(finalInitialValues, values);\n            return onSave.current(sanitizedValues, finalRedirect);\n        }\n        else {\n            return onSave.current(values, finalRedirect);\n        }\n    };\n    return (React.createElement(FormContextProvider, { value: formContextValue },\n        React.createElement(Form, { key: version, debug: debug, decorators: decorators, destroyOnUnregister: destroyOnUnregister, form: form, initialValues: finalInitialValues, initialValuesEqual: initialValuesEqual, keepDirtyOnReinitialize: keepDirtyOnReinitialize, mutators: finalMutators, onSubmit: submit, subscription: subscription, validate: validate, validateOnBlur: validateOnBlur, render: function (formProps) { return (\n            // @ts-ignore Ignored because of a weird error about the active prop\n            React.createElement(FormView, __assign({}, props, formProps, { record: record, setRedirect: setRedirect, saving: formProps.submitting || saving, render: render, save: save, warnWhenUnsavedChanges: warnWhenUnsavedChanges }))); } })));\n};\nvar defaultMutators = __assign(__assign({}, arrayMutators), submitErrorsMutators);\nvar defaultSubscription = {\n    submitting: true,\n    pristine: true,\n    valid: true,\n    invalid: true,\n    validating: true,\n};\nvar FormView = function (_a) {\n    var render = _a.render, warnWhenUnsavedChanges = _a.warnWhenUnsavedChanges, setRedirect = _a.setRedirect, props = __rest(_a, [\"render\", \"warnWhenUnsavedChanges\", \"setRedirect\"]);\n    // if record changes (after a getOne success or a refresh), the form must be updated\n    useInitializeFormWithRecord(props.record);\n    useWarnWhenUnsavedChanges(warnWhenUnsavedChanges);\n    useResetSubmitErrors();\n    var dispatch = useDispatch();\n    useEffect(function () {\n        dispatch(setAutomaticRefresh(props.pristine));\n    }, [dispatch, props.pristine]);\n    var redirect = props.redirect, handleSubmit = props.handleSubmit;\n    /**\n     * We want to let developers define the redirection target from inside the form,\n     * e.g. in a <SaveButton redirect=\"list\" />.\n     * This callback does two things: handle submit, and change the redirection target.\n     * The actual redirection is done in save(), passed by the main controller.\n     *\n     * If the redirection target doesn't depend on the button clicked, it's a\n     * better option to define it directly on the Form component. In that case,\n     * using handleSubmit() instead of handleSubmitWithRedirect is fine.\n     *\n     * @example\n     *\n     * <Button onClick={() => handleSubmitWithRedirect('edit')}>\n     *     Save and edit\n     * </Button>\n     */\n    var handleSubmitWithRedirect = useCallback(function (redirectTo) {\n        if (redirectTo === void 0) { redirectTo = redirect; }\n        setRedirect(redirectTo);\n        handleSubmit();\n    }, [setRedirect, redirect, handleSubmit]);\n    return render(__assign(__assign({}, props), { handleSubmitWithRedirect: handleSubmitWithRedirect }));\n};\nexport default FormWithRedirect;\n","var isMatchingReferencesError = function (matchingReferences) {\n    return matchingReferences && matchingReferences.error !== undefined;\n};\nexport var getStatusForInput = function (_a) {\n    var input = _a.input, matchingReferences = _a.matchingReferences, referenceRecord = _a.referenceRecord, _b = _a.translate, translate = _b === void 0 ? function (x) { return x; } : _b;\n    var matchingReferencesError = isMatchingReferencesError(matchingReferences)\n        ? translate(matchingReferences.error, {\n            _: matchingReferences.error,\n        })\n        : null;\n    var selectedReferenceError = input.value && !referenceRecord\n        ? translate('ra.input.references.single_missing', {\n            _: 'ra.input.references.single_missing',\n        })\n        : null;\n    return {\n        waiting: (input.value && selectedReferenceError && !matchingReferences) ||\n            (!input.value && !matchingReferences),\n        error: (input.value &&\n            selectedReferenceError &&\n            matchingReferencesError) ||\n            (!input.value && matchingReferencesError)\n            ? input.value\n                ? selectedReferenceError\n                : matchingReferencesError\n            : null,\n        warning: selectedReferenceError || matchingReferencesError,\n        choices: Array.isArray(matchingReferences)\n            ? matchingReferences\n            : [referenceRecord].filter(function (choice) { return choice; }),\n    };\n};\nexport var REFERENCES_STATUS_READY = 'REFERENCES_STATUS_READY';\nexport var REFERENCES_STATUS_INCOMPLETE = 'REFERENCES_STATUS_INCOMPLETE';\nexport var REFERENCES_STATUS_EMPTY = 'REFERENCES_STATUS_EMPTY';\nexport var getSelectedReferencesStatus = function (input, referenceRecords) {\n    return !input.value || input.value.length === referenceRecords.length\n        ? REFERENCES_STATUS_READY\n        : referenceRecords.length > 0\n            ? REFERENCES_STATUS_INCOMPLETE\n            : REFERENCES_STATUS_EMPTY;\n};\nexport var getStatusForArrayInput = function (_a) {\n    var input = _a.input, matchingReferences = _a.matchingReferences, referenceRecords = _a.referenceRecords, _b = _a.translate, translate = _b === void 0 ? function (x) { return x; } : _b;\n    // selectedReferencesDataStatus can be \"empty\" (no data was found for references from input.value)\n    // or \"incomplete\" (Not all of the reference data was found)\n    // or \"ready\" (all references data was found or there is no references from input.value)\n    var selectedReferencesDataStatus = getSelectedReferencesStatus(input, referenceRecords);\n    var matchingReferencesError = isMatchingReferencesError(matchingReferences)\n        ? translate(matchingReferences.error, {\n            _: matchingReferences.error,\n        })\n        : null;\n    return {\n        waiting: (!matchingReferences &&\n            input.value &&\n            selectedReferencesDataStatus === REFERENCES_STATUS_EMPTY) ||\n            (!matchingReferences && !input.value),\n        error: matchingReferencesError &&\n            (!input.value ||\n                (input.value &&\n                    selectedReferencesDataStatus === REFERENCES_STATUS_EMPTY))\n            ? translate('ra.input.references.all_missing', {\n                _: 'ra.input.references.all_missing',\n            })\n            : null,\n        warning: matchingReferencesError ||\n            (input.value &&\n                selectedReferencesDataStatus !== REFERENCES_STATUS_READY)\n            ? matchingReferencesError ||\n                translate('ra.input.references.many_missing', {\n                    _: 'ra.input.references.many_missing',\n                })\n            : null,\n        choices: Array.isArray(matchingReferences)\n            ? matchingReferences\n            : referenceRecords,\n    };\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { useEffect, useRef, useCallback } from 'react';\nimport debounce from 'lodash/debounce';\nimport isEqual from 'lodash/isEqual';\nimport { useSafeSetState } from '../util';\nvar defaultFilterToQuery = function (v) { return ({ q: v }); };\n/**\n * Hooks to provide filter state and setFilter which update the query part of the filter\n *\n * @example\n *\n * const { filter, setFilter } = useFilter({\n *      filterToQuery: v => ({ query: v }),\n *      permanentFilter: { foo: 'bar' },\n *      debounceTime: 500,\n * });\n * // filter initial value:\n * {\n *      query: '',\n *      foo: 'bar'\n * }\n *  // after updating filter\n *  setFilter('needle');\n *  {\n *      query: 'needle',\n *      foo: 'bar'\n *  }\n *\n * @param {Object} option\n * @param {Function} option.filterToQuery Function to convert the filter string to a filter object. Defaults to v => ({ q: v }).\n * @param {Object} option.permanentFilter Permanent filter to be merged with the filter string. Defaults to {}.\n * @param {number} option.debounceTime Time in ms between filter updates - used to debounce the search. Defaults to 500ms.\n *\n * @returns {UseFilterStateOptions} The filter props\n */\nexport default (function (_a) {\n    var _b = _a.filterToQuery, filterToQuery = _b === void 0 ? defaultFilterToQuery : _b, _c = _a.permanentFilter, permanentFilter = _c === void 0 ? {} : _c, _d = _a.debounceTime, debounceTime = _d === void 0 ? 500 : _d;\n    var permanentFilterProp = useRef(permanentFilter);\n    var latestValue = useRef();\n    var _e = useSafeSetState(__assign(__assign({}, permanentFilter), filterToQuery(''))), filter = _e[0], setFilterValue = _e[1];\n    // Developers often pass an object literal as permanent filter\n    // e.g. <ReferenceInput source=\"book_id\" reference=\"books\" filter={{ is_published: true }}>\n    // The effect should execute again when the parent component updates the filter value,\n    // but not when the object literal describes the same values. Therefore,\n    // we use JSON.stringify(permanentFilter) in the `useEffect` and `useCallback`\n    // dependencies instead of permanentFilter.\n    var permanentFilterSignature = JSON.stringify(permanentFilter);\n    useEffect(function () {\n        if (!isEqual(permanentFilterProp.current, permanentFilter)) {\n            permanentFilterProp.current = permanentFilter;\n            setFilterValue(__assign(__assign({}, permanentFilter), filterToQuery(latestValue.current)));\n        }\n    }, [permanentFilterSignature, permanentFilterProp, filterToQuery]); // eslint-disable-line react-hooks/exhaustive-deps\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    var setFilter = useCallback(debounce(function (value) {\n        setFilterValue(__assign(__assign({}, permanentFilter), filterToQuery(value)));\n        latestValue.current = value;\n    }, debounceTime), [permanentFilterSignature] // eslint-disable-line react-hooks/exhaustive-deps\n    );\n    return {\n        filter: filter,\n        setFilter: setFilter,\n    };\n});\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { useCallback } from 'react';\nimport useGetList from '../../dataProvider/useGetList';\nimport { getStatusForInput as getDataStatus } from './referenceDataStatus';\nimport useTranslate from '../../i18n/useTranslate';\nimport useReference from '../useReference';\nimport usePaginationState from '../usePaginationState';\nimport { useSortState } from '..';\nimport useFilterState from '../useFilterState';\nimport useSelectionState from '../useSelectionState';\nimport { useResourceContext } from '../../core';\nvar defaultReferenceSource = function (resource, source) {\n    return resource + \"@\" + source;\n};\nvar defaultFilter = {};\n/**\n * A hook for choosing a reference record. Useful for foreign keys.\n *\n * This hook fetches the possible values in the reference resource\n * (using `dataProvider.getList()`), it returns the possible choices\n * as the `choices` attribute.\n *\n * @example\n * const {\n *      choices, // the available reference resource\n * } = useReferenceInputController({\n *      input, // the input props\n *      resource: 'comments',\n *      reference: 'posts',\n *      source: 'post_id',\n * });\n *\n * The hook also allow to filter results. It returns a `setFilter`\n * function. It uses the value to create a filter\n * for the query - by default { q: [searchText] }. You can customize the mapping\n * searchText => searchQuery by setting a custom `filterToQuery` function option\n * You can also add a permanentFilter to further filter the result:\n *\n * @example\n * const {\n *      choices, // the available reference resource\n *      setFilter,\n * } = useReferenceInputController({\n *      input, // the input props\n *      resource: 'comments',\n *      reference: 'posts',\n *      source: 'post_id',\n *      permanentFilter: {\n *          author: 'john'\n *      },\n *      filterToQuery: searchText => ({ title: searchText })\n * });\n */\nexport var useReferenceInputController = function (props) {\n    var _a;\n    var basePath = props.basePath, input = props.input, _b = props.page, initialPage = _b === void 0 ? 1 : _b, _c = props.perPage, initialPerPage = _c === void 0 ? 25 : _c, _d = props.filter, filter = _d === void 0 ? defaultFilter : _d, reference = props.reference, filterToQuery = props.filterToQuery, sortOverride = props.sort;\n    var resource = useResourceContext(props);\n    var translate = useTranslate();\n    // pagination logic\n    var _e = usePaginationState({ page: initialPage, perPage: initialPerPage }), pagination = _e.pagination, setPagination = _e.setPagination, page = _e.page, setPage = _e.setPage, perPage = _e.perPage, setPerPage = _e.setPerPage;\n    // sort logic\n    var _f = useSortState(sortOverride), sort = _f.sort, setSortObject = _f.setSort;\n    var setSort = useCallback(function (field, order) {\n        if (order === void 0) { order = 'ASC'; }\n        setSortObject({ field: field, order: order });\n        setPage(1);\n    }, [setPage, setSortObject]);\n    // filter logic\n    var _g = useFilterState({\n        permanentFilter: filter,\n        filterToQuery: filterToQuery,\n    }), filterValues = _g.filter, setFilter = _g.setFilter;\n    var displayedFilters = [];\n    // plus showFilter and hideFilter defined outside of the hook because\n    // they never change\n    // selection logic\n    var _h = useSelectionState(), selectedIds = _h.selectedIds, onSelect = _h.onSelect, onToggleItem = _h.onToggleItem, onUnselectItems = _h.onUnselectItems;\n    // fetch possible values\n    var _j = useGetList(reference, pagination, sort, filterValues), possibleValuesIds = _j.ids, possibleValuesData = _j.data, possibleValuesTotal = _j.total, possibleValuesLoaded = _j.loaded, possibleValuesLoading = _j.loading, possibleValuesError = _j.error, refetchGetList = _j.refetch;\n    // fetch current value\n    var _k = useReference({\n        id: input.value,\n        reference: reference,\n    }), referenceRecord = _k.referenceRecord, refetchReference = _k.refetch, referenceError = _k.error, referenceLoading = _k.loading, referenceLoaded = _k.loaded;\n    // add current value to possible sources\n    var finalIds, finalData, finalTotal;\n    if (!referenceRecord || possibleValuesIds.includes(input.value)) {\n        finalIds = possibleValuesIds;\n        finalData = possibleValuesData;\n        finalTotal = possibleValuesTotal;\n    }\n    else {\n        finalIds = __spreadArrays([input.value], possibleValuesIds);\n        finalData = __assign((_a = {}, _a[input.value] = referenceRecord, _a), possibleValuesData);\n        finalTotal = possibleValuesTotal + 1;\n    }\n    // overall status\n    var dataStatus = getDataStatus({\n        input: input,\n        matchingReferences: Object.keys(finalData).map(function (id) { return finalData[id]; }),\n        referenceRecord: referenceRecord,\n        translate: translate,\n    });\n    var refetch = useCallback(function () {\n        refetchGetList();\n        refetchReference();\n    }, [refetchGetList, refetchReference]);\n    return {\n        // should match the ListContext shape\n        possibleValues: {\n            basePath: basePath,\n            data: finalData,\n            ids: finalIds,\n            total: finalTotal,\n            error: possibleValuesError,\n            loaded: possibleValuesLoaded,\n            loading: possibleValuesLoading,\n            hasCreate: false,\n            page: page,\n            setPage: setPage,\n            perPage: perPage,\n            setPerPage: setPerPage,\n            currentSort: sort,\n            setSort: setSort,\n            filterValues: filterValues,\n            displayedFilters: displayedFilters,\n            setFilters: setFilter,\n            showFilter: showFilter,\n            hideFilter: hideFilter,\n            selectedIds: selectedIds,\n            onSelect: onSelect,\n            onToggleItem: onToggleItem,\n            onUnselectItems: onUnselectItems,\n            refetch: refetch,\n            resource: resource,\n        },\n        referenceRecord: {\n            data: referenceRecord,\n            loaded: referenceLoaded,\n            loading: referenceLoading,\n            error: referenceError,\n            refetch: refetchReference,\n        },\n        dataStatus: {\n            error: dataStatus.error,\n            loading: dataStatus.waiting,\n            warning: dataStatus.warning,\n        },\n        choices: finalIds.map(function (id) { return finalData[id]; }),\n        // kept for backwards compatibility\n        // @deprecated to be removed in 4.0\n        error: dataStatus.error,\n        loading: possibleValuesLoading || referenceLoading,\n        loaded: possibleValuesLoaded && referenceLoaded,\n        filter: filterValues,\n        refetch: refetch,\n        setFilter: setFilter,\n        pagination: pagination,\n        setPagination: setPagination,\n        sort: sort,\n        setSort: setSortObject,\n        warning: dataStatus.warning,\n    };\n};\nvar hideFilter = function () { };\nvar showFilter = function () { };\n","import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport TextField from '@material-ui/core/TextField';\nvar ReferenceError = function (_a) {\n    var label = _a.label, error = _a.error;\n    return (React.createElement(TextField, { error: true, disabled: true, label: label, value: error, margin: \"normal\" }));\n};\nReferenceError.propTypes = {\n    error: PropTypes.string.isRequired,\n    label: PropTypes.string.isRequired,\n};\nexport default ReferenceError;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { Children, cloneElement, } from 'react';\nimport PropTypes from 'prop-types';\nimport { useInput, useReferenceInputController, warning as warningLog, ListContextProvider, ResourceContextProvider, } from 'ra-core';\nimport sanitizeInputRestProps from './sanitizeInputRestProps';\nimport ReferenceError from './ReferenceError';\n/**\n * An Input component for choosing a reference record. Useful for foreign keys.\n *\n * This component fetches the possible values in the reference resource\n * (using `dataProvider.getList()`), then delegates rendering\n * to a subcomponent, to which it passes the possible choices\n * as the `choices` attribute.\n *\n * Use it with a selector component as child, like `<AutocompleteInput>`,\n * `<SelectInput>`, or `<RadioButtonGroupInput>`.\n *\n * @example\n * export const CommentEdit = (props) => (\n *     <Edit {...props}>\n *         <SimpleForm>\n *             <ReferenceInput label=\"Post\" source=\"post_id\" reference=\"posts\">\n *                 <AutocompleteInput optionText=\"title\" />\n *             </ReferenceInput>\n *         </SimpleForm>\n *     </Edit>\n * );\n *\n * @example\n * export const CommentEdit = (props) => (\n *     <Edit {...props}>\n *         <SimpleForm>\n *             <ReferenceInput label=\"Post\" source=\"post_id\" reference=\"posts\">\n *                 <SelectInput optionText=\"title\" />\n *             </ReferenceInput>\n *         </SimpleForm>\n *     </Edit>\n * );\n *\n * By default, restricts the possible values to 25. You can extend this limit\n * by setting the `perPage` prop.\n *\n * @example\n * <ReferenceInput\n *      source=\"post_id\"\n *      reference=\"posts\"\n *      perPage={100}>\n *     <SelectInput optionText=\"title\" />\n * </ReferenceInput>\n *\n * By default, orders the possible values by id desc. You can change this order\n * by setting the `sort` prop (an object with `field` and `order` properties).\n *\n * @example\n * <ReferenceInput\n *      source=\"post_id\"\n *      reference=\"posts\"\n *      sort={{ field: 'title', order: 'ASC' }}>\n *     <SelectInput optionText=\"title\" />\n * </ReferenceInput>\n *\n * Also, you can filter the query used to populate the possible values. Use the\n * `filter` prop for that.\n *\n * @example\n * <ReferenceInput\n *      source=\"post_id\"\n *      reference=\"posts\"\n *      filter={{ is_published: true }}>\n *     <SelectInput optionText=\"title\" />\n * </ReferenceInput>\n *\n * The enclosed component may filter results. ReferenceInput passes a `setFilter`\n * function as prop to its child component. It uses the value to create a filter\n * for the query - by default { q: [searchText] }. You can customize the mapping\n * searchText => searchQuery by setting a custom `filterToQuery` function prop:\n *\n * @example\n * <ReferenceInput\n *      source=\"post_id\"\n *      reference=\"posts\"\n *      filterToQuery={searchText => ({ title: searchText })}>\n *     <AutocompleteInput optionText=\"title\" />\n * </ReferenceInput>\n */\nvar ReferenceInput = function (_a) {\n    var format = _a.format, onBlur = _a.onBlur, onChange = _a.onChange, onFocus = _a.onFocus, parse = _a.parse, validate = _a.validate, props = __rest(_a, [\"format\", \"onBlur\", \"onChange\", \"onFocus\", \"parse\", \"validate\"]);\n    var inputProps = useInput(__assign({ format: format,\n        onBlur: onBlur,\n        onChange: onChange,\n        onFocus: onFocus,\n        parse: parse,\n        validate: validate }, props));\n    return (React.createElement(ReferenceInputView, __assign({}, inputProps, props, useReferenceInputController(__assign(__assign({}, props), inputProps)))));\n};\nReferenceInput.propTypes = {\n    allowEmpty: PropTypes.bool,\n    basePath: PropTypes.string,\n    children: PropTypes.element.isRequired,\n    className: PropTypes.string,\n    classes: PropTypes.object,\n    filter: PropTypes.object,\n    filterToQuery: PropTypes.func.isRequired,\n    label: PropTypes.string,\n    onChange: PropTypes.func,\n    perPage: PropTypes.number,\n    record: PropTypes.object,\n    reference: PropTypes.string.isRequired,\n    resource: PropTypes.string,\n    sort: PropTypes.shape({\n        field: PropTypes.string,\n        order: PropTypes.oneOf(['ASC', 'DESC']),\n    }),\n    source: PropTypes.string,\n};\nReferenceInput.defaultProps = {\n    filter: {},\n    filterToQuery: function (searchText) { return (searchText ? { q: searchText } : {}); },\n    perPage: 25,\n    sort: { field: 'id', order: 'DESC' },\n};\nvar sanitizeRestProps = function (_a) {\n    var _b = _a.dataStatus, dataStatus = _b === void 0 ? null : _b, _c = _a.filter, filter = _c === void 0 ? null : _c, _d = _a.filterToQuery, filterToQuery = _d === void 0 ? null : _d, _e = _a.onChange, onChange = _e === void 0 ? null : _e, _f = _a.perPage, perPage = _f === void 0 ? null : _f, _g = _a.reference, reference = _g === void 0 ? null : _g, _h = _a.referenceRecord, referenceRecord = _h === void 0 ? null : _h, _j = _a.referenceSource, referenceSource = _j === void 0 ? null : _j, _k = _a.sort, sort = _k === void 0 ? null : _k, _l = _a.validation, validation = _l === void 0 ? null : _l, rest = __rest(_a, [\"dataStatus\", \"filter\", \"filterToQuery\", \"onChange\", \"perPage\", \"reference\", \"referenceRecord\", \"referenceSource\", \"sort\", \"validation\"]);\n    return sanitizeInputRestProps(rest);\n};\nexport var ReferenceInputView = function (_a) {\n    var allowEmpty = _a.allowEmpty, basePath = _a.basePath, children = _a.children, choices = _a.choices, classes = _a.classes, className = _a.className, error = _a.error, helperText = _a.helperText, id = _a.id, input = _a.input, isRequired = _a.isRequired, label = _a.label, meta = _a.meta, possibleValues = _a.possibleValues, resource = _a.resource, reference = _a.reference, setFilter = _a.setFilter, setPagination = _a.setPagination, setSort = _a.setSort, source = _a.source, warning = _a.warning, rest = __rest(_a, [\"allowEmpty\", \"basePath\", \"children\", \"choices\", \"classes\", \"className\", \"error\", \"helperText\", \"id\", \"input\", \"isRequired\", \"label\", \"meta\", \"possibleValues\", \"resource\", \"reference\", \"setFilter\", \"setPagination\", \"setSort\", \"source\", \"warning\"]);\n    if (Children.count(children) !== 1) {\n        throw new Error('<ReferenceInput> only accepts a single child');\n    }\n    // This is not a final-form error but an unrecoverable error from the\n    // useReferenceInputController hook\n    if (error) {\n        return React.createElement(ReferenceError, { label: label, error: error });\n    }\n    // When the useReferenceInputController returns a warning, it means it\n    // had an issue trying to load the referenced record\n    // We display it by overriding the final-form meta\n    var finalMeta = warning\n        ? __assign(__assign({}, meta), { error: warning }) : meta;\n    // helperText should never be set on ReferenceInput, only in child component\n    // But in a Filter component, the child helperText have to be forced to false\n    warningLog(helperText !== undefined && helperText !== false, \"<ReferenceInput> doesn't accept a helperText prop. Set the helperText prop on the child component instead\");\n    var disabledHelperText = helperText === false ? { helperText: helperText } : {};\n    return (React.createElement(ResourceContextProvider, { value: reference },\n        React.createElement(ListContextProvider, { value: possibleValues }, cloneElement(children, __assign(__assign({ allowEmpty: allowEmpty,\n            classes: classes,\n            className: className,\n            input: input,\n            isRequired: isRequired,\n            label: label,\n            resource: resource, meta: finalMeta, source: source,\n            choices: choices,\n            basePath: basePath,\n            setFilter: setFilter,\n            setPagination: setPagination,\n            setSort: setSort, translateChoice: false }, disabledHelperText), sanitizeRestProps(rest))))));\n};\nexport default ReferenceInput;\n","import { isValidElement, cloneElement, useCallback } from 'react';\nimport get from 'lodash/get';\nimport { useTranslate } from '../i18n';\n/*\n * Returns helper functions for choices handling.\n *\n * @param optionText Either a string defining the property to use to get the choice text, a function or a React element\n * @param optionValue The property to use to get the choice value\n * @param translateChoice A boolean indicating whether to option text should be translated\n *\n * @returns An object with helper functions:\n * - getChoiceText: Returns the choice text or a React element\n * - getChoiceValue: Returns the choice value\n */\nvar useChoices = function (_a) {\n    var _b = _a.optionText, optionText = _b === void 0 ? 'name' : _b, _c = _a.optionValue, optionValue = _c === void 0 ? 'id' : _c, _d = _a.disableValue, disableValue = _d === void 0 ? 'disabled' : _d, _e = _a.translateChoice, translateChoice = _e === void 0 ? true : _e;\n    var translate = useTranslate();\n    var getChoiceText = useCallback(function (choice) {\n        if (isValidElement(optionText)) {\n            return cloneElement(optionText, {\n                record: choice,\n            });\n        }\n        var choiceName = typeof optionText === 'function'\n            ? optionText(choice)\n            : get(choice, optionText);\n        return translateChoice\n            ? translate(choiceName, { _: choiceName })\n            : choiceName;\n    }, [optionText, translate, translateChoice]);\n    var getChoiceValue = useCallback(function (choice) { return get(choice, optionValue); }, [\n        optionValue,\n    ]);\n    var getDisableValue = useCallback(function (choice) { return get(choice, disableValue); }, [\n        disableValue,\n    ]);\n    return {\n        getChoiceText: getChoiceText,\n        getChoiceValue: getChoiceValue,\n        getDisableValue: getDisableValue,\n    };\n};\nexport default useChoices;\n","import { useCallback, isValidElement } from 'react';\nimport set from 'lodash/set';\nimport useChoices from './useChoices';\nimport { useTranslate } from '../i18n';\n/*\n * Returns helper functions for suggestions handling.\n *\n * @param allowDuplicates A boolean indicating whether a suggestion can be added several times\n * @param allowEmpty A boolean indicating whether an empty suggestion should be added\n * @param choices An array of available choices\n * @param emptyText The text to use for the empty suggestion. Defaults to an empty string\n * @param emptyValue The value to use for the empty suggestion. Defaults to `null`\n * @param limitChoicesToValue A boolean indicating whether the initial suggestions should be limited to the currently selected one(s)\n * @param matchSuggestion Optional unless `optionText` is a React element. Function which check whether a choice matches a filter. Must return a boolean.\n * @param optionText Either a string defining the property to use to get the choice text, a function or a React element\n * @param optionValue The property to use to get the choice value\n * @param selectedItem The currently selected item. May be an array of selected items\n * @param suggestionLimit The maximum number of suggestions returned, excluding the empty one if `allowEmpty` is `true`\n * @param translateChoice A boolean indicating whether to option text should be translated\n *\n * @returns An object with helper functions:\n * - getChoiceText: Returns the choice text or a React element\n * - getChoiceValue: Returns the choice value\n * - getSuggestions: A function taking a filter value (string) and returning the matching suggestions\n */\nvar useSuggestions = function (_a) {\n    var allowCreate = _a.allowCreate, allowDuplicates = _a.allowDuplicates, allowEmpty = _a.allowEmpty, choices = _a.choices, _b = _a.createText, createText = _b === void 0 ? 'ra.action.create' : _b, _c = _a.createValue, createValue = _c === void 0 ? '@@create' : _c, _d = _a.emptyText, emptyText = _d === void 0 ? '' : _d, _e = _a.emptyValue, emptyValue = _e === void 0 ? null : _e, limitChoicesToValue = _a.limitChoicesToValue, matchSuggestion = _a.matchSuggestion, optionText = _a.optionText, optionValue = _a.optionValue, selectedItem = _a.selectedItem, _f = _a.suggestionLimit, suggestionLimit = _f === void 0 ? 0 : _f, translateChoice = _a.translateChoice;\n    var translate = useTranslate();\n    var _g = useChoices({\n        optionText: optionText,\n        optionValue: optionValue,\n        translateChoice: translateChoice,\n    }), getChoiceText = _g.getChoiceText, getChoiceValue = _g.getChoiceValue;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    var getSuggestions = useCallback(getSuggestionsFactory({\n        allowCreate: allowCreate,\n        allowDuplicates: allowDuplicates,\n        allowEmpty: allowEmpty,\n        choices: choices,\n        createText: createText,\n        createValue: createValue,\n        emptyText: translate(emptyText, { _: emptyText }),\n        emptyValue: emptyValue,\n        getChoiceText: getChoiceText,\n        getChoiceValue: getChoiceValue,\n        limitChoicesToValue: limitChoicesToValue,\n        matchSuggestion: matchSuggestion,\n        optionText: optionText,\n        optionValue: optionValue,\n        selectedItem: selectedItem,\n        suggestionLimit: suggestionLimit,\n    }), [\n        allowCreate,\n        allowDuplicates,\n        allowEmpty,\n        choices,\n        createText,\n        createValue,\n        emptyText,\n        emptyValue,\n        getChoiceText,\n        getChoiceValue,\n        limitChoicesToValue,\n        matchSuggestion,\n        optionText,\n        optionValue,\n        selectedItem,\n        suggestionLimit,\n        translate,\n    ]);\n    return {\n        getChoiceText: getChoiceText,\n        getChoiceValue: getChoiceValue,\n        getSuggestions: getSuggestions,\n    };\n};\nexport default useSuggestions;\nvar escapeRegExp = function (value) {\n    return value ? value.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&') : '';\n}; // $& means the whole matched string\n/**\n * Default matcher implementation which check whether the suggestion text matches the filter.\n */\nvar defaultMatchSuggestion = function (getChoiceText) { return function (filter, suggestion, exact) {\n    if (exact === void 0) { exact = false; }\n    var suggestionText = getChoiceText(suggestion);\n    var isReactElement = isValidElement(suggestionText);\n    var regex = escapeRegExp(filter);\n    return isReactElement\n        ? false\n        : suggestionText &&\n            suggestionText.match(\n            // We must escape any RegExp reserved characters to avoid errors\n            // For example, the filter might contains * which must be escaped as \\*\n            new RegExp(exact ? \"^\" + regex + \"$\" : regex, 'i'));\n}; };\n/**\n * Get the suggestions to display after applying a fuzzy search on the available choices\n *\n * @example\n *\n * getSuggestions({\n *   choices: [{ id: 1, name: 'admin' }, { id: 2, name: 'publisher' }],\n *   optionText: 'name',\n *   optionValue: 'id',\n *   getSuggestionText: choice => choice[optionText],\n * })('pub')\n *\n * // Will return [{ id: 2, name: 'publisher' }]\n * getSuggestions({\n *   choices: [{ id: 1, name: 'admin' }, { id: 2, name: 'publisher' }],\n *   optionText: 'name',\n *   optionValue: 'id',\n *   getSuggestionText: choice => choice[optionText],\n * })('pub')\n *\n * // Will return [{ id: 2, name: 'publisher' }]\n */\nexport var getSuggestionsFactory = function (_a) {\n    var _b = _a.allowCreate, allowCreate = _b === void 0 ? false : _b, _c = _a.allowDuplicates, allowDuplicates = _c === void 0 ? false : _c, _d = _a.allowEmpty, allowEmpty = _d === void 0 ? false : _d, _e = _a.choices, choices = _e === void 0 ? [] : _e, _f = _a.createText, createText = _f === void 0 ? 'ra.action.create' : _f, _g = _a.createValue, createValue = _g === void 0 ? '@@create' : _g, _h = _a.emptyText, emptyText = _h === void 0 ? '' : _h, _j = _a.emptyValue, emptyValue = _j === void 0 ? null : _j, _k = _a.optionText, optionText = _k === void 0 ? 'name' : _k, _l = _a.optionValue, optionValue = _l === void 0 ? 'id' : _l, getChoiceText = _a.getChoiceText, getChoiceValue = _a.getChoiceValue, _m = _a.limitChoicesToValue, limitChoicesToValue = _m === void 0 ? false : _m, _o = _a.matchSuggestion, matchSuggestion = _o === void 0 ? defaultMatchSuggestion(getChoiceText) : _o, selectedItem = _a.selectedItem, _p = _a.suggestionLimit, suggestionLimit = _p === void 0 ? 0 : _p;\n    return function (filter) {\n        var suggestions = [];\n        // if an item is selected and matches the filter\n        if (selectedItem &&\n            !Array.isArray(selectedItem) &&\n            matchSuggestion(filter, selectedItem)) {\n            if (limitChoicesToValue) {\n                // display only the selected item\n                suggestions = choices.filter(function (choice) {\n                    return getChoiceValue(choice) === getChoiceValue(selectedItem);\n                });\n            }\n            else if (!allowDuplicates) {\n                // ignore the filter to show more choices\n                suggestions = removeAlreadySelectedSuggestions(choices, selectedItem, getChoiceValue);\n            }\n            else {\n                suggestions = choices;\n            }\n        }\n        else {\n            suggestions = choices.filter(function (choice) { return matchSuggestion(filter, choice); });\n            if (!allowDuplicates) {\n                suggestions = removeAlreadySelectedSuggestions(suggestions, selectedItem, getChoiceValue);\n            }\n        }\n        suggestions = limitSuggestions(suggestions, suggestionLimit);\n        var hasExactMatch = suggestions.some(function (suggestion) {\n            return matchSuggestion(filter, suggestion, true);\n        });\n        if (allowCreate) {\n            var filterIsSelectedItem = \n            // If the selectedItem is an array (for example AutocompleteArrayInput)\n            // we should't try to match\n            !!selectedItem && !Array.isArray(selectedItem)\n                ? matchSuggestion(filter, selectedItem, true)\n                : false;\n            if (!hasExactMatch && !filterIsSelectedItem) {\n                suggestions.push(getSuggestion({\n                    optionText: optionText,\n                    optionValue: optionValue,\n                    text: createText,\n                    value: createValue,\n                }));\n            }\n        }\n        if (allowEmpty) {\n            suggestions.unshift(getSuggestion({\n                optionText: optionText,\n                optionValue: optionValue,\n                text: emptyText,\n                value: emptyValue,\n            }));\n        }\n        return suggestions;\n    };\n};\n/**\n * @example\n *\n * removeAlreadySelectedSuggestions(\n *  [{ id: 1, name: 'foo'}, { id: 2, name: 'bar' }],\n *  [{ id: 1, name: 'foo'}]\n * );\n *\n * // Will return [{ id: 2, name: 'bar' }]\n *\n * @param suggestions List of suggestions\n * @param selectedItems List of selection\n * @param getChoiceValue Converter function from suggestion to value\n */\nvar removeAlreadySelectedSuggestions = function (suggestions, selectedItems, getChoiceValue) {\n    if (!selectedItems) {\n        return suggestions;\n    }\n    var selectedValues = Array.isArray(selectedItems)\n        ? selectedItems.map(getChoiceValue)\n        : [getChoiceValue(selectedItems)];\n    return suggestions.filter(function (suggestion) { return !selectedValues.includes(getChoiceValue(suggestion)); });\n};\n/**\n * @example\n *\n * limitSuggestions(\n *  [{ id: 1, name: 'foo'}, { id: 2, name: 'bar' }],\n *  1\n * );\n *\n * // Will return [{ id: 1, name: 'foo' }]\n *\n * @param suggestions List of suggestions\n * @param limit\n */\nvar limitSuggestions = function (suggestions, limit) {\n    if (limit === void 0) { limit = 0; }\n    return Number.isInteger(limit) && limit > 0\n        ? suggestions.slice(0, limit)\n        : suggestions;\n};\n/**\n * addSuggestion(\n *  [{ id: 1, name: 'foo'}, { id: 2, name: 'bar' }],\n * );\n *\n * // Will return [{ id: null, name: '' }, { id: 1, name: 'foo' }, , { id: 2, name: 'bar' }]\n *\n * @param suggestions List of suggestions\n * @param options\n * @param options.optionText\n */\nvar getSuggestion = function (_a) {\n    var _b = _a.optionText, optionText = _b === void 0 ? 'name' : _b, _c = _a.optionValue, optionValue = _c === void 0 ? 'id' : _c, _d = _a.text, text = _d === void 0 ? '' : _d, _e = _a.value, value = _e === void 0 ? null : _e;\n    var suggestion = {};\n    set(suggestion, optionValue, value);\n    if (typeof optionText === 'string') {\n        set(suggestion, optionText, text);\n    }\n    return suggestion;\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport classnames from 'classnames';\nimport { Paper, Popper } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nvar useStyles = makeStyles({\n    suggestionsContainer: {\n        zIndex: 2,\n    },\n    suggestionsPaper: {\n        maxHeight: '50vh',\n        overflowY: 'auto',\n    },\n}, { name: 'RaAutocompleteSuggestionList' });\nvar AutocompleteSuggestionList = function (props) {\n    var children = props.children, className = props.className, isOpen = props.isOpen, menuProps = props.menuProps, inputEl = props.inputEl, suggestionsContainerProps = props.suggestionsContainerProps;\n    var classes = useStyles(props);\n    return (React.createElement(Popper, __assign({ open: isOpen, anchorEl: inputEl, className: classnames(classes.suggestionsContainer, className), modifiers: {} }, suggestionsContainerProps),\n        React.createElement(\"div\", __assign({}, (isOpen ? menuProps : {})),\n            React.createElement(Paper, { square: true, style: {\n                    marginTop: 8,\n                    minWidth: inputEl ? inputEl.clientWidth : null,\n                }, className: classes.suggestionsPaper }, children))));\n};\nexport default AutocompleteSuggestionList;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { isValidElement, cloneElement } from 'react';\nimport parse from 'autosuggest-highlight/parse';\nimport match from 'autosuggest-highlight/match';\nimport { MenuItem } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nvar useStyles = makeStyles(function (theme) { return ({\n    root: {\n        fontWeight: 400,\n    },\n    selected: {\n        fontWeight: 500,\n    },\n    suggestion: {\n        display: 'block',\n        fontFamily: theme.typography.fontFamily,\n        minHeight: 24,\n    },\n    suggestionText: { fontWeight: 300 },\n    highlightedSuggestionText: { fontWeight: 500 },\n}); }, { name: 'RaAutocompleteSuggestionItem' });\nvar AutocompleteSuggestionItem = function (props) {\n    var _a;\n    var createValue = props.createValue, suggestion = props.suggestion, index = props.index, highlightedIndex = props.highlightedIndex, isSelected = props.isSelected, filterValue = props.filterValue, classesOverride = props.classes, getSuggestionText = props.getSuggestionText, rest = __rest(props, [\"createValue\", \"suggestion\", \"index\", \"highlightedIndex\", \"isSelected\", \"filterValue\", \"classes\", \"getSuggestionText\"]);\n    var classes = useStyles(props);\n    var isHighlighted = highlightedIndex === index;\n    var suggestionText = 'id' in suggestion && suggestion.id === createValue\n        ? suggestion.name\n        : getSuggestionText(suggestion);\n    var matches;\n    var parts;\n    if (!isValidElement(suggestionText)) {\n        matches = match(suggestionText, filterValue);\n        parts = parse(suggestionText, matches);\n    }\n    return (React.createElement(MenuItem, __assign({ key: suggestionText, selected: isHighlighted, className: classnames(classes.root, (_a = {},\n            _a[classes.selected] = isSelected,\n            _a)) }, rest), isValidElement(suggestionText) ? (cloneElement(suggestionText, { filterValue: filterValue })) : (React.createElement(\"div\", { className: classes.suggestion }, parts.map(function (part, index) {\n        return part.highlight ? (React.createElement(\"span\", { key: index, className: classes.highlightedSuggestionText }, part.text)) : (React.createElement(\"strong\", { key: index, className: classes.suggestionText }, part.text));\n    })))));\n};\nexport default AutocompleteSuggestionItem;\n","import React from 'react';\nimport { CircularProgress } from '@material-ui/core';\nimport { useTimeout } from 'ra-core';\nexport var AutocompleteInputLoader = function (_a) {\n    var _b = _a.timeout, timeout = _b === void 0 ? 1000 : _b;\n    var oneSecondHasPassed = useTimeout(timeout);\n    if (oneSecondHasPassed) {\n        return React.createElement(CircularProgress, { size: 24 });\n    }\n    return null;\n};\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport * as React from 'react';\nimport { createContext, isValidElement, useContext, useState, } from 'react';\nimport { useTranslate } from 'ra-core';\n/**\n * This hook provides support for suggestion creation in inputs which have choices.\n *\n * @param options The hook option\n * @param {ReactElement} options.create A react element which will be rendered when users choose to create a new choice. This component must call the `useCreateSuggestionContext` hook which provides `onCancel`, `onCreate` and `filter`. See the examples.\n * @param {String} options.createLabel Optional. The label for the choice item allowing users to create a new choice. Can be a translation key. Defaults to `ra.action.create`.\n * @param {String} options.createItemLabel Optional. The label for the choice item allowing users to create a new choice when they already entered a filter. Can be a translation key. The translation will receive an `item` parameter. Defaults to `ra.action.create_item`.\n * @param {any} options.createValue Optional. The value for the choice item allowing users to create a new choice. Defaults to `@@ra-create`.\n * @param {String} options.filter Optional. The filter users may have already entered. Useful for autocomplete inputs for example.\n * @param {OnCreateHandler} options.onCreate Optional. A function which will be called when users choose to create a new choice, if the `create` option wasn't provided.\n * @param handleChange: a function to pass to the input. Receives the same parameter as the original event handler and an additional newItem parameter if a new item was create.\n * @returns {UseSupportCreateValue} An object with the following properties:\n * - getCreateItem: a function which will return the label of the choice for create a new choice.\n * - createElement: a React element to render after the input. It will be rendered when users choose to create a new choice. It renders null otherwise.\n */\nexport var useSupportCreateSuggestion = function (options) {\n    var create = options.create, _a = options.createLabel, createLabel = _a === void 0 ? 'ra.action.create' : _a, _b = options.createItemLabel, createItemLabel = _b === void 0 ? 'ra.action.create_item' : _b, _c = options.createValue, createValue = _c === void 0 ? '@@ra-create' : _c, filter = options.filter, handleChange = options.handleChange, onCreate = options.onCreate;\n    var translate = useTranslate();\n    var _d = useState(false), renderOnCreate = _d[0], setRenderOnCreate = _d[1];\n    var context = {\n        filter: filter,\n        onCancel: function () { return setRenderOnCreate(false); },\n        onCreate: function (item) {\n            setRenderOnCreate(false);\n            handleChange(undefined, item);\n        },\n    };\n    return {\n        getCreateItem: function () {\n            return {\n                id: createValue,\n                name: filter && createItemLabel\n                    ? translate(createItemLabel, {\n                        item: filter,\n                        _: createItemLabel,\n                    })\n                    : translate(createLabel, { _: createLabel }),\n            };\n        },\n        handleChange: function (eventOrValue) { return __awaiter(void 0, void 0, void 0, function () {\n            var value, finalValue, newSuggestion;\n            var _a;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        value = ((_a = eventOrValue.target) === null || _a === void 0 ? void 0 : _a.value) || eventOrValue;\n                        finalValue = Array.isArray(value) ? __spreadArrays(value).pop() : value;\n                        if (eventOrValue === null || eventOrValue === void 0 ? void 0 : eventOrValue.preventDefault) {\n                            eventOrValue.preventDefault();\n                            eventOrValue.stopPropagation();\n                        }\n                        if (!((finalValue === null || finalValue === void 0 ? void 0 : finalValue.id) === createValue || finalValue === createValue)) return [3 /*break*/, 3];\n                        if (!!isValidElement(create)) return [3 /*break*/, 2];\n                        return [4 /*yield*/, onCreate(filter)];\n                    case 1:\n                        newSuggestion = _b.sent();\n                        if (newSuggestion) {\n                            handleChange(eventOrValue, newSuggestion);\n                            return [2 /*return*/];\n                        }\n                        return [3 /*break*/, 3];\n                    case 2:\n                        setRenderOnCreate(true);\n                        return [2 /*return*/];\n                    case 3:\n                        handleChange(eventOrValue, undefined);\n                        return [2 /*return*/];\n                }\n            });\n        }); },\n        createElement: renderOnCreate && isValidElement(create) ? (React.createElement(CreateSuggestionContext.Provider, { value: context }, create)) : null,\n    };\n};\nvar CreateSuggestionContext = createContext(undefined);\nexport var useCreateSuggestionContext = function () {\n    return useContext(CreateSuggestionContext);\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport React, { useCallback, useEffect, useRef, useState, useMemo, isValidElement, } from 'react';\nimport Downshift from 'downshift';\nimport get from 'lodash/get';\nimport classNames from 'classnames';\nimport { TextField, InputAdornment, IconButton } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport { useInput, FieldTitle, useSuggestions, useTranslate, warning, } from 'ra-core';\nimport InputHelperText from './InputHelperText';\nimport AutocompleteSuggestionList from './AutocompleteSuggestionList';\nimport AutocompleteSuggestionItem from './AutocompleteSuggestionItem';\nimport { AutocompleteInputLoader } from './AutocompleteInputLoader';\nimport { useSupportCreateSuggestion, } from './useSupportCreateSuggestion';\n/**\n * An Input component for an autocomplete field, using an array of objects for the options\n *\n * Pass possible options as an array of objects in the 'choices' attribute.\n *\n * By default, the options are built from:\n *  - the 'id' property as the option value,\n *  - the 'name' property as the option text\n * @example\n * const choices = [\n *    { id: 'M', name: 'Male' },\n *    { id: 'F', name: 'Female' },\n * ];\n * <AutocompleteInput source=\"gender\" choices={choices} />\n *\n * You can also customize the properties to use for the option name and value,\n * thanks to the 'optionText' and 'optionValue' attributes.\n * @example\n * const choices = [\n *    { _id: 123, full_name: 'Leo Tolstoi', sex: 'M' },\n *    { _id: 456, full_name: 'Jane Austen', sex: 'F' },\n * ];\n * <AutocompleteInput source=\"author_id\" choices={choices} optionText=\"full_name\" optionValue=\"_id\" />\n *\n * `optionText` also accepts a function, so you can shape the option text at will:\n * @example\n * const choices = [\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\n * ];\n * const optionRenderer = choice => `${choice.first_name} ${choice.last_name}`;\n * <AutocompleteInput source=\"author_id\" choices={choices} optionText={optionRenderer} />\n *\n * `optionText` also accepts a React Element, that will be cloned and receive\n * the related choice as the `record` prop. You can use Field components there.\n * Note that you must also specify the `matchSuggestion` prop\n * @example\n * const choices = [\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\n * ];\n * const matchSuggestion = (filterValue, choice) => choice.first_name.match(filterValue) || choice.last_name.match(filterValue);\n * const FullNameField = ({ record }) => <span>{record.first_name} {record.last_name}</span>;\n * <SelectInput source=\"gender\" choices={choices} optionText={<FullNameField />} matchSuggestion={matchSuggestion} />\n *\n * The choices are translated by default, so you can use translation identifiers as choices:\n * @example\n * const choices = [\n *    { id: 'M', name: 'myroot.gender.male' },\n *    { id: 'F', name: 'myroot.gender.female' },\n * ];\n *\n * However, in some cases (e.g. inside a `<ReferenceInput>`), you may not want\n * the choice to be translated. In that case, set the `translateChoice` prop to false.\n * @example\n * <AutocompleteInput source=\"gender\" choices={choices} translateChoice={false}/>\n *\n * The object passed as `options` props is passed to the material-ui <TextField> component\n *\n * @example\n * <AutocompleteInput source=\"author_id\" options={{ color: 'secondary', InputLabelProps: { shrink: true } }} />\n */\nexport var AutocompleteInput = function (props) {\n    var allowEmpty = props.allowEmpty, className = props.className, classesOverride = props.classes, clearAlwaysVisible = props.clearAlwaysVisible, _a = props.choices, choices = _a === void 0 ? [] : _a, createLabel = props.createLabel, createItemLabel = props.createItemLabel, createValue = props.createValue, create = props.create, disabled = props.disabled, emptyText = props.emptyText, emptyValue = props.emptyValue, format = props.format, fullWidth = props.fullWidth, helperText = props.helperText, idOverride = props.id, inputOverride = props.input, inputText = props.inputText, isRequiredOverride = props.isRequired, label = props.label, limitChoicesToValue = props.limitChoicesToValue, loaded = props.loaded, loading = props.loading, _b = props.margin, margin = _b === void 0 ? 'dense' : _b, matchSuggestion = props.matchSuggestion, metaOverride = props.meta, onBlur = props.onBlur, onChange = props.onChange, onCreate = props.onCreate, onFocus = props.onFocus, _c = props.options, _d = _c === void 0 ? {\n        suggestionsContainerProps: undefined,\n        labelProps: undefined,\n        InputProps: undefined,\n    } : _c, suggestionsContainerProps = _d.suggestionsContainerProps, labelProps = _d.labelProps, InputProps = _d.InputProps, options = __rest(_d, [\"suggestionsContainerProps\", \"labelProps\", \"InputProps\"]), _e = props.optionText, optionText = _e === void 0 ? 'name' : _e, _f = props.optionValue, optionValue = _f === void 0 ? 'id' : _f, parse = props.parse, refetch = props.refetch, resettable = props.resettable, resource = props.resource, setFilter = props.setFilter, shouldRenderSuggestionsOverride = props.shouldRenderSuggestions, source = props.source, suggestionLimit = props.suggestionLimit, _g = props.translateChoice, translateChoice = _g === void 0 ? true : _g, validate = props.validate, _h = props.variant, variant = _h === void 0 ? 'filled' : _h, rest = __rest(props, [\"allowEmpty\", \"className\", \"classes\", \"clearAlwaysVisible\", \"choices\", \"createLabel\", \"createItemLabel\", \"createValue\", \"create\", \"disabled\", \"emptyText\", \"emptyValue\", \"format\", \"fullWidth\", \"helperText\", \"id\", \"input\", \"inputText\", \"isRequired\", \"label\", \"limitChoicesToValue\", \"loaded\", \"loading\", \"margin\", \"matchSuggestion\", \"meta\", \"onBlur\", \"onChange\", \"onCreate\", \"onFocus\", \"options\", \"optionText\", \"optionValue\", \"parse\", \"refetch\", \"resettable\", \"resource\", \"setFilter\", \"shouldRenderSuggestions\", \"source\", \"suggestionLimit\", \"translateChoice\", \"validate\", \"variant\"]);\n    if (isValidElement(optionText) && !inputText) {\n        throw new Error(\"If the optionText prop is a React element, you must also specify the inputText prop:\\n        <AutocompleteInput\\n            inputText={(record) => record.title}\\n        />\");\n    }\n    warning(isValidElement(optionText) && !matchSuggestion, \"If the optionText prop is a React element, you must also specify the matchSuggestion prop:\\n<AutocompleteInput\\n    matchSuggestion={(filterValue, suggestion) => true}\\n/>\\n        \");\n    warning(source === undefined, \"If you're not wrapping the AutocompleteInput inside a ReferenceInput, you must provide the source prop\");\n    warning(choices === undefined, \"If you're not wrapping the AutocompleteInput inside a ReferenceInput, you must provide the choices prop\");\n    var classes = useStyles(props);\n    var inputEl = useRef();\n    var anchorEl = useRef();\n    var translate = useTranslate();\n    var _j = useInput(__assign({ format: format, id: idOverride, input: inputOverride, meta: metaOverride, onBlur: onBlur,\n        onChange: onChange,\n        onFocus: onFocus,\n        parse: parse,\n        resource: resource,\n        source: source,\n        validate: validate }, rest)), id = _j.id, input = _j.input, isRequired = _j.isRequired, _k = _j.meta, touched = _k.touched, error = _k.error, submitError = _k.submitError;\n    var _l = useState(''), filterValue = _l[0], setFilterValue = _l[1];\n    var getSuggestionFromValue = useCallback(function (value) { return choices.find(function (choice) { return get(choice, optionValue) === value; }); }, [choices, optionValue]);\n    var selectedItem = useMemo(function () { return getSuggestionFromValue(input.value) || null; }, [input.value, getSuggestionFromValue]);\n    var _m = useSuggestions({\n        allowEmpty: allowEmpty,\n        choices: choices,\n        emptyText: emptyText,\n        emptyValue: emptyValue,\n        limitChoicesToValue: limitChoicesToValue,\n        matchSuggestion: matchSuggestion,\n        optionText: optionText,\n        optionValue: optionValue,\n        selectedItem: selectedItem,\n        suggestionLimit: suggestionLimit,\n        translateChoice: translateChoice,\n    }), getChoiceText = _m.getChoiceText, getChoiceValue = _m.getChoiceValue, getSuggestions = _m.getSuggestions;\n    var handleChange = useCallback(function (item, newItem) { return __awaiter(void 0, void 0, void 0, function () {\n        var value;\n        return __generator(this, function (_a) {\n            value = getChoiceValue(newItem || item);\n            if (value == null && filterValue) {\n                setFilterValue('');\n            }\n            input.onChange(value);\n            return [2 /*return*/];\n        });\n    }); }, [filterValue, getChoiceValue, input]);\n    var _o = useSupportCreateSuggestion({\n        create: create,\n        createLabel: createLabel,\n        createItemLabel: createItemLabel,\n        createValue: createValue,\n        handleChange: handleChange,\n        filter: filterValue,\n        onCreate: onCreate,\n    }), getCreateItem = _o.getCreateItem, handleChangeWithCreateSupport = _o.handleChange, createElement = _o.createElement;\n    var handleFilterChange = useCallback(function (eventOrValue) {\n        var event = eventOrValue;\n        var value = event.target\n            ? event.target.value\n            : eventOrValue;\n        if (setFilter) {\n            setFilter(value);\n        }\n    }, [setFilter]);\n    // We must reset the filter every time the value changes to ensure we\n    // display at least some choices even if the input has a value.\n    // Otherwise, it would only display the currently selected one and the user\n    // would have to first clear the input before seeing any other choices\n    useEffect(function () {\n        handleFilterChange('');\n        // If we have a value, set the filter to its text so that\n        // Downshift displays it correctly\n        setFilterValue(typeof input.value === 'undefined' ||\n            input.value === null ||\n            selectedItem === null\n            ? ''\n            : inputText\n                ? inputText(getChoiceText(selectedItem).props.record)\n                : getChoiceText(selectedItem));\n    }, [\n        input.value,\n        handleFilterChange,\n        selectedItem,\n        getChoiceText,\n        inputText,\n    ]);\n    // This function ensures that the suggestion list stay aligned to the\n    // input element even if it moves (because user scrolled for example)\n    var updateAnchorEl = function () {\n        if (!inputEl.current) {\n            return;\n        }\n        var inputPosition = inputEl.current.getBoundingClientRect();\n        // It works by implementing a mock element providing the only method used\n        // by the PopOver component, getBoundingClientRect, which will return a\n        // position based on the input position\n        if (!anchorEl.current) {\n            anchorEl.current = { getBoundingClientRect: function () { return inputPosition; } };\n        }\n        else {\n            var anchorPosition = anchorEl.current.getBoundingClientRect();\n            if (anchorPosition.x !== inputPosition.x ||\n                anchorPosition.y !== inputPosition.y) {\n                anchorEl.current = {\n                    getBoundingClientRect: function () { return inputPosition; },\n                };\n            }\n        }\n    };\n    var storeInputRef = function (input) {\n        inputEl.current = input;\n        updateAnchorEl();\n    };\n    var handleBlur = useCallback(function (event) {\n        handleFilterChange('');\n        // If we had a value before, set the filter back to its text so that\n        // Downshift displays it correctly\n        setFilterValue(input.value\n            ? inputText\n                ? inputText(getChoiceText(selectedItem).props.record)\n                : getChoiceText(selectedItem)\n            : '');\n        input.onBlur(event);\n    }, [getChoiceText, handleFilterChange, input, inputText, selectedItem]);\n    var handleFocus = useCallback(function (openMenu) { return function (event) {\n        openMenu(event);\n        input.onFocus(event);\n    }; }, [input]);\n    var shouldRenderSuggestions = function (val) {\n        if (shouldRenderSuggestionsOverride !== undefined &&\n            typeof shouldRenderSuggestionsOverride === 'function') {\n            return shouldRenderSuggestionsOverride(val);\n        }\n        return true;\n    };\n    var _p = InputProps || {}, endAdornment = _p.endAdornment, InputPropsWithoutEndAdornment = __rest(_p, [\"endAdornment\"]);\n    var handleClickClearButton = useCallback(function (openMenu) { return function (event) {\n        event.stopPropagation();\n        setFilterValue('');\n        input.onChange('');\n        openMenu(event);\n        input.onFocus(event);\n    }; }, [input]);\n    var getEndAdornment = function (openMenu) {\n        var _a;\n        if (!resettable) {\n            if (endAdornment) {\n                return endAdornment;\n            }\n            if (loading) {\n                return React.createElement(AutocompleteInputLoader, null);\n            }\n        }\n        else if (!filterValue) {\n            var label_1 = translate('ra.action.clear_input_value');\n            if (clearAlwaysVisible) {\n                // show clear button, inactive\n                return (React.createElement(InputAdornment, { position: \"end\" },\n                    React.createElement(IconButton, { className: classes.clearButton, \"aria-label\": label_1, title: label_1, disableRipple: true, disabled: true },\n                        React.createElement(ClearIcon, { className: classNames(classes.clearIcon, classes.visibleClearIcon) })),\n                    loading && React.createElement(AutocompleteInputLoader, null)));\n            }\n            else {\n                if (endAdornment) {\n                    return endAdornment;\n                }\n                else {\n                    // show spacer\n                    return (React.createElement(InputAdornment, { position: \"end\" },\n                        React.createElement(\"span\", { className: classes.clearButton }, \"\\u00A0\"),\n                        loading && React.createElement(AutocompleteInputLoader, null)));\n                }\n            }\n        }\n        else {\n            // show clear\n            var label_2 = translate('ra.action.clear_input_value');\n            return (React.createElement(InputAdornment, { position: \"end\" },\n                React.createElement(IconButton, { className: classes.clearButton, \"aria-label\": label_2, title: label_2, disableRipple: true, onClick: handleClickClearButton(openMenu), onMouseDown: handleMouseDownClearButton, disabled: disabled },\n                    React.createElement(ClearIcon, { className: classNames(classes.clearIcon, (_a = {},\n                            _a[classes.visibleClearIcon] = clearAlwaysVisible || filterValue,\n                            _a)) })),\n                loading && React.createElement(AutocompleteInputLoader, null)));\n        }\n    };\n    return (React.createElement(React.Fragment, null,\n        React.createElement(Downshift, __assign({ inputValue: filterValue, onChange: handleChangeWithCreateSupport, selectedItem: selectedItem, itemToString: function (item) { return getChoiceValue(item); } }, rest), function (_a) {\n            var getInputProps = _a.getInputProps, getItemProps = _a.getItemProps, getLabelProps = _a.getLabelProps, getMenuProps = _a.getMenuProps, isOpen = _a.isOpen, highlightedIndex = _a.highlightedIndex, openMenu = _a.openMenu;\n            var isMenuOpen = isOpen && shouldRenderSuggestions(filterValue);\n            var _b = getInputProps(__assign({ onBlur: handleBlur, onFocus: handleFocus(openMenu) }, InputProps)), downshiftId = _b.id, // We want to ignore this to correctly link our label and the input\n            value = _b.value, onBlur = _b.onBlur, onChange = _b.onChange, onFocus = _b.onFocus, ref = _b.ref, size = _b.size, color = _b.color, inputProps = __rest(_b, [\"id\", \"value\", \"onBlur\", \"onChange\", \"onFocus\", \"ref\", \"size\", \"color\"]);\n            var suggestions = __spreadArrays(getSuggestions(filterValue), (onCreate || create ? [getCreateItem()] : []));\n            return (React.createElement(\"div\", { className: classes.container },\n                React.createElement(TextField, __assign({ id: id, name: input.name, InputProps: __assign({ inputRef: storeInputRef, endAdornment: getEndAdornment(openMenu), onBlur: onBlur, onChange: function (event) {\n                            setFilterValue(event.target.value);\n                            handleFilterChange(event);\n                            onChange(event);\n                        }, onFocus: onFocus }, InputPropsWithoutEndAdornment), error: !!(touched && (error || submitError)), label: React.createElement(FieldTitle, __assign({ label: label }, labelProps, { source: source, resource: resource, isRequired: typeof isRequiredOverride !==\n                            'undefined'\n                            ? isRequiredOverride\n                            : isRequired })), InputLabelProps: getLabelProps({\n                        htmlFor: id,\n                    }), helperText: React.createElement(InputHelperText, { touched: touched, error: error || submitError, helperText: helperText }), disabled: disabled, variant: variant, margin: margin, fullWidth: fullWidth, value: filterValue, className: className, size: size, color: color }, inputProps, options)),\n                React.createElement(AutocompleteSuggestionList, { isOpen: isMenuOpen, menuProps: getMenuProps({}, \n                    // https://github.com/downshift-js/downshift/issues/235\n                    { suppressRefError: true }), inputEl: inputEl.current, suggestionsContainerProps: suggestionsContainerProps, className: classes.suggestionsContainer }, suggestions.map(function (suggestion, index) { return (React.createElement(AutocompleteSuggestionItem, __assign({ key: getChoiceValue(suggestion), suggestion: suggestion, index: index, highlightedIndex: highlightedIndex, isSelected: input.value ===\n                        getChoiceValue(suggestion), filterValue: filterValue, getSuggestionText: getChoiceText, createValue: createValue }, getItemProps({\n                    item: suggestion,\n                })))); }))));\n        }),\n        createElement));\n};\nvar handleMouseDownClearButton = function (event) {\n    event.preventDefault();\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    container: {\n        flexGrow: 1,\n        position: 'relative',\n    },\n    clearIcon: {\n        height: 16,\n        width: 0,\n    },\n    visibleClearIcon: {\n        width: 16,\n    },\n    clearButton: {\n        height: 24,\n        width: 24,\n        padding: 0,\n    },\n    selectAdornment: {\n        position: 'absolute',\n        right: 24,\n    },\n    inputAdornedEnd: {\n        paddingRight: 0,\n    },\n    suggestionsContainer: {\n        zIndex: theme.zIndex.modal,\n    },\n}); }, { name: 'RaAutocompleteInput' });\n","import PropTypes from 'prop-types';\n/**\n * Common PropTypes for all react-admin inputs\n */\nvar InputPropTypes = {\n    label: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n    resource: PropTypes.string,\n    source: PropTypes.string,\n};\nexport default InputPropTypes;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport Switch from '@material-ui/core/Switch';\nimport { FieldTitle, useInput } from 'ra-core';\nimport sanitizeInputRestProps from './sanitizeInputRestProps';\nimport InputHelperText from './InputHelperText';\nimport InputPropTypes from './InputPropTypes';\nvar BooleanInput = function (_a) {\n    var format = _a.format, label = _a.label, fullWidth = _a.fullWidth, helperText = _a.helperText, onBlur = _a.onBlur, onChange = _a.onChange, onFocus = _a.onFocus, options = _a.options, disabled = _a.disabled, parse = _a.parse, resource = _a.resource, source = _a.source, validate = _a.validate, rest = __rest(_a, [\"format\", \"label\", \"fullWidth\", \"helperText\", \"onBlur\", \"onChange\", \"onFocus\", \"options\", \"disabled\", \"parse\", \"resource\", \"source\", \"validate\"]);\n    var _b = useInput(__assign({ format: format,\n        onBlur: onBlur,\n        onChange: onChange,\n        onFocus: onFocus,\n        parse: parse,\n        resource: resource,\n        source: source, type: 'checkbox', validate: validate }, rest)), id = _b.id, _c = _b.input, finalFormOnChange = _c.onChange, type = _c.type, value = _c.value, inputProps = __rest(_c, [\"onChange\", \"type\", \"value\"]), isRequired = _b.isRequired, _d = _b.meta, error = _d.error, submitError = _d.submitError, touched = _d.touched;\n    var handleChange = useCallback(function (event, value) {\n        finalFormOnChange(value);\n    }, [finalFormOnChange]);\n    return (React.createElement(FormGroup, __assign({}, sanitizeInputRestProps(rest)),\n        React.createElement(FormControlLabel, { control: React.createElement(Switch, __assign({ id: id, color: \"primary\", onChange: handleChange }, inputProps, options, { disabled: disabled })), label: React.createElement(FieldTitle, { label: label, source: source, resource: resource, isRequired: isRequired }) }),\n        React.createElement(FormHelperText, { error: !!(error || submitError) },\n            React.createElement(InputHelperText, { touched: touched, error: error || submitError, helperText: helperText }))));\n};\nBooleanInput.propTypes = __assign(__assign({}, InputPropTypes), { \n    // @ts-ignore\n    options: PropTypes.shape(Switch.propTypes), disabled: PropTypes.bool });\nBooleanInput.defaultProps = {\n    options: {},\n};\nexport default BooleanInput;\n","import * as React from 'react';\nimport { createContext, useContext, useMemo } from 'react';\nimport pick from 'lodash/pick';\nexport var SaveContext = createContext(undefined);\nexport var SaveContextProvider = function (_a) {\n    var children = _a.children, value = _a.value;\n    return (React.createElement(SaveContext.Provider, { value: value }, children));\n};\n/**\n * Get the save() function and its status\n *\n * Used in forms.\n *\n * @example\n *\n * const {\n *     save,\n *     saving\n * } = useSaveContext();\n */\nexport var useSaveContext = function (props) {\n    var context = useContext(SaveContext);\n    if (!context || !context.save || !context.setOnFailure) {\n        /**\n         * The element isn't inside a <SaveContextProvider>\n         * To avoid breakage in that case, fallback to props\n         *\n         * @deprecated - to be removed in 4.0\n         */\n        if (process.env.NODE_ENV !== 'production') {\n            console.log(\"Edit or Create child components must be used inside a <SaveContextProvider>. Relying on props rather than context to get persistence related data and callbacks is deprecated and won't be supported in the next major version of react-admin.\");\n        }\n        return props;\n    }\n    return context;\n};\nexport var usePickSaveContext = function (context) {\n    var value = useMemo(function () {\n        return pick(context, [\n            'save',\n            'saving',\n            'setOnFailure',\n            'setOnSuccess',\n            'setTransform',\n            'onSuccessRef',\n            'onFailureRef',\n            'transformRef',\n        ]);\n    }, \n    /* eslint-disable react-hooks/exhaustive-deps */\n    [\n        context.save,\n        context.saving,\n        context.setOnFailure,\n        context.setOnSuccess,\n        context.setTransform,\n        context.setTransform,\n        context.onFailureRef,\n        context.onSuccessRef,\n        context.transformRef,\n    ]\n    /* eslint-enable react-hooks/exhaustive-deps */\n    );\n    return value;\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { cloneElement } from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ContentSave from '@material-ui/icons/Save';\nimport classnames from 'classnames';\nimport { useTranslate, useNotify, useSaveContext, useFormContext, } from 'ra-core';\nimport { sanitizeButtonRestProps } from './Button';\n/**\n * Submit button for resource forms (Edit and Create).\n *\n * @typedef {Object} Props the props you can use (other props are injected by the <Toolbar>)\n * @prop {string} className\n * @prop {string} label Button label. Defaults to 'ra.action.save', translated.\n * @prop {boolean} disabled Disable the button.\n * @prop {string} variant Material-ui variant for the button. Defaults to 'contained'.\n * @prop {ReactElement} icon\n * @prop {string|boolean} redirect Override of the default redirect in case of success. Can be 'list', 'show', 'edit' (for create views), or false (to stay on the creation form).\n * @prop {function} onSave (deprecated)\n * @prop {function} onSuccess Callback to execute instead of the default success side effects. Receives the dataProvider response as argument.\n * @prop {function} onFailure Callback to execute instead of the default error side effects. Receives the dataProvider error response as argument.\n * @prop {function} transform Callback to execute before calling the dataProvider. Receives the data from the form, must return that transformed data. Can be asynchronous (and return a Promise)\n *\n * @param {Props} props\n *\n * @example // with custom redirection\n *\n * <SaveButton label=\"post.action.save_and_edit\" redirect=\"edit\" />\n *\n * @example // with no redirection\n *\n * <SaveButton label=\"post.action.save_and_add\" redirect={false} />\n *\n * @example // with custom success side effect\n *\n * const MySaveButton = props => {\n *     const notify = useNotify();\n *     const redirect = useRedirect();\n *     const onSuccess = (response) => {\n *         notify(`Post \"${response.data.title}\" saved!`);\n *         redirect('/posts');\n *     };\n *     return <SaveButton {...props} onSuccess={onSuccess} />;\n * }\n */\nvar SaveButton = function (props) {\n    var className = props.className, classesOverride = props.classes, invalid = props.invalid, _a = props.label, label = _a === void 0 ? 'ra.action.save' : _a, disabled = props.disabled, redirect = props.redirect, saving = props.saving, submitOnEnter = props.submitOnEnter, _b = props.variant, variant = _b === void 0 ? 'contained' : _b, _c = props.icon, icon = _c === void 0 ? defaultIcon : _c, onClick = props.onClick, handleSubmitWithRedirect = props.handleSubmitWithRedirect, onSave = props.onSave, onSuccess = props.onSuccess, onFailure = props.onFailure, transform = props.transform, rest = __rest(props, [\"className\", \"classes\", \"invalid\", \"label\", \"disabled\", \"redirect\", \"saving\", \"submitOnEnter\", \"variant\", \"icon\", \"onClick\", \"handleSubmitWithRedirect\", \"onSave\", \"onSuccess\", \"onFailure\", \"transform\"]);\n    var classes = useStyles(props);\n    var notify = useNotify();\n    var translate = useTranslate();\n    var formContext = useFormContext();\n    var _d = useSaveContext(props), setOnSuccess = _d.setOnSuccess, setOnFailure = _d.setOnFailure, setTransform = _d.setTransform;\n    var handleClick = function (event) {\n        // deprecated: use onSuccess and transform instead of onSave\n        if (typeof onSave === 'function') {\n            if (process.env.NODE_ENV !== 'production') {\n                console.warn('<SaveButton onSave> prop is deprecated, use the onSuccess prop instead.');\n                if (!formContext || !formContext.setOnSave) {\n                    console.warn('Using <SaveButton> outside a FormContext is deprecated.');\n                }\n            }\n            if (formContext && formContext.setOnSave) {\n                formContext.setOnSave(onSave);\n            }\n        }\n        else {\n            if (process.env.NODE_ENV !== 'production' &&\n                (!formContext || !formContext.setOnSave)) {\n                console.warn('Using <SaveButton> outside a FormContext is deprecated.');\n            }\n            if (formContext && formContext.setOnSave) {\n                // we reset to the Form default save function\n                formContext.setOnSave();\n            }\n        }\n        if (onSuccess) {\n            setOnSuccess(onSuccess);\n        }\n        if (onFailure) {\n            setOnFailure(onFailure);\n        }\n        if (transform) {\n            setTransform(transform);\n        }\n        if (saving) {\n            // prevent double submission\n            event.preventDefault();\n        }\n        else {\n            if (invalid) {\n                notify('ra.message.invalid_form', 'warning');\n            }\n            // always submit form explicitly regardless of button type\n            if (event) {\n                event.preventDefault();\n            }\n            handleSubmitWithRedirect(redirect);\n        }\n        if (typeof onClick === 'function') {\n            onClick(event);\n        }\n    };\n    var type = submitOnEnter ? 'submit' : 'button';\n    var displayedLabel = label && translate(label, { _: label });\n    return (React.createElement(Button, __assign({ className: classnames(classes.button, className), variant: variant, type: type, onClick: handleClick, color: saving ? 'default' : 'primary', \"aria-label\": displayedLabel, disabled: disabled }, sanitizeButtonRestProps(rest)),\n        saving ? (React.createElement(CircularProgress, { size: 18, thickness: 2, className: classes.leftIcon })) : (cloneElement(icon, {\n            className: classnames(classes.leftIcon, classes.icon),\n        })),\n        displayedLabel));\n};\nvar defaultIcon = React.createElement(ContentSave, null);\nvar useStyles = makeStyles(function (theme) { return ({\n    button: {\n        position: 'relative',\n    },\n    leftIcon: {\n        marginRight: theme.spacing(1),\n    },\n    icon: {\n        fontSize: 18,\n    },\n}); }, { name: 'RaSaveButton' });\nSaveButton.propTypes = {\n    className: PropTypes.string,\n    classes: PropTypes.object,\n    handleSubmitWithRedirect: PropTypes.func,\n    // @deprecated\n    onSave: PropTypes.func,\n    invalid: PropTypes.bool,\n    label: PropTypes.string,\n    redirect: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.bool,\n        PropTypes.func,\n    ]),\n    saving: PropTypes.bool,\n    submitOnEnter: PropTypes.bool,\n    variant: PropTypes.oneOf(['text', 'outlined', 'contained']),\n    icon: PropTypes.element,\n};\nexport default SaveButton;\n","import { useCallback } from 'react';\nimport { useDelete } from '../../dataProvider';\nimport { CRUD_DELETE } from '../../actions';\nimport { useRefresh, useNotify, useRedirect, } from '../../sideEffect';\nimport { useResourceContext } from '../../core';\n/**\n * Prepare callback for a Delete button with undo support\n *\n * @example\n *\n * import React from 'react';\n * import ActionDelete from '@material-ui/icons/Delete';\n * import { Button, useDeleteWithUndoController } from 'react-admin';\n *\n * const DeleteButton = ({\n *     resource,\n *     record,\n *     basePath,\n *     redirect,\n *     onClick,\n *     ...rest\n * }) => {\n *     const { loading, handleDelete } = useDeleteWithUndoController({\n *         resource,\n *         record,\n *         basePath,\n *         redirect,\n *         onClick,\n *     });\n *\n *     return (\n *         <Button\n *             onClick={handleDelete}\n *             disabled={loading}\n *             label=\"ra.action.delete\"\n *             {...rest}\n *         >\n *             <ActionDelete />\n *         </Button>\n *     );\n * };\n */\nvar useDeleteWithUndoController = function (props) {\n    var record = props.record, basePath = props.basePath, _a = props.redirect, redirectTo = _a === void 0 ? 'list' : _a, onClick = props.onClick, onSuccess = props.onSuccess, onFailure = props.onFailure;\n    var resource = useResourceContext(props);\n    var notify = useNotify();\n    var redirect = useRedirect();\n    var refresh = useRefresh();\n    var _b = useDelete(resource, null, null, {\n        action: CRUD_DELETE,\n        onSuccess: onSuccess !== undefined\n            ? onSuccess\n            : function () {\n                notify('ra.notification.deleted', 'info', { smart_count: 1 }, true);\n                redirect(redirectTo, basePath || \"/\" + resource);\n                refresh();\n            },\n        onFailure: onFailure !== undefined\n            ? onFailure\n            : function (error) {\n                notify(typeof error === 'string'\n                    ? error\n                    : error.message || 'ra.notification.http_error', 'warning', {\n                    _: typeof error === 'string'\n                        ? error\n                        : error && error.message\n                            ? error.message\n                            : undefined,\n                });\n                refresh();\n            },\n        mutationMode: 'undoable',\n    }), deleteOne = _b[0], loading = _b[1].loading;\n    var handleDelete = useCallback(function (event) {\n        event.stopPropagation();\n        deleteOne({\n            payload: { id: record.id, previousData: record },\n        });\n        if (typeof onClick === 'function') {\n            onClick(event);\n        }\n    }, [deleteOne, onClick, record]);\n    return { loading: loading, handleDelete: handleDelete };\n};\nexport default useDeleteWithUndoController;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { fade } from '@material-ui/core/styles/colorManipulator';\nimport ActionDelete from '@material-ui/icons/Delete';\nimport classnames from 'classnames';\nimport { useDeleteWithUndoController, useResourceContext, } from 'ra-core';\nimport Button from './Button';\nvar DeleteWithUndoButton = function (props) {\n    var _a = props.label, label = _a === void 0 ? 'ra.action.delete' : _a, classesOverride = props.classes, className = props.className, _b = props.icon, icon = _b === void 0 ? defaultIcon : _b, onClick = props.onClick, record = props.record, basePath = props.basePath, _c = props.redirect, redirect = _c === void 0 ? 'list' : _c, onSuccess = props.onSuccess, onFailure = props.onFailure, rest = __rest(props, [\"label\", \"classes\", \"className\", \"icon\", \"onClick\", \"record\", \"basePath\", \"redirect\", \"onSuccess\", \"onFailure\"]);\n    var classes = useStyles(props);\n    var resource = useResourceContext(props);\n    var _d = useDeleteWithUndoController({\n        record: record,\n        resource: resource,\n        basePath: basePath,\n        redirect: redirect,\n        onClick: onClick,\n        onSuccess: onSuccess,\n        onFailure: onFailure,\n    }), loading = _d.loading, handleDelete = _d.handleDelete;\n    return (React.createElement(Button, __assign({ onClick: handleDelete, disabled: loading, label: label, className: classnames('ra-delete-button', classes.deleteButton, className), key: \"button\" }, rest), icon));\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    deleteButton: {\n        color: theme.palette.error.main,\n        '&:hover': {\n            backgroundColor: fade(theme.palette.error.main, 0.12),\n            // Reset on mouse devices\n            '@media (hover: none)': {\n                backgroundColor: 'transparent',\n            },\n        },\n    },\n}); }, { name: 'RaDeleteWithUndoButton' });\nvar defaultIcon = React.createElement(ActionDelete, null);\nDeleteWithUndoButton.propTypes = {\n    basePath: PropTypes.string,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    label: PropTypes.string,\n    record: PropTypes.any,\n    redirect: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.bool,\n        PropTypes.func,\n    ]),\n    resource: PropTypes.string,\n    icon: PropTypes.element,\n};\nexport default DeleteWithUndoButton;\n","import { useState, useCallback, } from 'react';\nimport { useDelete } from '../../dataProvider';\nimport { CRUD_DELETE } from '../../actions';\nimport { useRefresh, useNotify, useRedirect, } from '../../sideEffect';\nimport { useResourceContext } from '../../core';\n/**\n * Prepare a set of callbacks for a delete button guarded by confirmation dialog\n *\n * @example\n *\n * const DeleteButton = ({\n *     resource,\n *     record,\n *     basePath,\n *     redirect,\n *     onClick,\n *     ...rest\n * }) => {\n *     const {\n *         open,\n *         loading,\n *         handleDialogOpen,\n *         handleDialogClose,\n *         handleDelete,\n *     } = useDeleteWithConfirmController({\n *         resource,\n *         record,\n *         redirect,\n *         basePath,\n *         onClick,\n *     });\n *\n *     return (\n *         <Fragment>\n *             <Button\n *                 onClick={handleDialogOpen}\n *                 label=\"ra.action.delete\"\n *                 {...rest}\n *             >\n *                 {icon}\n *             </Button>\n *             <Confirm\n *                 isOpen={open}\n *                 loading={loading}\n *                 title=\"ra.message.delete_title\"\n *                 content=\"ra.message.delete_content\"\n *                 translateOptions={{\n *                     name: resource,\n *                     id: record.id,\n *                 }}\n *                 onConfirm={handleDelete}\n *                 onClose={handleDialogClose}\n *             />\n *         </Fragment>\n *     );\n * };\n */\nvar useDeleteWithConfirmController = function (props) {\n    var record = props.record, redirectTo = props.redirect, basePath = props.basePath, mutationMode = props.mutationMode, onClick = props.onClick, onSuccess = props.onSuccess, onFailure = props.onFailure;\n    var resource = useResourceContext(props);\n    var _a = useState(false), open = _a[0], setOpen = _a[1];\n    var notify = useNotify();\n    var redirect = useRedirect();\n    var refresh = useRefresh();\n    var _b = useDelete(resource, null, null, {\n        action: CRUD_DELETE,\n        onSuccess: function (response) {\n            setOpen(false);\n            if (onSuccess === undefined) {\n                notify('ra.notification.deleted', 'info', { smart_count: 1 });\n                redirect(redirectTo, basePath || \"/\" + resource);\n                refresh();\n            }\n            else {\n                onSuccess(response);\n            }\n        },\n        onFailure: function (error) {\n            setOpen(false);\n            if (onFailure === undefined) {\n                notify(typeof error === 'string'\n                    ? error\n                    : error.message || 'ra.notification.http_error', 'warning', {\n                    _: typeof error === 'string'\n                        ? error\n                        : error && error.message\n                            ? error.message\n                            : undefined,\n                });\n                refresh();\n            }\n            else {\n                onFailure(error);\n            }\n        },\n        mutationMode: mutationMode,\n    }), deleteOne = _b[0], loading = _b[1].loading;\n    var handleDialogOpen = function (e) {\n        setOpen(true);\n        e.stopPropagation();\n    };\n    var handleDialogClose = function (e) {\n        setOpen(false);\n        e.stopPropagation();\n    };\n    var handleDelete = useCallback(function (event) {\n        event.stopPropagation();\n        deleteOne({\n            payload: { id: record.id, previousData: record },\n        });\n        if (typeof onClick === 'function') {\n            onClick(event);\n        }\n    }, [deleteOne, onClick, record]);\n    return { open: open, loading: loading, handleDialogOpen: handleDialogOpen, handleDialogClose: handleDialogClose, handleDelete: handleDelete };\n};\nexport default useDeleteWithConfirmController;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { Fragment, } from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { fade } from '@material-ui/core/styles/colorManipulator';\nimport ActionDelete from '@material-ui/icons/Delete';\nimport classnames from 'classnames';\nimport inflection from 'inflection';\nimport { useTranslate, useDeleteWithConfirmController, useResourceContext, } from 'ra-core';\nimport Confirm from '../layout/Confirm';\nimport Button from './Button';\nvar DeleteWithConfirmButton = function (props) {\n    var basePath = props.basePath, classesOverride = props.classes, className = props.className, _a = props.confirmTitle, confirmTitle = _a === void 0 ? 'ra.message.delete_title' : _a, _b = props.confirmContent, confirmContent = _b === void 0 ? 'ra.message.delete_content' : _b, _c = props.icon, icon = _c === void 0 ? defaultIcon : _c, _d = props.label, label = _d === void 0 ? 'ra.action.delete' : _d, mutationMode = props.mutationMode, onClick = props.onClick, record = props.record, _e = props.redirect, redirect = _e === void 0 ? 'list' : _e, onSuccess = props.onSuccess, onFailure = props.onFailure, rest = __rest(props, [\"basePath\", \"classes\", \"className\", \"confirmTitle\", \"confirmContent\", \"icon\", \"label\", \"mutationMode\", \"onClick\", \"record\", \"redirect\", \"onSuccess\", \"onFailure\"]);\n    var translate = useTranslate();\n    var classes = useStyles(props);\n    var resource = useResourceContext(props);\n    var _f = useDeleteWithConfirmController({\n        record: record,\n        redirect: redirect,\n        basePath: basePath,\n        mutationMode: mutationMode,\n        onClick: onClick,\n        onSuccess: onSuccess,\n        onFailure: onFailure,\n        resource: resource,\n    }), open = _f.open, loading = _f.loading, handleDialogOpen = _f.handleDialogOpen, handleDialogClose = _f.handleDialogClose, handleDelete = _f.handleDelete;\n    return (React.createElement(Fragment, null,\n        React.createElement(Button, __assign({ onClick: handleDialogOpen, label: label, className: classnames('ra-delete-button', classes.deleteButton, className), key: \"button\" }, rest), icon),\n        React.createElement(Confirm, { isOpen: open, loading: loading, title: confirmTitle, content: confirmContent, translateOptions: {\n                name: translate(\"resources.\" + resource + \".forcedCaseName\", {\n                    smart_count: 1,\n                    _: inflection.humanize(translate(\"resources.\" + resource + \".name\", {\n                        smart_count: 1,\n                        _: inflection.singularize(resource),\n                    }), true),\n                }),\n                id: record.id,\n            }, onConfirm: handleDelete, onClose: handleDialogClose })));\n};\nvar defaultIcon = React.createElement(ActionDelete, null);\nvar useStyles = makeStyles(function (theme) { return ({\n    deleteButton: {\n        color: theme.palette.error.main,\n        '&:hover': {\n            backgroundColor: fade(theme.palette.error.main, 0.12),\n            // Reset on mouse devices\n            '@media (hover: none)': {\n                backgroundColor: 'transparent',\n            },\n        },\n    },\n}); }, { name: 'RaDeleteWithConfirmButton' });\nDeleteWithConfirmButton.propTypes = {\n    basePath: PropTypes.string,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    confirmTitle: PropTypes.string,\n    confirmContent: PropTypes.string,\n    label: PropTypes.string,\n    record: PropTypes.any,\n    redirect: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.bool,\n        PropTypes.func,\n    ]),\n    resource: PropTypes.string,\n    icon: PropTypes.element,\n};\nexport default DeleteWithConfirmButton;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { getMutationMode, } from 'ra-core';\nimport DeleteWithUndoButton from './DeleteWithUndoButton';\nimport DeleteWithConfirmButton from './DeleteWithConfirmButton';\n/**\n * Button used to delete a single record. Added by default by the <Toolbar> of edit and show views.\n *\n * @typedef {Object} Props The props you can use (other props are injected if you used it in the <Toolbar>)\n * @prop {boolean} undoable Confirm the deletion using an undo button in a notification or a confirmation dialog. Defaults to 'false'.\n * @prop {Object} record The current resource record\n * @prop {string} className\n * @prop {string} label Button label. Defaults to 'ra.action.delete, translated.\n * @prop {boolean} disabled Disable the button.\n * @prop {string} variant Material-ui variant for the button. Defaults to 'contained'.\n * @prop {ReactElement} icon Override the icon. Defaults to the Delete icon from material-ui.\n *\n * @param {Props} props\n *\n * @example Usage in the <TopToolbar> of an <Edit> form\n *\n * import * as React from 'react';\n * import { Edit, DeleteButton, TopToolbar } from 'react-admin';\n *\n * const EditActions = props => {\n *     const { basePath, data, resource } = props;\n *     return (\n *         <TopToolbar>\n *             <DeleteButton\n *                 basePath={basePath}\n *                 record={data}\n *                 resource={resource}\n *                 undoable={false} // Renders the <DeleteWithConfirmButton>\n *             />\n *         </TopToolbar>\n *     );\n * };\n *\n * const Edit = props => {\n *     return <Edit actions={<EditActions />} {...props} />;\n * };\n */\nvar DeleteButton = function (_a) {\n    var undoable = _a.undoable, mutationMode = _a.mutationMode, record = _a.record, props = __rest(_a, [\"undoable\", \"mutationMode\", \"record\"]);\n    var mode = getMutationMode(mutationMode, undoable);\n    if (!record || record.id == null) {\n        return null;\n    }\n    return mode === 'undoable' ? (React.createElement(DeleteWithUndoButton, __assign({ record: record }, props))) : (React.createElement(DeleteWithConfirmButton, __assign({ mutationMode: mode, record: record }, props)));\n};\nDeleteButton.propTypes = {\n    basePath: PropTypes.string,\n    label: PropTypes.string,\n    record: PropTypes.any,\n    // @ts-ignore\n    redirect: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.bool,\n        PropTypes.func,\n    ]),\n    resource: PropTypes.string,\n    undoable: PropTypes.bool,\n    icon: PropTypes.element,\n};\nexport default DeleteButton;\n","export var getMutationMode = function (mutationMode, undoable) {\n    if (mutationMode) {\n        return mutationMode;\n    }\n    switch (undoable) {\n        case true:\n            return 'undoable';\n        case false:\n            return 'pessimistic';\n        default:\n            return 'undoable';\n    }\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { Children, Fragment, isValidElement, } from 'react';\nimport PropTypes from 'prop-types';\nimport MuiToolbar from '@material-ui/core/Toolbar';\nimport withWidth from '@material-ui/core/withWidth';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nimport { SaveButton, DeleteButton } from '../button';\nvar useStyles = makeStyles(function (theme) {\n    var _a;\n    return ({\n        toolbar: {\n            backgroundColor: theme.palette.type === 'light'\n                ? theme.palette.grey[100]\n                : theme.palette.grey[900],\n        },\n        desktopToolbar: {\n            marginTop: theme.spacing(2),\n        },\n        mobileToolbar: {\n            position: 'fixed',\n            bottom: 0,\n            left: 0,\n            right: 0,\n            padding: '16px',\n            width: '100%',\n            boxSizing: 'border-box',\n            flexShrink: 0,\n            zIndex: 2,\n        },\n        defaultToolbar: {\n            flex: 1,\n            display: 'flex',\n            justifyContent: 'space-between',\n        },\n        spacer: (_a = {},\n            _a[theme.breakpoints.down('xs')] = {\n                height: '5em',\n            },\n            _a),\n    });\n}, { name: 'RaToolbar' });\nvar valueOrDefault = function (value, defaultValue) {\n    return typeof value === 'undefined' ? defaultValue : value;\n};\n/**\n * The Toolbar displayed at the bottom of forms.\n *\n * @example Always enable the <SaveButton />\n *\n * import * as React from 'react';\n * import {\n *     Create,\n *     DateInput,\n *     TextInput,\n *     SimpleForm,\n *     Toolbar,\n *     required,\n * } from 'react-admin';\n *\n * const now = new Date();\n * const defaultSort = { field: 'title', order: 'ASC' };\n *\n * const CommentCreate = props => (\n *     <Create {...props}>\n *         <SimpleForm redirect={false} toolbar={<Toolbar alwaysEnableSaveButton={true} />}>\n *             <TextInput\n *                 source=\"author.name\"\n *                 fullWidth\n *             />\n *             <DateInput source=\"created_at\" defaultValue={now} />\n *             <TextInput source=\"body\" fullWidth={true} multiline={true} />\n *         </SimpleForm>\n *     </Create>\n * );\n *\n * @typedef {Object} Props the props you can use (other props are injected by the <SimpleForm>)\n * @prop {boolean} alwaysEnableSaveButton Force enabling the <SaveButton>. If it's not defined, the <SaveButton> will be enabled using the `pristine` and `validating` props (disabled if pristine or validating, enabled otherwise).\n * @prop {ReactElement[]} children Customize the buttons you want to display in the <Toolbar>.\n * @prop {string} width Apply to the mobile or desktop classes depending on its value. Pass `xs` to display the mobile version.\n *\n */\nvar Toolbar = function (props) {\n    var _a;\n    var alwaysEnableSaveButton = props.alwaysEnableSaveButton, basePath = props.basePath, children = props.children, className = props.className, classesOverride = props.classes, handleSubmit = props.handleSubmit, handleSubmitWithRedirect = props.handleSubmitWithRedirect, invalid = props.invalid, pristine = props.pristine, record = props.record, redirect = props.redirect, resource = props.resource, saving = props.saving, submitOnEnter = props.submitOnEnter, undoable = props.undoable, mutationMode = props.mutationMode, validating = props.validating, width = props.width, rest = __rest(props, [\"alwaysEnableSaveButton\", \"basePath\", \"children\", \"className\", \"classes\", \"handleSubmit\", \"handleSubmitWithRedirect\", \"invalid\", \"pristine\", \"record\", \"redirect\", \"resource\", \"saving\", \"submitOnEnter\", \"undoable\", \"mutationMode\", \"validating\", \"width\"]);\n    var classes = useStyles(props);\n    // Use form pristine and validating to enable or disable the save button\n    // if alwaysEnableSaveButton is undefined\n    var disabled = !valueOrDefault(alwaysEnableSaveButton, !pristine && !validating);\n    return (React.createElement(Fragment, null,\n        React.createElement(MuiToolbar, __assign({ className: classnames(classes.toolbar, (_a = {},\n                _a[classes.mobileToolbar] = width === 'xs',\n                _a[classes.desktopToolbar] = width !== 'xs',\n                _a), className), role: \"toolbar\" }, rest), Children.count(children) === 0 ? (React.createElement(\"div\", { className: classes.defaultToolbar },\n            React.createElement(SaveButton, { handleSubmitWithRedirect: handleSubmitWithRedirect || handleSubmit, disabled: disabled, invalid: invalid, redirect: redirect, saving: saving || validating, submitOnEnter: submitOnEnter }),\n            record && typeof record.id !== 'undefined' && (React.createElement(DeleteButton, { basePath: basePath, record: record, resource: resource, undoable: undoable, mutationMode: mutationMode })))) : (Children.map(children, function (button) {\n            return button && isValidElement(button)\n                ? React.cloneElement(button, {\n                    basePath: valueOrDefault(button.props.basePath, basePath),\n                    handleSubmit: valueOrDefault(button.props.handleSubmit, handleSubmit),\n                    handleSubmitWithRedirect: valueOrDefault(button.props.handleSubmitWithRedirect, handleSubmitWithRedirect),\n                    onSave: button.props.onSave,\n                    invalid: invalid,\n                    pristine: pristine,\n                    record: valueOrDefault(button.props.record, record),\n                    resource: valueOrDefault(button.props.resource, resource),\n                    saving: saving,\n                    submitOnEnter: valueOrDefault(button.props.submitOnEnter, submitOnEnter),\n                    undoable: valueOrDefault(button.props.undoable, undoable),\n                })\n                : null;\n        }))),\n        React.createElement(\"div\", { className: classes.spacer })));\n};\nToolbar.propTypes = {\n    basePath: PropTypes.string,\n    children: PropTypes.node,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    handleSubmit: PropTypes.func,\n    handleSubmitWithRedirect: PropTypes.func,\n    invalid: PropTypes.bool,\n    pristine: PropTypes.bool,\n    record: PropTypes.any,\n    redirect: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.bool,\n        PropTypes.func,\n    ]),\n    resource: PropTypes.string,\n    saving: PropTypes.bool,\n    submitOnEnter: PropTypes.bool,\n    undoable: PropTypes.bool,\n    validating: PropTypes.bool,\n    width: PropTypes.oneOf(['xs', 'sm', 'md', 'lg', 'xl']),\n};\nToolbar.defaultProps = {\n    submitOnEnter: true,\n};\nexport default withWidth({ initialWidth: 'xs' })(Toolbar);\n","import { UPDATE } from '../../core';\nexport var crudUpdate = function (resource, id, data, previousData, basePath, redirectTo, refresh) {\n    if (redirectTo === void 0) { redirectTo = 'show'; }\n    if (refresh === void 0) { refresh = true; }\n    return ({\n        type: CRUD_UPDATE,\n        payload: { id: id, data: data, previousData: previousData },\n        meta: {\n            resource: resource,\n            fetch: UPDATE,\n            onSuccess: {\n                notification: {\n                    body: 'ra.notification.updated',\n                    level: 'info',\n                    messageArgs: {\n                        smart_count: 1,\n                    },\n                },\n                refresh: refresh,\n                redirectTo: redirectTo,\n                basePath: basePath,\n            },\n            onFailure: {\n                notification: {\n                    body: 'ra.notification.http_error',\n                    level: 'warning',\n                },\n            },\n        },\n    });\n};\nexport var CRUD_UPDATE = 'RA/CRUD_UPDATE';\nexport var CRUD_UPDATE_LOADING = 'RA/CRUD_UPDATE_LOADING';\nexport var CRUD_UPDATE_FAILURE = 'RA/CRUD_UPDATE_FAILURE';\nexport var CRUD_UPDATE_SUCCESS = 'RA/CRUD_UPDATE_SUCCESS';\n","import * as React from 'react';\nimport { createContext, useRef } from 'react';\nexport var SideEffectContext = createContext({});\nexport var SideEffectContextProvider = function (_a) {\n    var children = _a.children, value = _a.value;\n    return (React.createElement(SideEffectContext.Provider, { value: value }, children));\n};\n/**\n * Get modifiers for a save() function, and the way to update them.\n *\n * Used in useCreateController and useEditController.\n *\n * @example\n *\n * const {\n *     onSuccessRef,\n *     setOnSuccess,\n *     onFailureRef,\n *     setOnFailure,\n *     transformRef,\n *     setTransform,\n * } = useSaveModifiers({ onSuccess, onFailure, transform });\n */\nexport var useSaveModifiers = function (_a) {\n    var onSuccess = _a.onSuccess, onFailure = _a.onFailure, transform = _a.transform;\n    var onSuccessRef = useRef(onSuccess);\n    var setOnSuccess = function (onSuccess) {\n        onSuccessRef.current = function (response) {\n            // reset onSuccess for next submission\n            onSuccessRef.current = undefined;\n            return onSuccess(response);\n        };\n    };\n    var onFailureRef = useRef(onFailure);\n    var setOnFailure = function (onFailure) {\n        onFailureRef.current = function (error) {\n            // reset onFailure for next submission\n            onFailureRef.current = undefined;\n            return onFailure(error);\n        };\n    };\n    var transformRef = useRef(transform);\n    var setTransform = function (transform) {\n        transformRef.current = function (data) {\n            // reset transform for next submission\n            transformRef.current = undefined;\n            return transform(data);\n        };\n    };\n    return {\n        onSuccessRef: onSuccessRef,\n        setOnSuccess: setOnSuccess,\n        onFailureRef: onFailureRef,\n        setOnFailure: setOnFailure,\n        transformRef: transformRef,\n        setTransform: setTransform,\n    };\n};\n","import { useCallback } from 'react';\nimport useVersion from '../useVersion';\nimport { useCheckMinimumRequiredProps } from '../checkMinimumRequiredProps';\nimport { useNotify, useRedirect, useRefresh, } from '../../sideEffect';\nimport { useGetOne, useUpdate } from '../../dataProvider';\nimport { useTranslate } from '../../i18n';\nimport { CRUD_GET_ONE, CRUD_UPDATE } from '../../actions';\nimport { useSaveModifiers, } from '../saveModifiers';\nimport { useResourceContext, useGetResourceLabel } from '../../core';\n/**\n * Prepare data for the Edit view\n *\n * @param {Object} props The props passed to the Edit component.\n *\n * @return {Object} controllerProps Fetched data and callbacks for the Edit view\n *\n * @example\n *\n * import { useEditController } from 'react-admin';\n * import EditView from './EditView';\n *\n * const MyEdit = props => {\n *     const controllerProps = useEditController(props);\n *     return <EditView {...controllerProps} {...props} />;\n * }\n */\nexport var useEditController = function (props) {\n    useCheckMinimumRequiredProps('Edit', ['basePath', 'resource'], props);\n    var basePath = props.basePath, hasCreate = props.hasCreate, hasEdit = props.hasEdit, hasList = props.hasList, hasShow = props.hasShow, id = props.id, successMessage = props.successMessage, \n    // @deprecated use mutationMode: undoable instead\n    _a = props.undoable, \n    // @deprecated use mutationMode: undoable instead\n    undoable = _a === void 0 ? true : _a, onSuccess = props.onSuccess, onFailure = props.onFailure, _b = props.mutationMode, mutationMode = _b === void 0 ? undoable ? 'undoable' : undefined : _b, transform = props.transform;\n    var resource = useResourceContext(props);\n    var translate = useTranslate();\n    var notify = useNotify();\n    var redirect = useRedirect();\n    var refresh = useRefresh();\n    var version = useVersion();\n    if (process.env.NODE_ENV !== 'production' && successMessage) {\n        console.log('<Edit successMessage> prop is deprecated, use the onSuccess prop instead.');\n    }\n    var _c = useSaveModifiers({ onSuccess: onSuccess, onFailure: onFailure, transform: transform }), onSuccessRef = _c.onSuccessRef, setOnSuccess = _c.setOnSuccess, onFailureRef = _c.onFailureRef, setOnFailure = _c.setOnFailure, transformRef = _c.transformRef, setTransform = _c.setTransform;\n    var _d = useGetOne(resource, id, {\n        action: CRUD_GET_ONE,\n        onFailure: function () {\n            notify('ra.notification.item_doesnt_exist', 'warning');\n            redirect('list', basePath);\n            refresh();\n        },\n    }), record = _d.data, loading = _d.loading, loaded = _d.loaded, refetch = _d.refetch;\n    var getResourceLabel = useGetResourceLabel();\n    var defaultTitle = translate('ra.page.edit', {\n        name: getResourceLabel(resource, 1),\n        id: id,\n        record: record,\n    });\n    var _e = useUpdate(resource, id, {}, // set by the caller\n    record), update = _e[0], saving = _e[1].loading;\n    var save = useCallback(function (data, redirectTo, _a) {\n        if (redirectTo === void 0) { redirectTo = DefaultRedirect; }\n        var _b = _a === void 0 ? {} : _a, onSuccessFromSave = _b.onSuccess, onFailureFromSave = _b.onFailure, transformFromSave = _b.transform;\n        return Promise.resolve(transformFromSave\n            ? transformFromSave(data)\n            : transformRef.current\n                ? transformRef.current(data)\n                : data).then(function (data) {\n            return update({ payload: { data: data } }, {\n                action: CRUD_UPDATE,\n                onSuccess: onSuccessFromSave\n                    ? onSuccessFromSave\n                    : onSuccessRef.current\n                        ? onSuccessRef.current\n                        : function () {\n                            notify(successMessage ||\n                                'ra.notification.updated', 'info', {\n                                smart_count: 1,\n                            }, mutationMode === 'undoable');\n                            redirect(redirectTo, basePath, data.id, data);\n                        },\n                onFailure: onFailureFromSave\n                    ? onFailureFromSave\n                    : onFailureRef.current\n                        ? onFailureRef.current\n                        : function (error) {\n                            notify(typeof error === 'string'\n                                ? error\n                                : error.message ||\n                                    'ra.notification.http_error', 'warning', {\n                                _: typeof error === 'string'\n                                    ? error\n                                    : error && error.message\n                                        ? error.message\n                                        : undefined,\n                            });\n                            if (mutationMode === 'undoable' ||\n                                mutationMode === 'pessimistic') {\n                                refresh();\n                            }\n                        },\n                mutationMode: mutationMode,\n            });\n        });\n    }, [\n        transformRef,\n        update,\n        onSuccessRef,\n        onFailureRef,\n        notify,\n        successMessage,\n        redirect,\n        basePath,\n        refresh,\n        mutationMode,\n    ]);\n    return {\n        loading: loading,\n        loaded: loaded,\n        saving: saving,\n        defaultTitle: defaultTitle,\n        hasCreate: hasCreate,\n        hasEdit: hasEdit,\n        hasList: hasList,\n        hasShow: hasShow,\n        onSuccessRef: onSuccessRef,\n        onFailureRef: onFailureRef,\n        transformRef: transformRef,\n        save: save,\n        setOnSuccess: setOnSuccess,\n        setOnFailure: setOnFailure,\n        setTransform: setTransform,\n        refetch: refetch,\n        resource: resource,\n        basePath: basePath,\n        record: record,\n        redirect: DefaultRedirect,\n        version: version,\n    };\n};\nvar DefaultRedirect = 'list';\n","import * as React from 'react';\nimport { RecordContextProvider } from '../RecordContext';\nimport { EditContext } from './EditContext';\nimport { SaveContextProvider, usePickSaveContext } from './SaveContext';\n/**\n * Create an Edit Context.\n *\n * @example\n *\n * const MyEdit = (props) => {\n *     const controllerProps = useEditController(props);\n *     return (\n *         <EditContextProvider value={controllerProps}>\n *             <MyEditView>\n *         </EditContextProvider>\n *     );\n * };\n *\n * const MyEditView = () => {\n *     const record = useRecordContext();\n *     // or, to rerender only when the save operation change but not data\n *     const { saving } = useEditContext();\n * }\n *\n * @see EditContext\n * @see RecordContext\n */\nexport var EditContextProvider = function (_a) {\n    var children = _a.children, value = _a.value;\n    return (React.createElement(EditContext.Provider, { value: value },\n        React.createElement(SaveContextProvider, { value: usePickSaveContext(value) },\n            React.createElement(RecordContextProvider, { value: value && value.record }, children))));\n};\n","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useEditController } from './useEditController';\nimport { EditContextProvider } from './EditContextProvider';\n/**\n * Call useEditController and put the value in a EditContext\n *\n * Base class for <Edit> components, without UI.\n *\n * Accepts any props accepted by useEditController:\n * - id: The record identifier\n * - resource: The resource\n *\n * @example // Custom edit layout\n *\n * const PostEdit = props => (\n *     <EditBase {...props}>\n *         <Grid container>\n *             <Grid item xs={8}>\n *                 <SimpleForm>\n *                     ...\n *                 </SimpleForm>\n *             </Grid>\n *             <Grid item xs={4}>\n *                 Edit instructions...\n *             </Grid>\n *         </Grid>\n *         <div>\n *             Post related links...\n *         </div>\n *     </EditBase>\n * );\n */\nexport var EditBase = function (_a) {\n    var children = _a.children, props = __rest(_a, [\"children\"]);\n    return (React.createElement(EditContextProvider, { value: useEditController(props) }, children));\n};\n","import * as React from 'react';\nimport {\n    EditBase,\n    EditProps,\n    TextInput,\n    ReferenceInput,\n    AutocompleteInput,\n    BooleanInput,\n    FormWithRedirect,\n    Toolbar,\n    useEditContext,\n} from 'react-admin';\nimport { Card, CardContent, Divider, Box } from '@material-ui/core';\nimport omit from 'lodash/omit';\n\nimport { Avatar } from './Avatar';\nimport { ContactAside } from './ContactAside';\nimport { Contact } from '../types';\n\nconst Spacer = () => <Box width={20} component=\"span\" />;\n\nconst ContactEditContent = () => {\n    const { record, loaded, save } = useEditContext<Contact>();\n    if (!loaded || !record) return null;\n    return (\n        <Box mt={2} display=\"flex\">\n            <Box flex=\"1\">\n                <FormWithRedirect\n                    record={record}\n                    redirect=\"show\"\n                    save={save}\n                    render={formProps => (\n                        <Card>\n                            <CardContent>\n                                <Box>\n                                    <Box display=\"flex\">\n                                        <Box mr={2}>\n                                            <Avatar record={record} />\n                                        </Box>\n                                        <Box flex=\"1\" mt={-1}>\n                                            <Box display=\"flex\">\n                                                <TextInput source=\"first_name\" />\n                                                <Spacer />\n                                                <TextInput source=\"last_name\" />\n                                            </Box>\n                                            <Box display=\"flex\">\n                                                <TextInput source=\"title\" />\n                                                <Spacer />\n                                                <ReferenceInput\n                                                    source=\"company_id\"\n                                                    reference=\"companies\"\n                                                >\n                                                    <AutocompleteInput optionText=\"name\" />\n                                                </ReferenceInput>\n                                            </Box>\n                                            <Divider />\n                                            <Box mt={2} width={430}>\n                                                <TextInput\n                                                    source=\"email\"\n                                                    fullWidth\n                                                />\n                                            </Box>\n                                            <Box display=\"flex\">\n                                                <TextInput source=\"phone_number1\" />\n                                                <Spacer />\n                                                <TextInput source=\"phone_number2\" />\n                                            </Box>\n                                            <Divider />\n                                            <Box mt={2} width={430}>\n                                                <TextInput\n                                                    source=\"background\"\n                                                    multiline\n                                                    fullWidth\n                                                />\n                                                <TextInput\n                                                    source=\"avatar\"\n                                                    fullWidth\n                                                />\n                                                <BooleanInput source=\"has_newsletter\" />\n                                            </Box>\n                                        </Box>\n                                    </Box>\n                                </Box>\n                            </CardContent>\n                            <Toolbar\n                                {...omit(formProps, [\n                                    // FIXME Not super user firendly way to remove warnings\n                                    'dirtyFields',\n                                    'dirtyFieldsSinceLastSubmit',\n                                    'dirtySinceLastSubmit',\n                                    'hasSubmitErrors',\n                                    'hasValidationErrors',\n                                    'initialValues',\n                                    'modifiedSinceLastSubmit',\n                                    'submitError',\n                                    'submitErrors',\n                                    'submitFailed',\n                                    'submitSucceeded',\n                                    'submitting',\n                                    'valid',\n                                ])}\n                            />\n                        </Card>\n                    )}\n                />\n            </Box>\n            <ContactAside record={record} link=\"show\" />\n        </Box>\n    );\n};\n\nexport const ContactEdit = (props: EditProps) => (\n    <EditBase {...props}>\n        <ContactEditContent />\n    </EditBase>\n);\n","import { useCallback } from 'react';\n// @ts-ignore\nimport { parse } from 'query-string';\nimport { useLocation } from 'react-router-dom';\nimport { useCheckMinimumRequiredProps } from '../checkMinimumRequiredProps';\nimport { useCreate } from '../../dataProvider';\nimport { useNotify, useRedirect, } from '../../sideEffect';\nimport { useSaveModifiers, } from '../saveModifiers';\nimport { useTranslate } from '../../i18n';\nimport useVersion from '../useVersion';\nimport { CRUD_CREATE } from '../../actions';\nimport { useResourceContext, useGetResourceLabel } from '../../core';\n/**\n * Prepare data for the Create view\n *\n * @param {Object} props The props passed to the Create component.\n *\n * @return {Object} controllerProps Fetched data and callbacks for the Create view\n *\n * @example\n *\n * import { useCreateController } from 'react-admin';\n * import CreateView from './CreateView';\n *\n * const MyCreate = props => {\n *     const controllerProps = useCreateController(props);\n *     return <CreateView {...controllerProps} {...props} />;\n * }\n */\nexport var useCreateController = function (props) {\n    useCheckMinimumRequiredProps('Create', ['basePath', 'resource'], props);\n    var basePath = props.basePath, hasEdit = props.hasEdit, hasShow = props.hasShow, _a = props.record, record = _a === void 0 ? {} : _a, successMessage = props.successMessage, onSuccess = props.onSuccess, onFailure = props.onFailure, transform = props.transform;\n    var resource = useResourceContext(props);\n    var location = useLocation();\n    var translate = useTranslate();\n    var notify = useNotify();\n    var redirect = useRedirect();\n    var recordToUse = getRecord(location, record);\n    var version = useVersion();\n    if (process.env.NODE_ENV !== 'production' && successMessage) {\n        console.log('<Create successMessage> prop is deprecated, use the onSuccess prop instead.');\n    }\n    var _b = useSaveModifiers({ onSuccess: onSuccess, onFailure: onFailure, transform: transform }), onSuccessRef = _b.onSuccessRef, setOnSuccess = _b.setOnSuccess, onFailureRef = _b.onFailureRef, setOnFailure = _b.setOnFailure, transformRef = _b.transformRef, setTransform = _b.setTransform;\n    var _c = useCreate(resource), create = _c[0], saving = _c[1].loading;\n    var save = useCallback(function (data, redirectTo, _a) {\n        if (redirectTo === void 0) { redirectTo = 'list'; }\n        var _b = _a === void 0 ? {} : _a, onSuccessFromSave = _b.onSuccess, onFailureFromSave = _b.onFailure, transformFromSave = _b.transform;\n        return Promise.resolve(transformFromSave\n            ? transformFromSave(data)\n            : transformRef.current\n                ? transformRef.current(data)\n                : data).then(function (data) {\n            return create({ payload: { data: data } }, {\n                action: CRUD_CREATE,\n                onSuccess: onSuccessFromSave\n                    ? onSuccessFromSave\n                    : onSuccessRef.current\n                        ? onSuccessRef.current\n                        : function (_a) {\n                            var newRecord = _a.data;\n                            notify(successMessage ||\n                                'ra.notification.created', 'info', {\n                                smart_count: 1,\n                            });\n                            redirect(redirectTo, basePath, newRecord.id, newRecord);\n                        },\n                onFailure: onFailureFromSave\n                    ? onFailureFromSave\n                    : onFailureRef.current\n                        ? onFailureRef.current\n                        : function (error) {\n                            notify(typeof error === 'string'\n                                ? error\n                                : error.message ||\n                                    'ra.notification.http_error', 'warning', {\n                                _: typeof error === 'string'\n                                    ? error\n                                    : error && error.message\n                                        ? error.message\n                                        : undefined,\n                            });\n                        },\n            });\n        });\n    }, [\n        transformRef,\n        create,\n        onSuccessRef,\n        onFailureRef,\n        notify,\n        successMessage,\n        redirect,\n        basePath,\n    ]);\n    var getResourceLabel = useGetResourceLabel();\n    var defaultTitle = translate('ra.page.create', {\n        name: getResourceLabel(resource, 1),\n    });\n    return {\n        loading: false,\n        loaded: true,\n        saving: saving,\n        defaultTitle: defaultTitle,\n        onFailureRef: onFailureRef,\n        onSuccessRef: onSuccessRef,\n        transformRef: transformRef,\n        save: save,\n        setOnSuccess: setOnSuccess,\n        setOnFailure: setOnFailure,\n        setTransform: setTransform,\n        resource: resource,\n        basePath: basePath,\n        record: recordToUse,\n        redirect: getDefaultRedirectRoute(hasShow, hasEdit),\n        version: version,\n    };\n};\nexport var getRecord = function (_a, record) {\n    var state = _a.state, search = _a.search;\n    if (record === void 0) { record = {}; }\n    if (state && state.record) {\n        return state.record;\n    }\n    if (search) {\n        try {\n            var searchParams = parse(search);\n            if (searchParams.source) {\n                if (Array.isArray(searchParams.source)) {\n                    console.error(\"Failed to parse location search parameter '\" + search + \"'. To pre-fill some fields in the Create form, pass a stringified source parameter (e.g. '?source={\\\"title\\\":\\\"foo\\\"}')\");\n                    return;\n                }\n                return JSON.parse(searchParams.source);\n            }\n        }\n        catch (e) {\n            console.error(\"Failed to parse location search parameter '\" + search + \"'. To pre-fill some fields in the Create form, pass a stringified source parameter (e.g. '?source={\\\"title\\\":\\\"foo\\\"}')\");\n        }\n    }\n    return record;\n};\nvar getDefaultRedirectRoute = function (hasShow, hasEdit) {\n    if (hasEdit) {\n        return 'edit';\n    }\n    if (hasShow) {\n        return 'show';\n    }\n    return 'list';\n};\n","import { createContext } from 'react';\n/**\n * Context to store the result of the useCreateController() hook.\n *\n * Use the useCreateContext() hook to read the context. That's what the Create components do in react-admin.\n *\n * @example\n *\n * import { useCreateController, CreateContextProvider } from 'ra-core';\n *\n * const Create = props => {\n *     const controllerProps = useCreateController(props);\n *     return (\n *         <CreateContextProvider value={controllerProps}>\n *             ...\n *         </CreateContextProvider>\n *     );\n * };\n */\nexport var CreateContext = createContext({\n    basePath: null,\n    record: null,\n    defaultTitle: null,\n    onFailureRef: null,\n    onSuccessRef: null,\n    transformRef: null,\n    loaded: null,\n    loading: null,\n    redirect: null,\n    setOnFailure: null,\n    setOnSuccess: null,\n    setTransform: null,\n    resource: null,\n    save: null,\n    saving: null,\n    successMessage: null,\n    version: null,\n});\nCreateContext.displayName = 'CreateContext';\n","import * as React from 'react';\nimport { RecordContextProvider } from '../RecordContext';\nimport { CreateContext } from './CreateContext';\nimport { SaveContextProvider, usePickSaveContext } from './SaveContext';\n/**\n * Create a Create Context.\n *\n * @example\n *\n * const MyCreate = (props) => {\n *     const controllerProps = useCreateController(props);\n *     return (\n *         <CreateContextProvider value={controllerProps}>\n *             <MyCreateView>\n *         </CreateContextProvider>\n *     );\n * };\n *\n * const MyCreateView = () => {\n *     const record = useRecordContext();\n *     // or, to rerender only when the save operation change but not data\n *     const { saving } = useCreateContext();\n * }\n *\n * @see CreateContext\n * @see RecordContext\n */\nexport var CreateContextProvider = function (_a) {\n    var children = _a.children, value = _a.value;\n    return (React.createElement(CreateContext.Provider, { value: value },\n        React.createElement(SaveContextProvider, { value: usePickSaveContext(value) },\n            React.createElement(RecordContextProvider, { value: value && value.record }, children))));\n};\n","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useCreateController } from './useCreateController';\nimport { CreateContextProvider } from './CreateContextProvider';\n/**\n * Call useCreateController and put the value in a CreateContext\n *\n * Base class for <Create> components, without UI.\n *\n * Accepts any props accepted by useCreateController:\n * - id: The record identifier\n * - resource: The resource\n *\n * @example // Custom edit layout\n *\n * const PostCreate = props => (\n *     <CreateBase {...props}>\n *         <Grid container>\n *             <Grid item xs={8}>\n *                 <SimpleForm>\n *                     ...\n *                 </SimpleForm>\n *             </Grid>\n *             <Grid item xs={4}>\n *                 Create instructions...\n *             </Grid>\n *         </Grid>\n *         <div>\n *             Post related links...\n *         </div>\n *     </CreateBase>\n * );\n */\nexport var CreateBase = function (_a) {\n    var children = _a.children, props = __rest(_a, [\"children\"]);\n    return (React.createElement(CreateContextProvider, { value: useCreateController(props) }, children));\n};\n","import { useContext, useMemo } from 'react';\nimport defaults from 'lodash/defaults';\nimport { CreateContext } from './CreateContext';\n/**\n * Hook to read the create controller props from the CreateContext.\n *\n * Mostly used within a <CreateContext.Provider> (e.g. as a descendent of <Create>).\n *\n * But you can also use it without a <CreateContext.Provider>. In this case, it is up to you\n * to pass all the necessary props.\n *\n * The given props will take precedence over context values.\n *\n * @typedef {Object} CreateControllerProps\n *\n * @returns {CreateControllerProps} create controller props\n *\n * @see useCreateController for how it is filled\n *\n */\nexport var useCreateContext = function (props) {\n    var context = useContext(\n    // Can't find a way to specify the RecordType when CreateContext is declared\n    // @ts-ignore\n    CreateContext);\n    // Props take precedence over the context\n    return useMemo(function () {\n        return defaults({}, props != null ? extractCreateContextProps(props) : {}, context);\n    }, [context, props]);\n};\n/**\n * Extract only the create controller props\n *\n * @param {Object} props props passed to the useCreateContext hook\n *\n * @returns {CreateControllerProps} create controller props\n */\nvar extractCreateContextProps = function (_a) {\n    var basePath = _a.basePath, record = _a.record, defaultTitle = _a.defaultTitle, onFailureRef = _a.onFailureRef, onSuccessRef = _a.onSuccessRef, transformRef = _a.transformRef, loaded = _a.loaded, loading = _a.loading, redirect = _a.redirect, setOnFailure = _a.setOnFailure, setOnSuccess = _a.setOnSuccess, setTransform = _a.setTransform, resource = _a.resource, save = _a.save, saving = _a.saving, successMessage = _a.successMessage, version = _a.version;\n    return ({\n        basePath: basePath,\n        record: record,\n        defaultTitle: defaultTitle,\n        onFailureRef: onFailureRef,\n        onSuccessRef: onSuccessRef,\n        transformRef: transformRef,\n        loaded: loaded,\n        loading: loading,\n        redirect: redirect,\n        setOnFailure: setOnFailure,\n        setOnSuccess: setOnSuccess,\n        setTransform: setTransform,\n        resource: resource,\n        save: save,\n        saving: saving,\n        successMessage: successMessage,\n        version: version,\n    });\n};\n","import * as React from 'react';\nimport {\n    CreateBase,\n    CreateProps,\n    TextInput,\n    ReferenceInput,\n    AutocompleteInput,\n    BooleanInput,\n    FormWithRedirect,\n    Toolbar,\n    required,\n    useCreateContext,\n} from 'react-admin';\nimport { Card, CardContent, Divider, Box, Avatar } from '@material-ui/core';\n\nimport { Contact } from '../types';\n\nconst Spacer = () => <Box width={20} component=\"span\" />;\n\nexport const ContactCreate = (props: CreateProps) => (\n    <CreateBase\n        {...props}\n        transform={(data: Contact) => ({\n            ...data,\n            last_seen: new Date(),\n            tags: [],\n        })}\n    >\n        <ContactCreateContent />\n    </CreateBase>\n);\n\nconst ContactCreateContent = () => {\n    const { save, record } = useCreateContext();\n    return (\n        <Box mt={2} display=\"flex\">\n            <Box flex=\"1\">\n                <FormWithRedirect\n                    redirect=\"show\"\n                    record={record as any}\n                    save={save}\n                    render={formProps => (\n                        <Card>\n                            <CardContent>\n                                <Box>\n                                    <Box display=\"flex\">\n                                        <Box mr={2}>\n                                            <Avatar />\n                                        </Box>\n                                        <Box flex=\"1\" mt={-1}>\n                                            <Box display=\"flex\">\n                                                <TextInput\n                                                    source=\"first_name\"\n                                                    validate={[required()]}\n                                                />\n                                                <Spacer />\n                                                <TextInput\n                                                    source=\"last_name\"\n                                                    validate={[required()]}\n                                                />\n                                            </Box>\n                                            <Box display=\"flex\">\n                                                <TextInput source=\"title\" />\n                                                <Spacer />\n                                                <ReferenceInput\n                                                    source=\"company_id\"\n                                                    reference=\"companies\"\n                                                >\n                                                    <AutocompleteInput optionText=\"name\" />\n                                                </ReferenceInput>\n                                            </Box>\n                                            <Divider />\n                                            <Box mt={2} width={430}>\n                                                <TextInput\n                                                    source=\"email\"\n                                                    fullWidth\n                                                />\n                                            </Box>\n                                            <Box display=\"flex\">\n                                                <TextInput source=\"phone_number1\" />\n                                                <Spacer />\n                                                <TextInput source=\"phone_number2\" />\n                                            </Box>\n                                            <Divider />\n                                            <Box mt={2} width={430}>\n                                                <TextInput\n                                                    source=\"background\"\n                                                    multiline\n                                                    fullWidth\n                                                />\n                                                <TextInput\n                                                    source=\"avatar\"\n                                                    fullWidth\n                                                />\n                                                <BooleanInput source=\"has_newsletter\" />\n                                            </Box>\n                                        </Box>\n                                    </Box>\n                                </Box>\n                            </CardContent>\n                            <Toolbar {...formProps} />\n                        </Card>\n                    )}\n                />\n            </Box>\n        </Box>\n    );\n};\n","/* eslint-disable import/no-anonymous-default-export */\nimport { ContactShow } from './ContactShow';\nimport { ContactList } from './ContactList';\nimport { ContactEdit } from './ContactEdit';\nimport { ContactCreate } from './ContactCreate';\n\nexport default {\n    list: ContactList,\n    show: ContactShow,\n    edit: ContactEdit,\n    create: ContactCreate,\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { memo } from 'react';\nimport PropTypes from 'prop-types';\nimport get from 'lodash/get';\nimport { useChoices, useRecordContext } from 'ra-core';\nimport { Typography } from '@material-ui/core';\nimport sanitizeFieldRestProps from './sanitizeFieldRestProps';\nimport { fieldPropTypes } from './types';\n/**\n * Display a value in an enumeration\n *\n * Pass possible options as an array of objects in the 'choices' attribute.\n *\n * @example\n * const choices = [\n *    { id: 'M', name: 'Male' },\n *    { id: 'F', name: 'Female' },\n * ];\n * <SelectField source=\"gender\" choices={choices} />\n *\n * By default, the text is built by\n * - finding a choice where the 'id' property equals the field value\n * - using the 'name' property as the option text\n *\n * You can also customize the properties to use for the value and text,\n * thanks to the 'optionValue' and 'optionText' attributes.\n *\n * @example\n * const choices = [\n *    { _id: 123, full_name: 'Leo Tolstoi', sex: 'M' },\n *    { _id: 456, full_name: 'Jane Austen', sex: 'F' },\n * ];\n * <SelectField source=\"author_id\" choices={choices} optionText=\"full_name\" optionValue=\"_id\" />\n *\n * `optionText` also accepts a function, so you can shape the option text at will:\n * @example\n * const choices = [\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\n * ];\n * const optionRenderer = choice => `${choice.first_name} ${choice.last_name}`;\n * <SelectField source=\"author_id\" choices={choices} optionText={optionRenderer} />\n *\n * `optionText` also accepts a React Element, that will be cloned and receive\n * the related choice as the `record` prop. You can use Field components there.\n * @example\n * const choices = [\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\n * ];\n * const FullNameField = ({ record }) => <Chip>{record.first_name} {record.last_name}</Chip>;\n * <SelectField source=\"gender\" choices={choices} optionText={<FullNameField />}/>\n *\n * The current choice is translated by default, so you can use translation identifiers as choices:\n * @example\n * const choices = [\n *    { id: 'M', name: 'myroot.gender.male' },\n *    { id: 'F', name: 'myroot.gender.female' },\n * ];\n *\n * However, in some cases (e.g. inside a `<ReferenceField>`), you may not want\n * the choice to be translated. In that case, set the `translateChoice` prop to false.\n * @example\n * <SelectField source=\"gender\" choices={choices} translateChoice={false}/>\n *\n * **Tip**: <ReferenceField> sets `translateChoice` to false by default.\n */\nexport var SelectField = memo(function (props) {\n    var className = props.className, emptyText = props.emptyText, source = props.source, choices = props.choices, optionValue = props.optionValue, optionText = props.optionText, translateChoice = props.translateChoice, rest = __rest(props, [\"className\", \"emptyText\", \"source\", \"choices\", \"optionValue\", \"optionText\", \"translateChoice\"]);\n    var record = useRecordContext(props);\n    var value = get(record, source);\n    var _a = useChoices({\n        optionText: optionText,\n        optionValue: optionValue,\n        translateChoice: translateChoice,\n    }), getChoiceText = _a.getChoiceText, getChoiceValue = _a.getChoiceValue;\n    var choice = choices.find(function (choice) { return getChoiceValue(choice) === value; });\n    if (!choice) {\n        return emptyText ? (React.createElement(Typography, __assign({ component: \"span\", variant: \"body2\", className: className }, sanitizeFieldRestProps(rest)), emptyText)) : null;\n    }\n    var choiceText = getChoiceText(choice);\n    return (React.createElement(Typography, __assign({ component: \"span\", variant: \"body2\", className: className }, sanitizeFieldRestProps(rest)), choiceText));\n});\nSelectField.defaultProps = {\n    optionText: 'name',\n    optionValue: 'id',\n    translateChoice: true,\n};\nSelectField.defaultProps = {\n    addLabel: true,\n};\nSelectField.propTypes = __assign(__assign(__assign({}, Typography.propTypes), fieldPropTypes), { choices: PropTypes.arrayOf(PropTypes.object).isRequired, optionText: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.func,\n        PropTypes.element,\n    ]), optionValue: PropTypes.string, translateChoice: PropTypes.bool });\nSelectField.displayName = 'SelectField';\nexport default SelectField;\n","export const sectors = [\n    'Communication Services',\n    'Consumer Discretionary',\n    'Consumer Staples',\n    'Energy',\n    'Financials',\n    'Health Care',\n    'Industrials',\n    'Information Technology',\n    'Materials',\n    'Real Estate',\n    'Utilities',\n].map(sector => ({ id: sector, name: sector }));\n","import * as React from 'react';\nimport { Avatar } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport clsx from 'clsx';\n\nimport { Company } from '../types';\n\nconst useStyles = makeStyles({\n    avatar: {\n        width: 60,\n        height: 60,\n        backgroundColor: 'aliceblue',\n    },\n    img: {\n        objectFit: 'contain',\n    },\n    small: {\n        width: 20,\n        height: 20,\n    },\n    large: {\n        width: 40,\n        height: 40,\n    },\n});\n\nexport const CompanyAvatar = ({\n    record,\n    size = 'large',\n}: {\n    record?: Company;\n    size?: 'small' | 'large';\n}) => {\n    const classes = useStyles();\n    if (!record) return null;\n    return (\n        <Avatar\n            src={process.env.PUBLIC_URL + record.logo}\n            alt={record.name}\n            className={classes.avatar}\n            imgProps={{ className: clsx(classes.img, classes[size]) }}\n        />\n    );\n};\n","import * as React from 'react';\nimport { useState } from 'react';\nimport { Paper, Typography, Link as MuiLink } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ContactsIcon from '@material-ui/icons/AccountCircle';\nimport DealIcon from '@material-ui/icons/MonetizationOn';\nimport { linkToRecord, SelectField } from 'react-admin';\nimport { Link } from 'react-router-dom';\n\nimport { sectors } from './sectors';\nimport { CompanyAvatar } from './CompanyAvatar';\nimport { Company } from '../types';\n\nconst useStyles = makeStyles(theme => ({\n    paper: {\n        height: 200,\n        width: 193.5,\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'space-between',\n        padding: '1em',\n    },\n    identity: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    name: {\n        textAlign: 'center',\n        marginTop: theme.spacing(1),\n    },\n    stats: {\n        display: 'flex',\n        justifyContent: 'space-around',\n        width: '100%',\n    },\n    singleStat: {\n        display: 'flex',\n        alignItems: 'center',\n    },\n    statIcon: {\n        marginRight: theme.spacing(1),\n    },\n}));\n\nexport const CompanyCard = ({ record }: { record: Company }) => {\n    const classes = useStyles();\n    const [elevation, setElevation] = useState(1);\n    return (\n        <MuiLink\n            component={Link}\n            to={linkToRecord('/companies', record.id, 'show')}\n            underline=\"none\"\n            onMouseEnter={() => setElevation(3)}\n            onMouseLeave={() => setElevation(1)}\n        >\n            <Paper className={classes.paper} elevation={elevation}>\n                <div className={classes.identity}>\n                    <CompanyAvatar record={record} />\n                    <div className={classes.name}>\n                        <Typography variant=\"subtitle2\">\n                            {record.name}\n                        </Typography>\n                        <SelectField\n                            color=\"textSecondary\"\n                            source=\"sector\"\n                            choices={sectors}\n                            record={record}\n                        />\n                    </div>\n                </div>\n                <div className={classes.stats}>\n                    <div className={classes.singleStat}>\n                        <ContactsIcon\n                            color=\"disabled\"\n                            className={classes.statIcon}\n                        />\n                        <div>\n                            <Typography\n                                variant=\"subtitle2\"\n                                style={{ marginBottom: -8 }}\n                            >\n                                {record.nb_contacts}\n                            </Typography>\n                            <Typography variant=\"caption\" color=\"textSecondary\">\n                                {record.nb_contacts > 1\n                                    ? 'contacts'\n                                    : 'contact'}\n                            </Typography>\n                        </div>\n                    </div>\n                    <div className={classes.singleStat}>\n                        <DealIcon\n                            color=\"disabled\"\n                            className={classes.statIcon}\n                        />\n                        <div>\n                            <Typography\n                                variant=\"subtitle2\"\n                                style={{ marginBottom: -8 }}\n                            >\n                                {record.nb_deals}\n                            </Typography>\n                            <Typography variant=\"caption\" color=\"textSecondary\">\n                                {record.nb_deals > 1 ? 'deals' : 'deal'}\n                            </Typography>\n                        </div>\n                    </div>\n                </div>\n            </Paper>\n        </MuiLink>\n    );\n};\n","import * as React from 'react';\nimport { Box, Paper } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useListContext, Identifier } from 'react-admin';\n\nimport { CompanyCard } from './CompanyCard';\nimport { Company } from '../types';\n\nconst useStyles = makeStyles(theme => ({\n    gridList: {\n        display: 'flex',\n        flexWrap: 'wrap',\n        width: 1008,\n        gap: '10px',\n    },\n    paper: {\n        height: 200,\n        width: 194,\n        display: 'flex',\n        flexDirection: 'column',\n        backgroundColor: theme.palette.grey[200],\n    },\n}));\n\nconst times = (nbChildren: number, fn: (key: number) => any) =>\n    Array.from({ length: nbChildren }, (_, key) => fn(key));\n\nconst LoadingGridList = () => {\n    const classes = useStyles();\n    return (\n        <Box className={classes.gridList}>\n            {times(15, key => (\n                <Paper className={classes.paper} key={key} />\n            ))}\n        </Box>\n    );\n};\n\nconst LoadedGridList = () => {\n    const { ids, data } = useListContext<Company>();\n    const classes = useStyles();\n\n    if (!ids || !data) return null;\n\n    return (\n        <Box className={classes.gridList}>\n            {ids.map((id: Identifier) => (\n                <CompanyCard key={id} record={data[id]} />\n            ))}\n        </Box>\n    );\n};\n\nexport const GridList = () => {\n    const { loaded } = useListContext();\n    return loaded ? <LoadedGridList /> : <LoadingGridList />;\n};\n","export const sizes = [\n    { id: 1, name: '1 employee' },\n    { id: 10, name: '2-9 employees' },\n    { id: 50, name: '10-49 employees' },\n    { id: 250, name: '50-249 employees' },\n    { id: 500, name: '250 or more employees' },\n];\n","/* eslint-disable import/no-anonymous-default-export */\nimport * as React from 'react';\nimport {\n    FilterList,\n    FilterLiveSearch,\n    FilterListItem,\n    useGetIdentity,\n} from 'react-admin';\nimport { Box } from '@material-ui/core';\nimport BusinessIcon from '@material-ui/icons/Business';\nimport LocalShippingIcon from '@material-ui/icons/LocalShipping';\nimport SupervisorAccountIcon from '@material-ui/icons/SupervisorAccount';\n\nimport { sizes } from './sizes';\nimport { sectors } from './sectors';\n\nexport const CompanyListFilter = () => {\n    const { identity } = useGetIdentity();\n    return (\n        <Box width=\"15em\" order=\"-1\" marginRight=\"1em\">\n            <FilterLiveSearch />\n\n            <FilterList label=\"Size\" icon={<BusinessIcon />}>\n                {sizes.map(size => (\n                    <FilterListItem\n                        key={size.id}\n                        label={size.name}\n                        value={{ size: size.id }}\n                    />\n                ))}\n            </FilterList>\n\n            <FilterList label=\"Sector\" icon={<LocalShippingIcon />}>\n                {sectors.map(sector => (\n                    <FilterListItem\n                        key={sector.id}\n                        label={sector.name}\n                        value={{ sector: sector.id }}\n                    />\n                ))}\n            </FilterList>\n\n            <FilterList\n                label=\"Account manager\"\n                icon={<SupervisorAccountIcon />}\n            >\n                <FilterListItem\n                    label=\"Me\"\n                    value={{\n                        sales_id: identity && identity.id,\n                    }}\n                />\n            </FilterList>\n        </Box>\n    );\n};\n","import * as React from 'react';\nimport {\n    List,\n    ListProps,\n    TopToolbar,\n    ExportButton,\n    CreateButton,\n    Pagination,\n    useGetIdentity,\n} from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { GridList } from './GridList';\nimport { CompanyListFilter } from './CompanyListFilter';\n\nexport const CompanyList = (props: ListProps) => {\n    const { identity } = useGetIdentity();\n    return identity ? (\n        <List\n            {...props}\n            actions={<CompanyListActions />}\n            aside={<CompanyListFilter />}\n            filterDefaultValues={{ sales_id: identity?.id }}\n            pagination={<Pagination rowsPerPageOptions={[15, 25, 50, 100]} />}\n            perPage={25}\n            sort={{ field: 'name', order: 'ASC' }}\n            component=\"div\"\n        >\n            <GridList />\n        </List>\n    ) : null;\n};\n\nconst useActionStyles = makeStyles(theme => ({\n    createButton: {\n        marginLeft: theme.spacing(2),\n    },\n}));\nconst CompanyListActions = (props: any) => {\n    const classes = useActionStyles();\n    return (\n        <TopToolbar>\n            <ExportButton />\n            <CreateButton\n                basePath=\"/companies\"\n                variant=\"contained\"\n                label=\"New Company\"\n                className={classes.createButton}\n            />\n        </TopToolbar>\n    );\n};\n","import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport Title, { TitlePropType } from './Title';\nvar TitleForRecord = function (_a) {\n    var defaultTitle = _a.defaultTitle, record = _a.record, title = _a.title;\n    return record ? (React.createElement(Title, { title: title, record: record, defaultTitle: defaultTitle })) : null;\n};\nTitleForRecord.propTypes = {\n    defaultTitle: PropTypes.any,\n    record: PropTypes.object,\n    title: TitlePropType,\n};\nexport default TitleForRecord;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { Children, cloneElement } from 'react';\nimport PropTypes from 'prop-types';\nimport { useCreateContext } from 'ra-core';\nimport { Card } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nimport { TitleForRecord } from '../layout';\nexport var CreateView = function (props) {\n    var _a;\n    var actions = props.actions, aside = props.aside, children = props.children, classesOverride = props.classes, className = props.className, Content = props.component, title = props.title, rest = __rest(props, [\"actions\", \"aside\", \"children\", \"classes\", \"className\", \"component\", \"title\"]);\n    var classes = useStyles(props);\n    var _b = useCreateContext(props), basePath = _b.basePath, defaultTitle = _b.defaultTitle, hasList = _b.hasList, record = _b.record, redirect = _b.redirect, resource = _b.resource, save = _b.save, saving = _b.saving, version = _b.version;\n    return (React.createElement(\"div\", __assign({ className: classnames('create-page', classes.root, className) }, sanitizeRestProps(rest)),\n        React.createElement(TitleForRecord, { title: title, record: record, defaultTitle: defaultTitle }),\n        actions &&\n            cloneElement(actions, __assign({ basePath: basePath,\n                resource: resource,\n                hasList: hasList }, actions.props)),\n        React.createElement(\"div\", { className: classnames(classes.main, (_a = {},\n                _a[classes.noActions] = !actions,\n                _a)) },\n            React.createElement(Content, { className: classes.card }, cloneElement(Children.only(children), {\n                basePath: basePath,\n                record: record,\n                redirect: typeof children.props.redirect === 'undefined'\n                    ? redirect\n                    : children.props.redirect,\n                resource: resource,\n                save: typeof children.props.save === 'undefined'\n                    ? save\n                    : children.props.save,\n                saving: saving,\n                version: version,\n            })),\n            aside &&\n                cloneElement(aside, {\n                    basePath: basePath,\n                    record: record,\n                    resource: resource,\n                    save: typeof children.props.save === 'undefined'\n                        ? save\n                        : children.props.save,\n                    saving: saving,\n                    version: version,\n                }))));\n};\nCreateView.propTypes = {\n    actions: PropTypes.element,\n    aside: PropTypes.element,\n    basePath: PropTypes.string,\n    children: PropTypes.element,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    defaultTitle: PropTypes.any,\n    hasList: PropTypes.bool,\n    hasShow: PropTypes.bool,\n    record: PropTypes.object,\n    redirect: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n    resource: PropTypes.string,\n    save: PropTypes.func,\n    title: PropTypes.node,\n    onSuccess: PropTypes.func,\n    onFailure: PropTypes.func,\n    setOnSuccess: PropTypes.func,\n    setOnFailure: PropTypes.func,\n    setTransform: PropTypes.func,\n};\nCreateView.defaultProps = {\n    classes: {},\n    component: Card,\n};\nvar useStyles = makeStyles(function (theme) {\n    var _a;\n    return ({\n        root: {},\n        main: {\n            display: 'flex',\n        },\n        noActions: (_a = {},\n            _a[theme.breakpoints.up('sm')] = {\n                marginTop: '1em',\n            },\n            _a),\n        card: {\n            flex: '1 1 auto',\n        },\n    });\n}, { name: 'RaCreate' });\nvar sanitizeRestProps = function (_a) {\n    var _b = _a.basePath, basePath = _b === void 0 ? null : _b, _c = _a.defaultTitle, defaultTitle = _c === void 0 ? null : _c, _d = _a.hasCreate, hasCreate = _d === void 0 ? null : _d, _e = _a.hasEdit, hasEdit = _e === void 0 ? null : _e, _f = _a.hasList, hasList = _f === void 0 ? null : _f, _g = _a.hasShow, hasShow = _g === void 0 ? null : _g, _h = _a.history, history = _h === void 0 ? null : _h, _j = _a.loaded, loaded = _j === void 0 ? null : _j, _k = _a.loading, loading = _k === void 0 ? null : _k, _l = _a.location, location = _l === void 0 ? null : _l, _m = _a.match, match = _m === void 0 ? null : _m, _o = _a.onFailure, onFailure = _o === void 0 ? null : _o, _p = _a.onFailureRef, onFailureRef = _p === void 0 ? null : _p, _q = _a.onSuccess, onSuccess = _q === void 0 ? null : _q, _r = _a.onSuccessRef, onSuccessRef = _r === void 0 ? null : _r, _s = _a.options, options = _s === void 0 ? null : _s, _t = _a.permissions, permissions = _t === void 0 ? null : _t, _u = _a.save, save = _u === void 0 ? null : _u, _v = _a.saving, saving = _v === void 0 ? null : _v, _w = _a.setOnFailure, setOnFailure = _w === void 0 ? null : _w, _x = _a.setOnSuccess, setOnSuccess = _x === void 0 ? null : _x, _y = _a.setTransform, setTransform = _y === void 0 ? null : _y, _z = _a.transform, transform = _z === void 0 ? null : _z, _0 = _a.transformRef, transformRef = _0 === void 0 ? null : _0, rest = __rest(_a, [\"basePath\", \"defaultTitle\", \"hasCreate\", \"hasEdit\", \"hasList\", \"hasShow\", \"history\", \"loaded\", \"loading\", \"location\", \"match\", \"onFailure\", \"onFailureRef\", \"onSuccess\", \"onSuccessRef\", \"options\", \"permissions\", \"save\", \"saving\", \"setOnFailure\", \"setOnSuccess\", \"setTransform\", \"transform\", \"transformRef\"]);\n    return rest;\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { CreateContextProvider, ResourceContextProvider, useCheckMinimumRequiredProps, useCreateController, } from 'ra-core';\nimport { CreateView } from './CreateView';\n/**\n * Page component for the Create view\n *\n * The `<Create>` component renders the page title and actions.\n * It is not responsible for rendering the actual form -\n * that's the job of its child component (usually `<SimpleForm>`),\n * to which it passes the `record` as prop.\n *\n * The <Create> component accepts the following props:\n *\n * - actions\n * - aside\n * - component\n * - successMessage\n * - title\n *\n * @example\n *\n * // in src/posts.js\n * import * as React from \"react\";\n * import { Create, SimpleForm, TextInput } from 'react-admin';\n *\n * export const PostCreate = (props) => (\n *     <Create {...props}>\n *         <SimpleForm>\n *             <TextInput source=\"title\" />\n *         </SimpleForm>\n *     </Create>\n * );\n *\n * // in src/App.js\n * import * as React from \"react\";\n * import { Admin, Resource } from 'react-admin';\n *\n * import { PostCreate } from './posts';\n *\n * const App = () => (\n *     <Admin dataProvider={...}>\n *         <Resource name=\"posts\" create={PostCreate} />\n *     </Admin>\n * );\n * export default App;\n */\nexport var Create = function (props) {\n    useCheckMinimumRequiredProps('Create', ['children'], props);\n    var controllerProps = useCreateController(props);\n    var body = (React.createElement(CreateContextProvider, { value: controllerProps },\n        React.createElement(CreateView, __assign({}, props, controllerProps))));\n    return props.resource ? (\n    // support resource override via props\n    React.createElement(ResourceContextProvider, { value: props.resource }, body)) : (body);\n};\nCreate.propTypes = {\n    actions: PropTypes.element,\n    aside: PropTypes.element,\n    children: PropTypes.element,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    hasCreate: PropTypes.bool,\n    hasEdit: PropTypes.bool,\n    hasShow: PropTypes.bool,\n    resource: PropTypes.string,\n    title: PropTypes.node,\n    record: PropTypes.object,\n    hasList: PropTypes.bool,\n    successMessage: PropTypes.string,\n    onSuccess: PropTypes.func,\n    onFailure: PropTypes.func,\n    transform: PropTypes.func,\n};\nexport default Create;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FieldTitle } from 'ra-core';\nvar useStyles = makeStyles(function (theme) { return ({\n    label: {\n        position: 'relative',\n    },\n    value: {\n        fontFamily: theme.typography.fontFamily,\n        color: 'currentColor',\n        padding: theme.spacing(1) + \"px 0 \" + theme.spacing(1) / 2 + \"px\",\n        border: 0,\n        boxSizing: 'content-box',\n        verticalAlign: 'middle',\n        background: 'none',\n        margin: 0,\n        display: 'block',\n        width: '100%',\n    },\n}); }, { name: 'RaLabeled' });\n/**\n * Use any component as read-only Input, labeled just like other Inputs.\n *\n * Useful to use a Field in the Edit or Create components.\n * The child component will receive the current record.\n *\n * This component name doesn't have a typo. We had to choose between\n * the American English \"Labeled\", and the British English \"Labelled\".\n * We flipped a coin.\n *\n * @example\n * <Labeled label=\"Comments\">\n *     <FooComponent source=\"title\" />\n * </Labeled>\n */\nvar Labeled = function (props) {\n    var children = props.children, className = props.className, classesOverride = props.classes, fullWidth = props.fullWidth, id = props.id, input = props.input, isRequired = props.isRequired, label = props.label, _a = props.margin, margin = _a === void 0 ? 'dense' : _a, meta = props.meta, resource = props.resource, source = props.source, rest = __rest(props, [\"children\", \"className\", \"classes\", \"fullWidth\", \"id\", \"input\", \"isRequired\", \"label\", \"margin\", \"meta\", \"resource\", \"source\"]);\n    var classes = useStyles(props);\n    if (!label && !source) {\n        // @ts-ignore\n        var name_1 = children && children.type && children.type.name;\n        throw new Error(\"Cannot create label for component <\" + name_1 + \">: You must set either the label or source props. You can also disable automated label insertion by setting 'addLabel: false' in the component default props\");\n    }\n    var restProps = fullWidth ? __assign(__assign({}, rest), { fullWidth: fullWidth }) : rest;\n    return (React.createElement(FormControl, { className: className, fullWidth: fullWidth, error: meta && meta.touched && !!(meta.error || meta.submitError), margin: margin },\n        React.createElement(InputLabel, { htmlFor: id, shrink: true, className: classes.label },\n            React.createElement(FieldTitle, { label: label, source: source, resource: resource, isRequired: isRequired })),\n        React.createElement(\"div\", { className: classes.value }, children && typeof children.type !== 'string'\n            ? React.cloneElement(children, __assign({ input: input,\n                resource: resource }, restProps))\n            : children)));\n};\nLabeled.propTypes = {\n    basePath: PropTypes.string,\n    children: PropTypes.element,\n    className: PropTypes.string,\n    classes: PropTypes.object,\n    fullWidth: PropTypes.bool,\n    id: PropTypes.string,\n    input: PropTypes.object,\n    isRequired: PropTypes.bool,\n    label: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n    meta: PropTypes.object,\n    onChange: PropTypes.func,\n    record: PropTypes.object,\n    resource: PropTypes.string,\n    source: PropTypes.string,\n    labelStyle: PropTypes.object,\n};\nexport default Labeled;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Labeled from '../input/Labeled';\nvar sanitizeRestProps = function (_a) {\n    var basePath = _a.basePath, record = _a.record, rest = __rest(_a, [\"basePath\", \"record\"]);\n    return rest;\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    input: { width: theme.spacing(32) },\n}); }, { name: 'RaFormInput' });\nvar FormInput = function (props) {\n    var _a, _b;\n    var input = props.input, classesOverride = props.classes, rest = __rest(props, [\"input\", \"classes\"]);\n    var classes = useStyles(props);\n    var _c = input\n        ? input.props\n        : { id: undefined, className: undefined }, id = _c.id, className = _c.className, inputProps = __rest(_c, [\"id\", \"className\"]);\n    return input ? (React.createElement(\"div\", { className: classnames('ra-input', \"ra-input-\" + input.props.source, input.props.formClassName) }, input.props.addLabel ? (React.createElement(Labeled, __assign({ id: id || input.props.source }, inputProps, sanitizeRestProps(rest)), React.cloneElement(input, __assign(__assign({ className: classnames((_a = {},\n            _a[classes.input] = !input.props.fullWidth,\n            _a), className), id: input.props.id || input.props.source }, rest), inputProps)))) : (React.cloneElement(input, __assign(__assign({ className: classnames((_b = {},\n            _b[classes.input] = !input.props.fullWidth,\n            _b), className), id: input.props.id || input.props.source }, rest), inputProps))))) : null;\n};\nFormInput.propTypes = {\n    classes: PropTypes.object,\n    // @ts-ignore\n    input: PropTypes.node,\n};\n// What? TypeScript loses the displayName if we don't set it explicitly\nFormInput.displayName = 'FormInput';\nexport default FormInput;\n","import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport CardContent from '@material-ui/core/CardContent';\nimport { makeStyles } from '@material-ui/core/styles';\nvar useStyles = makeStyles(function (theme) {\n    var _a;\n    return ({\n        root: {\n            paddingTop: 0,\n            paddingBottom: 0,\n            '&:first-child': {\n                paddingTop: 16,\n            },\n            '&:last-child': (_a = {\n                    paddingBottom: 16\n                },\n                _a[theme.breakpoints.only('xs')] = {\n                    paddingBottom: 70,\n                },\n                _a),\n        },\n    });\n}, { name: 'RaCardContentInner' });\n/**\n * Overrides material-ui CardContent to allow inner content\n *\n * When using several CardContent inside the same Card, the top and bottom\n * padding double the spacing between each CardContent, leading to too much\n * wasted space. Use this component as a CardContent alternative.\n */\nvar CardContentInner = function (props) {\n    var className = props.className, children = props.children;\n    var classes = useStyles(props);\n    return (React.createElement(CardContent, { className: classnames(classes.root, className) }, children));\n};\nCardContentInner.propTypes = {\n    className: PropTypes.string,\n    classes: PropTypes.object,\n    children: PropTypes.node,\n};\nexport default CardContentInner;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { Children } from 'react';\nimport classnames from 'classnames';\nimport FormInput from './FormInput';\nimport PropTypes from 'prop-types';\nimport Toolbar from './Toolbar';\nimport CardContentInner from '../layout/CardContentInner';\nexport var SimpleFormView = function (_a) {\n    var basePath = _a.basePath, children = _a.children, className = _a.className, Component = _a.component, handleSubmit = _a.handleSubmit, handleSubmitWithRedirect = _a.handleSubmitWithRedirect, invalid = _a.invalid, margin = _a.margin, mutationMode = _a.mutationMode, pristine = _a.pristine, record = _a.record, redirect = _a.redirect, resource = _a.resource, saving = _a.saving, submitOnEnter = _a.submitOnEnter, toolbar = _a.toolbar, undoable = _a.undoable, variant = _a.variant, validating = _a.validating, rest = __rest(_a, [\"basePath\", \"children\", \"className\", \"component\", \"handleSubmit\", \"handleSubmitWithRedirect\", \"invalid\", \"margin\", \"mutationMode\", \"pristine\", \"record\", \"redirect\", \"resource\", \"saving\", \"submitOnEnter\", \"toolbar\", \"undoable\", \"variant\", \"validating\"]);\n    return (React.createElement(\"form\", __assign({ className: classnames('simple-form', className) }, sanitizeRestProps(rest)),\n        React.createElement(Component, null, Children.map(children, function (input) {\n            return input && (React.createElement(FormInput, { basePath: basePath, input: input, record: record, resource: resource, variant: input.props.variant || variant, margin: input.props.margin || margin }));\n        })),\n        toolbar &&\n            React.cloneElement(toolbar, {\n                basePath: basePath,\n                handleSubmitWithRedirect: handleSubmitWithRedirect,\n                handleSubmit: handleSubmit,\n                invalid: invalid,\n                mutationMode: mutationMode,\n                pristine: pristine,\n                record: record,\n                redirect: redirect,\n                resource: resource,\n                saving: saving,\n                submitOnEnter: submitOnEnter,\n                validating: validating,\n                undoable: undoable,\n            })));\n};\nSimpleFormView.propTypes = {\n    basePath: PropTypes.string,\n    children: PropTypes.node,\n    className: PropTypes.string,\n    handleSubmit: PropTypes.func,\n    invalid: PropTypes.bool,\n    mutationMode: PropTypes.oneOf(['pessimistic', 'optimistic', 'undoable']),\n    pristine: PropTypes.bool,\n    // @ts-ignore\n    record: PropTypes.object,\n    resource: PropTypes.string,\n    redirect: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.bool,\n        PropTypes.func,\n    ]),\n    save: PropTypes.func,\n    saving: PropTypes.bool,\n    submitOnEnter: PropTypes.bool,\n    toolbar: PropTypes.element,\n    undoable: PropTypes.bool,\n    validate: PropTypes.func,\n};\nSimpleFormView.defaultProps = {\n    submitOnEnter: true,\n    toolbar: React.createElement(Toolbar, null),\n    component: CardContentInner,\n};\nvar sanitizeRestProps = function (_a) {\n    var active = _a.active, dirty = _a.dirty, dirtyFields = _a.dirtyFields, dirtyFieldsSinceLastSubmit = _a.dirtyFieldsSinceLastSubmit, dirtySinceLastSubmit = _a.dirtySinceLastSubmit, error = _a.error, errors = _a.errors, form = _a.form, hasSubmitErrors = _a.hasSubmitErrors, hasValidationErrors = _a.hasValidationErrors, initialValues = _a.initialValues, _b = _a.modified, modified = _b === void 0 ? null : _b, modifiedSinceLastSubmit = _a.modifiedSinceLastSubmit, _c = _a.save, save = _c === void 0 ? null : _c, submitError = _a.submitError, submitErrors = _a.submitErrors, submitFailed = _a.submitFailed, submitSucceeded = _a.submitSucceeded, submitting = _a.submitting, _d = _a.touched, touched = _d === void 0 ? null : _d, valid = _a.valid, values = _a.values, _e = _a.visited, visited = _e === void 0 ? null : _e, _f = _a.__versions, __versions = _f === void 0 ? null : _f, props = __rest(_a, [\"active\", \"dirty\", \"dirtyFields\", \"dirtyFieldsSinceLastSubmit\", \"dirtySinceLastSubmit\", \"error\", \"errors\", \"form\", \"hasSubmitErrors\", \"hasValidationErrors\", \"initialValues\", \"modified\", \"modifiedSinceLastSubmit\", \"save\", \"submitError\", \"submitErrors\", \"submitFailed\", \"submitSucceeded\", \"submitting\", \"touched\", \"valid\", \"values\", \"visited\", \"__versions\"]);\n    return props;\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { FormWithRedirect } from 'ra-core';\nimport { SimpleFormView } from './SimpleFormView';\n/**\n * Form with a one column layout, one input per line.\n *\n * Pass input components as children.\n *\n * @example\n *\n * import * as React from \"react\";\n * import { Create, Edit, SimpleForm, TextInput, DateInput, ReferenceManyField, Datagrid, TextField, DateField, EditButton } from 'react-admin';\n * import RichTextInput from 'ra-input-rich-text';\n *\n * export const PostCreate = (props) => (\n *     <Create {...props}>\n *         <SimpleForm>\n *             <TextInput source=\"title\" />\n *             <TextInput source=\"teaser\" options={{ multiline: true }} />\n *             <RichTextInput source=\"body\" />\n *             <DateInput label=\"Publication date\" source=\"published_at\" defaultValue={new Date()} />\n *         </SimpleForm>\n *     </Create>\n * );\n *\n * @typedef {Object} Props the props you can use (other props are injected by Create or Edit)\n * @prop {ReactElement[]} children Input elements\n * @prop {Object} initialValues\n * @prop {Function} validate\n * @prop {boolean} submitOnEnter\n * @prop {string} redirect\n * @prop {ReactElement} toolbar The element displayed at the bottom of the form, containing the SaveButton\n * @prop {string} variant Apply variant to all inputs. Possible values are 'standard', 'outlined', and 'filled' (default)\n * @prop {string} margin Apply variant to all inputs. Possible values are 'none', 'normal', and 'dense' (default)\n * @prop {boolean} sanitizeEmptyValues Whether or not deleted record attributes should be recreated with a `null` value (default: true)\n *\n * @param {Props} props\n */\nvar SimpleForm = function (props) { return (React.createElement(FormWithRedirect, __assign({}, props, { render: function (formProps) { return React.createElement(SimpleFormView, __assign({}, formProps)); } }))); };\nSimpleForm.propTypes = {\n    children: PropTypes.node,\n    initialValues: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n    mutationMode: PropTypes.oneOf(['pessimistic', 'optimistic', 'undoable']),\n    // @ts-ignore\n    record: PropTypes.object,\n    redirect: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.bool,\n        PropTypes.func,\n    ]),\n    save: PropTypes.func,\n    saving: PropTypes.bool,\n    submitOnEnter: PropTypes.bool,\n    toolbar: PropTypes.element,\n    undoable: PropTypes.bool,\n    validate: PropTypes.func,\n    version: PropTypes.number,\n    sanitizeEmptyValues: PropTypes.bool,\n};\nexport default SimpleForm;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport get from 'lodash/get';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useInput, FieldTitle, useTranslate, useChoices, warning, } from 'ra-core';\nimport ResettableTextField from './ResettableTextField';\nimport InputHelperText from './InputHelperText';\nimport sanitizeInputRestProps from './sanitizeInputRestProps';\nimport Labeled from './Labeled';\nimport { LinearProgress } from '../layout';\nimport { useSupportCreateSuggestion, } from './useSupportCreateSuggestion';\n/**\n * An Input component for a select box, using an array of objects for the options\n *\n * Pass possible options as an array of objects in the 'choices' attribute.\n *\n * By default, the options are built from:\n *  - the 'id' property as the option value,\n *  - the 'name' property as the option text\n * @example\n * const choices = [\n *    { id: 'M', name: 'Male' },\n *    { id: 'F', name: 'Female' },\n * ];\n * <SelectInput source=\"gender\" choices={choices} />\n *\n * You can also customize the properties to use for the option name and value,\n * thanks to the 'optionText' and 'optionValue' attributes.\n * @example\n * const choices = [\n *    { _id: 123, full_name: 'Leo Tolstoi', sex: 'M' },\n *    { _id: 456, full_name: 'Jane Austen', sex: 'F' },\n * ];\n * <SelectInput source=\"author_id\" choices={choices} optionText=\"full_name\" optionValue=\"_id\" />\n *\n * `optionText` also accepts a function, so you can shape the option text at will:\n * @example\n * const choices = [\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\n * ];\n * const optionRenderer = choice => `${choice.first_name} ${choice.last_name}`;\n * <SelectInput source=\"author_id\" choices={choices} optionText={optionRenderer} />\n *\n * `optionText` also accepts a React Element, that will be cloned and receive\n * the related choice as the `record` prop. You can use Field components there.\n * @example\n * const choices = [\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\n * ];\n * const FullNameField = ({ record }) => <span>{record.first_name} {record.last_name}</span>;\n * <SelectInput source=\"gender\" choices={choices} optionText={<FullNameField />}/>\n *\n * The choices are translated by default, so you can use translation identifiers as choices:\n * @example\n * const choices = [\n *    { id: 'M', name: 'myroot.gender.male' },\n *    { id: 'F', name: 'myroot.gender.female' },\n * ];\n *\n * However, in some cases (e.g. inside a `<ReferenceInput>`), you may not want\n * the choice to be translated. In that case, set the `translateChoice` prop to false.\n * @example\n * <SelectInput source=\"gender\" choices={choices} translateChoice={false}/>\n *\n * The object passed as `options` props is passed to the material-ui <Select> component\n *\n * You can disable some choices by providing a `disableValue` field which name is `disabled` by default\n * @example\n * const choices = [\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\n *    { id: 976, first_name: 'William', last_name: 'Rinkerd', disabled: true },\n * ];\n *\n * @example\n * const choices = [\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\n *    { id: 976, first_name: 'William', last_name: 'Rinkerd', not_available: true },\n * ];\n * <SelectInput source=\"gender\" choices={choices} disableValue=\"not_available\" />\n *\n */\nexport var SelectInput = function (props) {\n    var allowEmpty = props.allowEmpty, _a = props.choices, choices = _a === void 0 ? [] : _a, classesOverride = props.classes, className = props.className, create = props.create, createLabel = props.createLabel, createValue = props.createValue, disableValue = props.disableValue, emptyText = props.emptyText, emptyValue = props.emptyValue, format = props.format, helperText = props.helperText, label = props.label, loaded = props.loaded, loading = props.loading, _b = props.margin, margin = _b === void 0 ? 'dense' : _b, onBlur = props.onBlur, onChange = props.onChange, onCreate = props.onCreate, onFocus = props.onFocus, options = props.options, optionText = props.optionText, optionValue = props.optionValue, parse = props.parse, resource = props.resource, source = props.source, translateChoice = props.translateChoice, validate = props.validate, rest = __rest(props, [\"allowEmpty\", \"choices\", \"classes\", \"className\", \"create\", \"createLabel\", \"createValue\", \"disableValue\", \"emptyText\", \"emptyValue\", \"format\", \"helperText\", \"label\", \"loaded\", \"loading\", \"margin\", \"onBlur\", \"onChange\", \"onCreate\", \"onFocus\", \"options\", \"optionText\", \"optionValue\", \"parse\", \"resource\", \"source\", \"translateChoice\", \"validate\"]);\n    var translate = useTranslate();\n    var classes = useStyles(props);\n    warning(source === undefined, \"If you're not wrapping the SelectInput inside a ReferenceInput, you must provide the source prop\");\n    warning(choices === undefined, \"If you're not wrapping the SelectInput inside a ReferenceInput, you must provide the choices prop\");\n    var _c = useChoices({\n        optionText: optionText,\n        optionValue: optionValue,\n        translateChoice: translateChoice,\n    }), getChoiceText = _c.getChoiceText, getChoiceValue = _c.getChoiceValue;\n    var _d = useInput(__assign({ format: format,\n        onBlur: onBlur,\n        onChange: onChange,\n        onFocus: onFocus,\n        parse: parse,\n        resource: resource,\n        source: source,\n        validate: validate }, rest)), id = _d.id, input = _d.input, isRequired = _d.isRequired, meta = _d.meta;\n    var touched = meta.touched, error = meta.error, submitError = meta.submitError;\n    var renderEmptyItemOption = useCallback(function () {\n        return React.isValidElement(emptyText)\n            ? React.cloneElement(emptyText)\n            : emptyText === ''\n                ? '' // em space, forces the display of an empty line of normal height\n                : translate(emptyText, { _: emptyText });\n    }, [emptyText, translate]);\n    var renderMenuItemOption = useCallback(function (choice) { return getChoiceText(choice); }, [\n        getChoiceText,\n    ]);\n    var handleChange = useCallback(function (event, newItem) { return __awaiter(void 0, void 0, void 0, function () {\n        var value;\n        return __generator(this, function (_a) {\n            if (newItem) {\n                value = getChoiceValue(newItem);\n                input.onChange(value);\n                return [2 /*return*/];\n            }\n            input.onChange(event);\n            return [2 /*return*/];\n        });\n    }); }, [input, getChoiceValue]);\n    var _e = useSupportCreateSuggestion({\n        create: create,\n        createLabel: createLabel,\n        createValue: createValue,\n        handleChange: handleChange,\n        onCreate: onCreate,\n    }), getCreateItem = _e.getCreateItem, handleChangeWithCreateSupport = _e.handleChange, createElement = _e.createElement;\n    if (loading) {\n        return (React.createElement(Labeled, { id: id, label: label, source: source, resource: resource, className: className, isRequired: isRequired, meta: meta, input: input, margin: margin },\n            React.createElement(LinearProgress, null)));\n    }\n    var createItem = getCreateItem();\n    return (React.createElement(React.Fragment, null,\n        React.createElement(ResettableTextField, __assign({ id: id }, input, { onChange: handleChangeWithCreateSupport, select: true, label: label !== '' &&\n                label !== false && (React.createElement(FieldTitle, { label: label, source: source, resource: resource, isRequired: isRequired })), className: classes.input + \" \" + className, clearAlwaysVisible: true, error: !!(touched && (error || submitError)), helperText: React.createElement(InputHelperText, { touched: touched, error: error || submitError, helperText: helperText }), margin: margin }, options, sanitizeRestProps(rest)),\n            allowEmpty ? (React.createElement(MenuItem, { value: emptyValue, key: \"null\", \"aria-label\": translate('ra.action.clear_input_value'), title: translate('ra.action.clear_input_value') }, renderEmptyItemOption())) : null,\n            choices.map(function (choice) { return (React.createElement(MenuItem, { key: getChoiceValue(choice), value: getChoiceValue(choice), disabled: get(choice, disableValue) }, renderMenuItemOption(choice))); }),\n            onCreate || create ? (React.createElement(MenuItem, { value: createItem.id, key: createItem.id }, createItem.name)) : null),\n        createElement));\n};\nSelectInput.propTypes = {\n    allowEmpty: PropTypes.bool,\n    emptyText: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n    emptyValue: PropTypes.any,\n    choices: PropTypes.arrayOf(PropTypes.object),\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    label: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n    options: PropTypes.object,\n    optionText: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.func,\n        PropTypes.element,\n    ]).isRequired,\n    optionValue: PropTypes.string.isRequired,\n    disableValue: PropTypes.string,\n    resettable: PropTypes.bool,\n    resource: PropTypes.string,\n    source: PropTypes.string,\n    translateChoice: PropTypes.bool,\n};\nSelectInput.defaultProps = {\n    emptyText: '',\n    emptyValue: '',\n    options: {},\n    optionText: 'name',\n    optionValue: 'id',\n    translateChoice: true,\n    disableValue: 'disabled',\n};\nvar sanitizeRestProps = function (_a) {\n    var addLabel = _a.addLabel, afterSubmit = _a.afterSubmit, allowNull = _a.allowNull, beforeSubmit = _a.beforeSubmit, choices = _a.choices, className = _a.className, crudGetMatching = _a.crudGetMatching, crudGetOne = _a.crudGetOne, data = _a.data, filter = _a.filter, filterToQuery = _a.filterToQuery, formatOnBlur = _a.formatOnBlur, isEqual = _a.isEqual, limitChoicesToValue = _a.limitChoicesToValue, multiple = _a.multiple, name = _a.name, pagination = _a.pagination, perPage = _a.perPage, ref = _a.ref, reference = _a.reference, refetch = _a.refetch, render = _a.render, setFilter = _a.setFilter, setPagination = _a.setPagination, setSort = _a.setSort, sort = _a.sort, subscription = _a.subscription, type = _a.type, validateFields = _a.validateFields, validation = _a.validation, value = _a.value, rest = __rest(_a, [\"addLabel\", \"afterSubmit\", \"allowNull\", \"beforeSubmit\", \"choices\", \"className\", \"crudGetMatching\", \"crudGetOne\", \"data\", \"filter\", \"filterToQuery\", \"formatOnBlur\", \"isEqual\", \"limitChoicesToValue\", \"multiple\", \"name\", \"pagination\", \"perPage\", \"ref\", \"reference\", \"refetch\", \"render\", \"setFilter\", \"setPagination\", \"setSort\", \"sort\", \"subscription\", \"type\", \"validateFields\", \"validation\", \"value\"]);\n    return sanitizeInputRestProps(rest);\n};\nvar useStyles = makeStyles(function (theme) { return ({\n    input: {\n        minWidth: theme.spacing(20),\n    },\n}); }, { name: 'RaSelectInput' });\n","import * as React from 'react';\nimport {\n    Create,\n    CreateProps,\n    ReferenceInput,\n    SimpleForm,\n    TextInput,\n    SelectInput,\n    required,\n} from 'react-admin';\nimport { Box, CardContent, Divider, Avatar } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport BusinessIcon from '@material-ui/icons/Business';\nimport clsx from 'clsx';\n\nimport { sectors } from './sectors';\nimport { sizes } from './sizes';\n\nconst useStyles = makeStyles({\n    inline: {\n        display: 'inline-block',\n        marginLeft: '1em',\n        '&.first-child': {\n            marginLeft: 0,\n        },\n    },\n});\n\nexport const CompanyCreate = (props: CreateProps) => {\n    const classes = useStyles();\n    return (\n        <Create {...props} actions={false}>\n            <SimpleForm component={CustomLayout} redirect=\"show\">\n                <TextInput source=\"name\" validate={required()} fullWidth />\n                <SelectInput\n                    source=\"sector\"\n                    choices={sectors}\n                    formClassName={clsx(classes.inline, 'first-child')}\n                />\n                <SelectInput\n                    source=\"size\"\n                    choices={sizes}\n                    formClassName={classes.inline}\n                />\n                <CustomDivider />\n                <TextInput source=\"address\" fullWidth helperText={false} />\n                <TextInput\n                    source=\"city\"\n                    formClassName={clsx(classes.inline, 'first-child')}\n                />\n                <TextInput source=\"zipcode\" formClassName={classes.inline} />\n                <TextInput source=\"stateAbbr\" formClassName={classes.inline} />\n                <CustomDivider />\n                <TextInput source=\"website\" fullWidth helperText={false} />\n                <TextInput source=\"linkedIn\" fullWidth helperText={false} />\n                <TextInput source=\"logo\" fullWidth />\n                <CustomDivider />\n                <TextInput\n                    source=\"phone_number\"\n                    formClassName={clsx(classes.inline, 'first-child')}\n                    helperText={false}\n                />\n                <ReferenceInput\n                    source=\"sales_id\"\n                    reference=\"sales\"\n                    label=\"Account manager\"\n                    formClassName={classes.inline}\n                    helperText={false}\n                >\n                    <SelectInput\n                        optionText={(sales: any) =>\n                            `${sales.first_name} ${sales.last_name}`\n                        }\n                    />\n                </ReferenceInput>\n            </SimpleForm>\n        </Create>\n    );\n};\n\nconst CustomLayout = (props: any) => (\n    <CardContent>\n        <Box display=\"flex\">\n            <Box paddingTop={1}>\n                <Avatar>\n                    <BusinessIcon />\n                </Avatar>\n            </Box>\n            <Box ml={2} flex=\"1\" maxWidth={796}>\n                {props.children}\n            </Box>\n        </Box>\n    </CardContent>\n);\n\nconst CustomDivider = () => (\n    <Box mb={2}>\n        <Divider />\n    </Box>\n);\n","import * as React from 'react';\nimport {\n    TextField,\n    DateField,\n    FunctionField,\n    ReferenceField,\n    EditButton,\n    ShowButton,\n} from 'react-admin';\nimport { Box, Typography, Divider, Link } from '@material-ui/core';\n\nimport { Company, Sale } from '../types';\n\nexport const CompanyAside = ({\n    record,\n    link = 'edit',\n}: {\n    record?: Company;\n    link?: string;\n}) =>\n    record ? (\n        <Box ml={4} width={250} minWidth={250}>\n            <Box textAlign=\"center\" mb={2}>\n                {link === 'edit' ? (\n                    <EditButton\n                        basePath=\"/companies\"\n                        record={record}\n                        label=\"Edit Company\"\n                    />\n                ) : (\n                    <ShowButton\n                        basePath=\"/companies\"\n                        record={record}\n                        label=\"Show Company\"\n                    />\n                )}\n            </Box>\n\n            <Typography variant=\"subtitle2\">Company info</Typography>\n            <Divider />\n\n            <Box mt={2}>\n                Website: <Link href={record.website}>{record.website}</Link>\n                <br />\n                LinkedIn: <Link href={record.linkedIn}>LinkedIn</Link>\n            </Box>\n\n            <Box mt={1}>\n                <TextField source=\"phone_number\" record={record} />{' '}\n                <Typography\n                    variant=\"body2\"\n                    color=\"textSecondary\"\n                    component=\"span\"\n                >\n                    Main\n                </Typography>\n            </Box>\n\n            <Box mt={1} mb={3}>\n                <TextField source=\"address\" />\n                <br />\n                <TextField source=\"city\" /> <TextField source=\"zipcode\" />{' '}\n                <TextField source=\"stateAbbr\" />\n            </Box>\n\n            <Typography variant=\"subtitle2\">Background</Typography>\n            <Divider />\n\n            <Box mt={1}>\n                <Typography\n                    variant=\"body2\"\n                    color=\"textSecondary\"\n                    component=\"span\"\n                >\n                    Added on\n                </Typography>{' '}\n                <DateField\n                    source=\"created_at\"\n                    options={{ year: 'numeric', month: 'long', day: 'numeric' }}\n                    color=\"textSecondary\"\n                />\n                <br />\n                <Typography\n                    component=\"span\"\n                    variant=\"body2\"\n                    color=\"textSecondary\"\n                >\n                    Followed by\n                </Typography>{' '}\n                <ReferenceField\n                    resource=\"companies\"\n                    source=\"sales_id\"\n                    reference=\"sales\"\n                >\n                    <FunctionField<Sale>\n                        source=\"last_name\"\n                        render={record =>\n                            record\n                                ? `${record.first_name} ${record.last_name}`\n                                : ''\n                        }\n                    />\n                </ReferenceField>\n            </Box>\n        </Box>\n    ) : null;\n","export const stages = [\n    'opportunity',\n    'proposal-sent',\n    'in-negociation',\n    'won',\n    'lost',\n    'delayed',\n];\n\nexport const stageNames = {\n    opportunity: 'Opportunity',\n    'proposal-sent': 'Proposal Sent',\n    'in-negociation': 'In Negociation',\n    won: 'Won',\n    lost: 'Lost',\n    delayed: 'Delayed',\n};\n\nexport const stageChoices = stages.map(type => ({\n    id: type,\n    /* @ts-ignore */\n    name: stageNames[type],\n}));\n","import * as React from 'react';\nimport { useState, ChangeEvent } from 'react';\nimport {\n    ShowBase,\n    ShowProps,\n    TextField,\n    ReferenceManyField,\n    SelectField,\n    useShowContext,\n    useRecordContext,\n    useListContext,\n} from 'react-admin';\nimport {\n    Box,\n    Button,\n    Card,\n    CardContent,\n    Typography,\n    List,\n    ListItem,\n    ListItemAvatar,\n    ListItemText,\n    ListItemSecondaryAction,\n    Tabs,\n    Tab,\n    Divider,\n} from '@material-ui/core';\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\nimport { Link as RouterLink } from 'react-router-dom';\nimport { formatDistance } from 'date-fns';\n\nimport { Avatar } from '../contacts/Avatar';\nimport { Status } from '../misc/Status';\nimport { TagsList } from '../contacts/TagsList';\nimport { sizes } from './sizes';\nimport { LogoField } from './LogoField';\nimport { CompanyAside } from './CompanyAside';\nimport { Company, Deal, Contact } from '../types';\nimport { stageNames } from '../deals/stages';\n\nexport const CompanyShow = (props: ShowProps) => (\n    <ShowBase {...props}>\n        <CompanyShowContent />\n    </ShowBase>\n);\n\nconst CompanyShowContent = () => {\n    const { record, loaded } = useShowContext<Company>();\n    const [value, setValue] = useState(0);\n    const handleChange = (event: ChangeEvent<{}>, newValue: number) => {\n        setValue(newValue);\n    };\n    if (!loaded || !record) return null;\n    return (\n        <Box mt={2} display=\"flex\">\n            <Box flex=\"1\">\n                <Card>\n                    <CardContent>\n                        <Box display=\"flex\" mb={1}>\n                            <LogoField record={record as any} />\n                            <Box ml={2} flex=\"1\">\n                                <Typography variant=\"h5\">\n                                    {record.name}\n                                </Typography>\n                                <Typography variant=\"body2\">\n                                    <TextField source=\"sector\" />,{' '}\n                                    <SelectField\n                                        source=\"size\"\n                                        choices={sizes}\n                                    />\n                                </Typography>\n                            </Box>\n                        </Box>\n                        <Tabs\n                            value={value}\n                            indicatorColor=\"primary\"\n                            textColor=\"primary\"\n                            onChange={handleChange}\n                        >\n                            {record.nb_contacts && (\n                                <Tab\n                                    label={\n                                        record.nb_contacts === 1\n                                            ? '1 Contact'\n                                            : `${record.nb_contacts} Contacts`\n                                    }\n                                />\n                            )}\n                            {record.nb_deals && (\n                                <Tab\n                                    label={\n                                        record.nb_deals === 1\n                                            ? '1 deal'\n                                            : `${record.nb_deals} Deals`\n                                    }\n                                />\n                            )}\n                        </Tabs>\n                        <Divider />\n                        <TabPanel value={value} index={0}>\n                            <ReferenceManyField\n                                reference=\"contacts\"\n                                target=\"company_id\"\n                                sort={{ field: 'last_name', order: 'ASC' }}\n                            >\n                                <ContactsIterator />\n                            </ReferenceManyField>\n                        </TabPanel>\n                        <TabPanel value={value} index={1}>\n                            <ReferenceManyField\n                                reference=\"deals\"\n                                target=\"company_id\"\n                                sort={{ field: 'name', order: 'ASC' }}\n                            >\n                                <DealsIterator />\n                            </ReferenceManyField>\n                        </TabPanel>\n                    </CardContent>\n                </Card>\n            </Box>\n            <CompanyAside record={record} />\n        </Box>\n    );\n};\n\ninterface TabPanelProps {\n    children?: React.ReactNode;\n    index: any;\n    value: any;\n}\n\nconst TabPanel = (props: TabPanelProps) => {\n    const { children, value, index, ...other } = props;\n\n    return (\n        <div\n            role=\"tabpanel\"\n            hidden={value !== index}\n            id={`wrapped-tabpanel-${index}`}\n            aria-labelledby={`wrapped-tab-${index}`}\n            {...other}\n        >\n            {children}\n        </div>\n    );\n};\n\nconst ContactsIterator = () => {\n    const { data, ids, loaded } = useListContext<Contact>();\n    const record = useRecordContext();\n\n    const now = Date.now();\n    if (!loaded) return null;\n    return (\n        <Box>\n            <List>\n                {ids.map(id => {\n                    const contact = data[id];\n                    return (\n                        <ListItem\n                            button\n                            key={id}\n                            component={RouterLink}\n                            to={`/contacts/${id}/show`}\n                        >\n                            <ListItemAvatar>\n                                <Avatar record={contact} />\n                            </ListItemAvatar>\n                            <ListItemText\n                                primary={`${contact.first_name} ${contact.last_name}`}\n                                secondary={\n                                    <>\n                                        {contact.title}{' '}\n                                        <TagsList record={contact} />\n                                    </>\n                                }\n                            />\n                            <ListItemSecondaryAction>\n                                <Typography\n                                    variant=\"body2\"\n                                    color=\"textSecondary\"\n                                    component=\"span\"\n                                >\n                                    last activity{' '}\n                                    {formatDistance(\n                                        new Date(contact.last_seen),\n                                        now\n                                    )}{' '}\n                                    ago <Status status={contact.status} />\n                                </Typography>\n                            </ListItemSecondaryAction>\n                        </ListItem>\n                    );\n                })}\n            </List>\n            <Box textAlign=\"center\" mt={1}>\n                <CreateRelatedContactButton record={record} />\n            </Box>\n        </Box>\n    );\n};\n\nconst CreateRelatedContactButton = ({ record }: any) => (\n    <Button\n        component={RouterLink}\n        to={{\n            pathname: '/contacts/create',\n            state: { record: { company_id: record.id } },\n        }}\n        color=\"primary\"\n        variant=\"contained\"\n        size=\"small\"\n        startIcon={<PersonAddIcon />}\n    >\n        Add contact\n    </Button>\n);\n\nconst DealsIterator = () => {\n    const { data, ids, loaded } = useListContext<Deal>();\n\n    const now = Date.now();\n    if (!loaded) return null;\n    return (\n        <Box>\n            <List>\n                {ids.map(id => {\n                    const deal = data[id];\n                    return (\n                        <ListItem\n                            button\n                            key={id}\n                            component={RouterLink}\n                            to={`/deals/${id}/show`}\n                        >\n                            <ListItemText\n                                primary={deal.name}\n                                secondary={\n                                    <>\n                                        {/* @ts-ignore */}\n                                        {stageNames[deal.stage]},{' '}\n                                        {deal.amount.toLocaleString('en-US', {\n                                            notation: 'compact',\n                                            style: 'currency',\n                                            currency: 'USD',\n                                            currencyDisplay: 'narrowSymbol',\n                                            minimumSignificantDigits: 3,\n                                        })}\n                                        , {deal.type}\n                                    </>\n                                }\n                            />\n                            <ListItemSecondaryAction>\n                                <Typography\n                                    variant=\"body2\"\n                                    color=\"textSecondary\"\n                                    component=\"span\"\n                                >\n                                    last activity{' '}\n                                    {formatDistance(\n                                        new Date(deal.updated_at),\n                                        now\n                                    )}{' '}\n                                    ago{' '}\n                                </Typography>\n                            </ListItemSecondaryAction>\n                        </ListItem>\n                    );\n                })}\n            </List>\n        </Box>\n    );\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { useEditContext, useResourceDefinition } from 'ra-core';\nimport { ShowButton } from '../button';\nimport TopToolbar from '../layout/TopToolbar';\n/**\n * Action Toolbar for the Edit view\n *\n * Internal component. If you want to add or remove actions for an Edit view,\n * write your own EditActions Component. Then, in the <Edit> component,\n * use it in the `actions` prop to pass a custom component.\n *\n * @example\n *     import Button from '@material-ui/core/Button';\n *     import { TopToolbar, ShowButton, Edit } from 'react-admin';\n *\n *     const PostEditActions = ({ basePath, record, resource }) => (\n *         <TopToolbar>\n *             <ShowButton basePath={basePath} record={record} />\n *             // Add your custom actions here\n *             <Button color=\"primary\" onClick={customAction}>Custom Action</Button>\n *         </TopToolbar>\n *     );\n *\n *     export const PostEdit = (props) => (\n *         <Edit actions={<PostEditActions />} {...props}>\n *             ...\n *         </Edit>\n *     );\n */\nexport var EditActions = function (_a) {\n    var className = _a.className, rest = __rest(_a, [\"className\"]);\n    var _b = useEditContext(rest), basePath = _b.basePath, record = _b.record;\n    var hasShow = useResourceDefinition(rest).hasShow;\n    return (React.createElement(TopToolbar, __assign({ className: className }, sanitizeRestProps(rest)), hasShow && React.createElement(ShowButton, { basePath: basePath, record: record })));\n};\nvar sanitizeRestProps = function (_a) {\n    var _b = _a.basePath, basePath = _b === void 0 ? null : _b, _c = _a.hasCreate, hasCreate = _c === void 0 ? null : _c, _d = _a.hasEdit, hasEdit = _d === void 0 ? null : _d, _e = _a.hasShow, hasShow = _e === void 0 ? null : _e, _f = _a.hasList, hasList = _f === void 0 ? null : _f, rest = __rest(_a, [\"basePath\", \"hasCreate\", \"hasEdit\", \"hasShow\", \"hasList\"]);\n    return rest;\n};\nEditActions.propTypes = {\n    basePath: PropTypes.string,\n    className: PropTypes.string,\n    data: PropTypes.object,\n    hasCreate: PropTypes.bool,\n    hasEdit: PropTypes.bool,\n    hasShow: PropTypes.bool,\n    hasList: PropTypes.bool,\n    resource: PropTypes.string,\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport { Children, cloneElement } from 'react';\nimport PropTypes from 'prop-types';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nimport { ComponentPropType, useEditContext, } from 'ra-core';\nimport { EditActions as DefaultActions } from './EditActions';\nimport TitleForRecord from '../layout/TitleForRecord';\nexport var EditView = function (props) {\n    var _a;\n    var actions = props.actions, aside = props.aside, children = props.children, classesOverride = props.classes, className = props.className, Content = props.component, title = props.title, undoable = props.undoable, mutationMode = props.mutationMode, rest = __rest(props, [\"actions\", \"aside\", \"children\", \"classes\", \"className\", \"component\", \"title\", \"undoable\", \"mutationMode\"]);\n    var classes = useStyles(props);\n    var _b = useEditContext(props), basePath = _b.basePath, defaultTitle = _b.defaultTitle, hasList = _b.hasList, hasShow = _b.hasShow, record = _b.record, redirect = _b.redirect, resource = _b.resource, save = _b.save, saving = _b.saving, version = _b.version;\n    var finalActions = typeof actions === 'undefined' && hasShow ? (React.createElement(DefaultActions, null)) : (actions);\n    if (!children) {\n        return null;\n    }\n    return (React.createElement(\"div\", __assign({ className: classnames('edit-page', classes.root, className) }, sanitizeRestProps(rest)),\n        React.createElement(TitleForRecord, { title: title, record: record, defaultTitle: defaultTitle }),\n        finalActions &&\n            cloneElement(finalActions, __assign({ basePath: basePath, data: record, hasShow: hasShow,\n                hasList: hasList,\n                resource: resource }, finalActions.props)),\n        React.createElement(\"div\", { className: classnames(classes.main, (_a = {},\n                _a[classes.noActions] = !finalActions,\n                _a)) },\n            React.createElement(Content, { className: classes.card }, record ? (cloneElement(Children.only(children), {\n                basePath: basePath,\n                record: record,\n                redirect: typeof children.props.redirect === 'undefined'\n                    ? redirect\n                    : children.props.redirect,\n                resource: resource,\n                save: typeof children.props.save === 'undefined'\n                    ? save\n                    : children.props.save,\n                saving: saving,\n                undoable: undoable,\n                mutationMode: mutationMode,\n                version: version,\n            })) : (React.createElement(CardContent, null, \"\\u00A0\"))),\n            aside &&\n                React.cloneElement(aside, {\n                    basePath: basePath,\n                    record: record,\n                    resource: resource,\n                    version: version,\n                    save: typeof children.props.save === 'undefined'\n                        ? save\n                        : children.props.save,\n                    saving: saving,\n                }))));\n};\nEditView.propTypes = {\n    actions: PropTypes.oneOfType([PropTypes.element, PropTypes.bool]),\n    aside: PropTypes.element,\n    basePath: PropTypes.string,\n    children: PropTypes.element,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    component: ComponentPropType,\n    defaultTitle: PropTypes.any,\n    hasList: PropTypes.bool,\n    hasShow: PropTypes.bool,\n    mutationMode: PropTypes.oneOf(['pessimistic', 'optimistic', 'undoable']),\n    record: PropTypes.object,\n    redirect: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n    resource: PropTypes.string,\n    save: PropTypes.func,\n    title: PropTypes.node,\n    version: PropTypes.number,\n    onSuccess: PropTypes.func,\n    onFailure: PropTypes.func,\n    setOnSuccess: PropTypes.func,\n    setOnFailure: PropTypes.func,\n    setTransform: PropTypes.func,\n    undoable: PropTypes.bool,\n};\nEditView.defaultProps = {\n    classes: {},\n    component: Card,\n};\nvar useStyles = makeStyles({\n    root: {},\n    main: {\n        display: 'flex',\n    },\n    noActions: {\n        marginTop: '1em',\n    },\n    card: {\n        flex: '1 1 auto',\n    },\n}, { name: 'RaEdit' });\nvar sanitizeRestProps = function (_a) {\n    var _b = _a.basePath, basePath = _b === void 0 ? null : _b, _c = _a.defaultTitle, defaultTitle = _c === void 0 ? null : _c, _d = _a.hasCreate, hasCreate = _d === void 0 ? null : _d, _e = _a.hasEdit, hasEdit = _e === void 0 ? null : _e, _f = _a.hasList, hasList = _f === void 0 ? null : _f, _g = _a.hasShow, hasShow = _g === void 0 ? null : _g, _h = _a.history, history = _h === void 0 ? null : _h, _j = _a.id, id = _j === void 0 ? null : _j, _k = _a.loaded, loaded = _k === void 0 ? null : _k, _l = _a.loading, loading = _l === void 0 ? null : _l, _m = _a.location, location = _m === void 0 ? null : _m, _o = _a.match, match = _o === void 0 ? null : _o, _p = _a.onFailure, onFailure = _p === void 0 ? null : _p, _q = _a.onFailureRef, onFailureRef = _q === void 0 ? null : _q, _r = _a.onSuccess, onSuccess = _r === void 0 ? null : _r, _s = _a.onSuccessRef, onSuccessRef = _s === void 0 ? null : _s, _t = _a.options, options = _t === void 0 ? null : _t, _u = _a.permissions, permissions = _u === void 0 ? null : _u, _v = _a.refetch, refetch = _v === void 0 ? null : _v, _w = _a.save, save = _w === void 0 ? null : _w, _x = _a.saving, saving = _x === void 0 ? null : _x, _y = _a.setOnFailure, setOnFailure = _y === void 0 ? null : _y, _z = _a.setOnSuccess, setOnSuccess = _z === void 0 ? null : _z, _0 = _a.setTransform, setTransform = _0 === void 0 ? null : _0, _1 = _a.successMessage, successMessage = _1 === void 0 ? null : _1, _2 = _a.transform, transform = _2 === void 0 ? null : _2, _3 = _a.transformRef, transformRef = _3 === void 0 ? null : _3, rest = __rest(_a, [\"basePath\", \"defaultTitle\", \"hasCreate\", \"hasEdit\", \"hasList\", \"hasShow\", \"history\", \"id\", \"loaded\", \"loading\", \"location\", \"match\", \"onFailure\", \"onFailureRef\", \"onSuccess\", \"onSuccessRef\", \"options\", \"permissions\", \"refetch\", \"save\", \"saving\", \"setOnFailure\", \"setOnSuccess\", \"setTransform\", \"successMessage\", \"transform\", \"transformRef\"]);\n    return rest;\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { EditContextProvider, ResourceContextProvider, useCheckMinimumRequiredProps, useEditController, } from 'ra-core';\nimport { EditView } from './EditView';\n/**\n * Page component for the Edit view\n *\n * The `<Edit>` component renders the page title and actions,\n * fetches the record from the data provider.\n * It is not responsible for rendering the actual form -\n * that's the job of its child component (usually `<SimpleForm>`),\n * to which it passes the `record` as prop.\n *\n * The <Edit> component accepts the following props:\n *\n * - actions\n * - aside\n * - component\n * - successMessage\n * - title\n * - mutationMode\n * - undoable (deprecated)\n *\n * @example\n *\n * // in src/posts.js\n * import * as React from \"react\";\n * import { Edit, SimpleForm, TextInput } from 'react-admin';\n *\n * export const PostEdit = (props) => (\n *     <Edit {...props}>\n *         <SimpleForm>\n *             <TextInput source=\"title\" />\n *         </SimpleForm>\n *     </Edit>\n * );\n *\n * // in src/App.js\n * import * as React from \"react\";\n * import { Admin, Resource } from 'react-admin';\n *\n * import { PostEdit } from './posts';\n *\n * const App = () => (\n *     <Admin dataProvider={...}>\n *         <Resource name=\"posts\" edit={PostEdit} />\n *     </Admin>\n * );\n * export default App;\n */\nexport var Edit = function (props) {\n    useCheckMinimumRequiredProps('Edit', ['children'], props);\n    var controllerProps = useEditController(props);\n    var body = (React.createElement(EditContextProvider, { value: controllerProps },\n        React.createElement(EditView, __assign({}, props, controllerProps))));\n    return props.resource ? (\n    // support resource override via props\n    React.createElement(ResourceContextProvider, { value: props.resource }, body)) : (body);\n};\nEdit.propTypes = {\n    actions: PropTypes.oneOfType([PropTypes.element, PropTypes.bool]),\n    aside: PropTypes.element,\n    children: PropTypes.node,\n    classes: PropTypes.object,\n    className: PropTypes.string,\n    hasCreate: PropTypes.bool,\n    hasEdit: PropTypes.bool,\n    hasShow: PropTypes.bool,\n    hasList: PropTypes.bool,\n    id: PropTypes.any.isRequired,\n    mutationMode: PropTypes.oneOf(['pessimistic', 'optimistic', 'undoable']),\n    onSuccess: PropTypes.func,\n    onFailure: PropTypes.func,\n    resource: PropTypes.string,\n    successMessage: PropTypes.string,\n    title: PropTypes.node,\n    transform: PropTypes.func,\n    undoable: PropTypes.bool,\n};\n","import * as React from 'react';\nimport {\n    Edit,\n    EditProps,\n    ReferenceInput,\n    SimpleForm,\n    TextInput,\n    SelectInput,\n    useRecordContext,\n    required,\n} from 'react-admin';\nimport { Box, CardContent, Divider } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport clsx from 'clsx';\n\nimport { CompanyAside } from './CompanyAside';\nimport { LogoField } from './LogoField';\nimport { sectors } from './sectors';\nimport { sizes } from './sizes';\n\nconst useStyles = makeStyles({\n    inline: {\n        display: 'inline-block',\n        marginLeft: '1em',\n        '&.first-child': {\n            marginLeft: 0,\n        },\n    },\n});\n\nexport const CompanyEdit = (props: EditProps) => {\n    const classes = useStyles();\n    return (\n        <Edit {...props} aside={<CompanyAside link=\"show\" />} actions={false}>\n            <SimpleForm component={CustomLayout} redirect=\"show\">\n                <TextInput source=\"name\" validate={required()} fullWidth />\n                <SelectInput\n                    source=\"sector\"\n                    choices={sectors}\n                    formClassName={clsx(classes.inline, 'first-child')}\n                />\n                <SelectInput\n                    source=\"size\"\n                    choices={sizes}\n                    formClassName={classes.inline}\n                />\n                <CustomDivider />\n                <TextInput source=\"address\" fullWidth helperText={false} />\n                <TextInput\n                    source=\"city\"\n                    formClassName={clsx(classes.inline, 'first-child')}\n                />\n                <TextInput source=\"zipcode\" formClassName={classes.inline} />\n                <TextInput source=\"stateAbbr\" formClassName={classes.inline} />\n                <CustomDivider />\n                <TextInput source=\"website\" fullWidth helperText={false} />\n                <TextInput source=\"linkedIn\" fullWidth helperText={false} />\n                <TextInput source=\"logo\" fullWidth />\n                <CustomDivider />\n                <TextInput\n                    source=\"phone_number\"\n                    formClassName={clsx(classes.inline, 'first-child')}\n                    helperText={false}\n                />\n                <ReferenceInput\n                    source=\"sales_id\"\n                    reference=\"sales\"\n                    label=\"Account manager\"\n                    formClassName={classes.inline}\n                    helperText={false}\n                >\n                    <SelectInput\n                        optionText={(sales: any) =>\n                            `${sales.first_name} ${sales.last_name}`\n                        }\n                    />\n                </ReferenceInput>\n            </SimpleForm>\n        </Edit>\n    );\n};\n\nconst CustomLayout = (props: any) => {\n    const record = useRecordContext(props);\n    return (\n        <CardContent>\n            <Box display=\"flex\">\n                <LogoField record={record as any} />\n                <Box ml={2} flex=\"1\" maxWidth={796}>\n                    {props.children}\n                </Box>\n            </Box>\n        </CardContent>\n    );\n};\n\nconst CustomDivider = () => (\n    <Box mb={2}>\n        <Divider />\n    </Box>\n);\n","/* eslint-disable import/no-anonymous-default-export */\nimport { CompanyList } from './CompanyList';\nimport { CompanyCreate } from './CompanyCreate';\nimport { CompanyShow } from './CompanyShow';\nimport { CompanyEdit } from './CompanyEdit';\n\nexport default {\n    list: CompanyList,\n    create: CompanyCreate,\n    edit: CompanyEdit,\n    show: CompanyShow,\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport SearchIcon from '@material-ui/icons/Search';\nimport { InputAdornment } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate } from 'ra-core';\nimport TextInput from './TextInput';\nvar useStyles = makeStyles({\n    input: {\n        marginTop: 32,\n    },\n}, { name: 'RaSearchInput' });\nvar SearchInput = function (props) {\n    var classesOverride = props.classes, rest = __rest(props, [\"classes\"]);\n    var translate = useTranslate();\n    var classes = useStyles(props);\n    if (props.label) {\n        throw new Error(\"<SearchInput> isn't designed to be used with a label prop. Use <TextInput> if you need a label.\");\n    }\n    return (React.createElement(TextInput, __assign({ hiddenLabel: true, label: \"\", resettable: true, placeholder: translate('ra.action.search'), InputProps: {\n            endAdornment: (React.createElement(InputAdornment, { position: \"end\" },\n                React.createElement(SearchIcon, { color: \"disabled\" }))),\n        }, className: classes.input }, rest)));\n};\nSearchInput.propTypes = {\n    classes: PropTypes.object,\n};\nexport default SearchInput;\n","import * as React from 'react';\nimport { ReferenceField, useRedirect } from 'react-admin';\nimport { Card, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Draggable } from 'react-beautiful-dnd';\n\nimport { LogoField } from '../companies/LogoField';\nimport { Deal } from '../types';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        marginBottom: theme.spacing(1),\n    },\n    cardContent: {\n        padding: theme.spacing(1),\n        display: 'flex',\n    },\n    cardText: {\n        marginLeft: theme.spacing(1),\n    },\n}));\n\nexport const DealCard = ({ deal, index }: { deal: Deal; index: number }) => {\n    const classes = useStyles();\n    const redirect = useRedirect();\n    if (!deal) return null;\n\n    const handleClick = () => {\n        redirect(`/deals/${deal.id}/show`);\n    };\n    return (\n        <Draggable draggableId={String(deal.id)} index={index}>\n            {(provided, snapshot) => (\n                <div\n                    className={classes.root}\n                    {...provided.draggableProps}\n                    {...provided.dragHandleProps}\n                    ref={provided.innerRef}\n                    onClick={handleClick}\n                >\n                    <Card\n                        style={{\n                            opacity: snapshot.isDragging ? 0.9 : 1,\n                            transform: snapshot.isDragging\n                                ? 'rotate(-2deg)'\n                                : '',\n                        }}\n                        elevation={snapshot.isDragging ? 3 : 1}\n                    >\n                        <div className={classes.cardContent}>\n                            <ReferenceField\n                                source=\"company_id\"\n                                record={deal}\n                                reference=\"companies\"\n                                resource=\"deals\"\n                                basePath=\"/deals\"\n                            >\n                                <LogoField size=\"small\" />\n                            </ReferenceField>\n                            <div className={classes.cardText}>\n                                <Typography variant=\"body2\" gutterBottom>\n                                    {deal.name}\n                                </Typography>\n                                <Typography\n                                    variant=\"caption\"\n                                    color=\"textSecondary\"\n                                >\n                                    {deal.amount.toLocaleString('en-US', {\n                                        notation: 'compact',\n                                        style: 'currency',\n                                        currency: 'USD',\n                                        currencyDisplay: 'narrowSymbol',\n                                        minimumSignificantDigits: 3,\n                                    })}\n                                    , {deal.type}\n                                </Typography>\n                            </div>\n                        </div>\n                    </Card>\n                </div>\n            )}\n        </Draggable>\n    );\n};\n","import * as React from 'react';\nimport { Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Droppable } from 'react-beautiful-dnd';\nimport { Identifier, RecordMap } from 'react-admin';\n\nimport { DealCard } from './DealCard';\nimport { stageNames } from './stages';\nimport { Deal } from '../types';\n\nconst useStyles = makeStyles({\n    root: {\n        flex: 1,\n        paddingTop: 8,\n        paddingBottom: 16,\n        backgroundColor: '#eaeaee',\n        '&:first-child': {\n            paddingLeft: 5,\n            borderTopLeftRadius: 5,\n        },\n        '&:last-child': {\n            paddingRight: 5,\n            borderTopRightRadius: 5,\n        },\n    },\n    droppable: {\n        display: 'flex',\n        flexDirection: 'column',\n        borderRadius: 5,\n        padding: 5,\n        '&.isDraggingOver': {\n            backgroundColor: '#dadadf',\n        },\n    },\n});\n\nexport const DealColumn = ({\n    stage,\n    dealIds,\n    data,\n}: {\n    stage: string;\n    dealIds: Identifier[];\n    data: RecordMap<Deal>;\n}) => {\n    const classes = useStyles();\n    return (\n        <div className={classes.root}>\n            <Typography align=\"center\" variant=\"subtitle1\">\n                {/* @ts-ignore */}\n                {stageNames[stage]}\n            </Typography>\n            <Droppable droppableId={stage}>\n                {(droppableProvided, snapshot) => (\n                    <div\n                        ref={droppableProvided.innerRef}\n                        {...droppableProvided.droppableProps}\n                        className={\n                            classes.droppable +\n                            (snapshot.isDraggingOver ? ' isDraggingOver' : '')\n                        }\n                    >\n                        {dealIds.map((id, index) => (\n                            <DealCard key={id} index={index} deal={data[id]} />\n                        ))}\n                        {droppableProvided.placeholder}\n                    </div>\n                )}\n            </Droppable>\n        </div>\n    );\n};\n","import * as React from 'react';\nimport { useState, useEffect, useContext } from 'react';\nimport {\n    useMutation,\n    Identifier,\n    useListContext,\n    RecordMap,\n    DataProviderContext,\n} from 'react-admin';\nimport { Box } from '@material-ui/core';\nimport { DragDropContext, OnDragEndResponder } from 'react-beautiful-dnd';\nimport isEqual from 'lodash/isEqual';\n\nimport { DealColumn } from './DealColumn';\nimport { stages } from './stages';\nimport { Deal } from '../types';\n\ninterface DealsByColumn {\n    [stage: string]: Identifier[];\n}\n\nconst initialDeals: DealsByColumn = stages.reduce(\n    (obj, stage) => ({ ...obj, [stage]: [] }),\n    {}\n);\n\nconst getDealsByColumn = (\n    ids: Identifier[],\n    data: RecordMap<Deal>\n): DealsByColumn => {\n    // group deals by column\n    const columns = ids.reduce(\n        (acc, id) => {\n            acc[data[id].stage].push(id);\n            return acc;\n        },\n        stages.reduce((obj, stage) => ({ ...obj, [stage]: [] }), {} as any)\n    );\n    // order each column by index\n    stages.forEach(stage => {\n        columns[stage] = columns[stage].sort(\n            (a: Identifier, b: Identifier) => data[a].index - data[b].index\n        );\n    });\n    return columns;\n};\n\nexport const DealListContent = () => {\n    const {\n        data,\n        ids,\n        loaded,\n        page,\n        perPage,\n        currentSort,\n        filterValues,\n    } = useListContext<Deal>();\n\n    const [deals, setDeals] = useState<DealsByColumn>(\n        loaded ? getDealsByColumn(ids, data) : initialDeals\n    );\n    // we use the raw dataProvider to avoid too many updates to the Redux store after updates (which would create jank)\n    const dataProvider = useContext(DataProviderContext);\n\n    // FIXME: use refetch when available\n    const [refresh] = useMutation({\n        resource: 'deals',\n        type: 'getList',\n        payload: {\n            pagination: { page, perPage },\n            sort: currentSort,\n            filter: filterValues,\n        },\n    });\n\n    // update deals by columns when the dataProvider response updates\n    useEffect(() => {\n        if (!loaded) return;\n        const newDeals = getDealsByColumn(ids, data);\n        if (isEqual(deals, newDeals)) {\n            return;\n        }\n        setDeals(newDeals);\n    }, [data, ids, loaded]); // eslint-disable-line react-hooks/exhaustive-deps\n\n    if (!loaded) return null;\n\n    const onDragEnd: OnDragEndResponder = async result => {\n        const { destination, source, draggableId } = result;\n\n        if (!destination) {\n            return;\n        }\n\n        if (\n            destination.droppableId === source.droppableId &&\n            destination.index === source.index\n        ) {\n            return;\n        }\n\n        if (source.droppableId === destination.droppableId) {\n            // moving deal inside the same column\n\n            const column = Array.from(deals[source.droppableId]); // [4, 7, 23, 5] array of ids\n            const sourceDeal = data[column[source.index]];\n            const destinationDeal = data[column[destination.index]];\n\n            // update local state\n            // remove source deal from column\n            column.splice(source.index, 1);\n            // readd source deal at destination\n            column.splice(destination.index, 0, Number(draggableId));\n            setDeals({\n                ...deals,\n                [source.droppableId]: column,\n            });\n\n            // update backend\n            // Fetch all the deals in this stage (because the list may be filtered, but we need to update even non-filtered deals)\n            const { data: columnDeals } = await dataProvider.getList('deals', {\n                sort: { field: 'index', order: 'ASC' },\n                pagination: { page: 1, perPage: 100 },\n                filter: { stage: source.droppableId },\n            });\n\n            if (source.index > destination.index) {\n                // deal moved up, eg\n                // dest   src\n                //  <------\n                // [4, 7, 23, 5]\n\n                await Promise.all([\n                    // for all deals between destination.index and source.index, increase the index\n                    ...columnDeals\n                        .filter(\n                            deal =>\n                                deal.index >= destinationDeal.index &&\n                                deal.index < sourceDeal.index\n                        )\n                        .map(deal =>\n                            dataProvider.update('deals', {\n                                id: deal.id,\n                                data: { index: deal.index + 1 },\n                                previousData: deal,\n                            })\n                        ),\n                    // for the deal that was moved, update its index\n                    dataProvider.update('deals', {\n                        id: sourceDeal.id,\n                        data: { index: destinationDeal.index },\n                        previousData: sourceDeal,\n                    }),\n                ]);\n\n                refresh();\n            } else {\n                // deal moved down, e.g\n                // src   dest\n                //  ------>\n                // [4, 7, 23, 5]\n\n                await Promise.all([\n                    // for all deals between source.index and destination.index, decrease the index\n                    ...columnDeals\n                        .filter(\n                            deal =>\n                                deal.index <= destinationDeal.index &&\n                                deal.index > sourceDeal.index\n                        )\n                        .map(deal =>\n                            dataProvider.update('deals', {\n                                id: deal.id,\n                                data: { index: deal.index - 1 },\n                                previousData: deal,\n                            })\n                        ),\n                    // for the deal that was moved, update its index\n                    dataProvider.update('deals', {\n                        id: sourceDeal.id,\n                        data: { index: destinationDeal.index },\n                        previousData: sourceDeal,\n                    }),\n                ]);\n\n                refresh();\n            }\n        } else {\n            // moving deal across columns\n\n            const sourceColumn = Array.from(deals[source.droppableId]); // [4, 7, 23, 5] array of ids\n            const destinationColumn = Array.from(\n                deals[destination.droppableId]\n            ); // [4, 7, 23, 5] arrays of ids\n            const sourceDeal = data[sourceColumn[source.index]];\n            const destinationDeal = data[destinationColumn[destination.index]]; // may be undefined if dropping at the end of a column\n\n            // update local state\n            sourceColumn.splice(source.index, 1);\n            destinationColumn.splice(destination.index, 0, draggableId);\n            setDeals({\n                ...deals,\n                [source.droppableId]: sourceColumn,\n                [destination.droppableId]: destinationColumn,\n            });\n\n            // update backend\n            // Fetch all the deals in both stages (because the list may be filtered, but we need to update even non-filtered deals)\n            const [\n                { data: sourceDeals },\n                { data: destinationDeals },\n            ] = await Promise.all([\n                dataProvider.getList('deals', {\n                    sort: { field: 'index', order: 'ASC' },\n                    pagination: { page: 1, perPage: 100 },\n                    filter: { stage: source.droppableId },\n                }),\n                dataProvider.getList('deals', {\n                    sort: { field: 'index', order: 'ASC' },\n                    pagination: { page: 1, perPage: 100 },\n                    filter: { stage: destination.droppableId },\n                }),\n            ]);\n\n            await Promise.all([\n                // decrease index on the deals after the source index in the source columns\n                ...sourceDeals\n                    .filter(deal => deal.index > sourceDeal.index)\n                    .map(deal =>\n                        dataProvider.update('deals', {\n                            id: deal.id,\n                            data: { index: deal.index - 1 },\n                            previousData: deal,\n                        })\n                    ),\n                // increase index on the deals after the destination index in the destination columns\n                ...destinationDeals\n                    .filter(deal =>\n                        destinationDeal\n                            ? deal.index >= destinationDeal.index\n                            : false\n                    )\n                    .map(deal =>\n                        dataProvider.update('deals', {\n                            id: deal.id,\n                            data: { index: deal.index + 1 },\n                            previousData: deal,\n                        })\n                    ),\n                // change the dragged deal to take the destination index and column\n                dataProvider.update('deals', {\n                    id: sourceDeal.id,\n                    data: {\n                        index: destinationDeal\n                            ? destinationDeal.index\n                            : destinationDeals.pop()!.index + 1,\n                        stage: destination.droppableId,\n                    },\n                    previousData: sourceDeal,\n                }),\n            ]);\n\n            refresh();\n        }\n    };\n\n    return (\n        <DragDropContext onDragEnd={onDragEnd}>\n            <Box display=\"flex\">\n                {stages.map(stage => (\n                    <DealColumn\n                        stage={stage}\n                        dealIds={deals[stage]}\n                        data={data}\n                        key={stage}\n                    />\n                ))}\n            </Box>\n        </DragDropContext>\n    );\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport TextField from '@material-ui/core/TextField';\nimport { useInput, FieldTitle } from 'ra-core';\nimport InputHelperText from './InputHelperText';\nimport sanitizeInputRestProps from './sanitizeInputRestProps';\nvar convertStringToNumber = function (value) {\n    var float = parseFloat(value);\n    return isNaN(float) ? null : float;\n};\n/**\n * An Input component for a number\n *\n * @example\n * <NumberInput source=\"nb_views\" />\n *\n * You can customize the `step` props (which defaults to \"any\")\n * @example\n * <NumberInput source=\"nb_views\" step={1} />\n *\n * The object passed as `options` props is passed to the material-ui <TextField> component\n */\nvar NumberInput = function (_a) {\n    var format = _a.format, helperText = _a.helperText, label = _a.label, _b = _a.margin, margin = _b === void 0 ? 'dense' : _b, onBlur = _a.onBlur, onFocus = _a.onFocus, onChange = _a.onChange, options = _a.options, _c = _a.parse, parse = _c === void 0 ? convertStringToNumber : _c, resource = _a.resource, source = _a.source, step = _a.step, min = _a.min, max = _a.max, validate = _a.validate, _d = _a.variant, variant = _d === void 0 ? 'filled' : _d, overrideInputProps = _a.inputProps, rest = __rest(_a, [\"format\", \"helperText\", \"label\", \"margin\", \"onBlur\", \"onFocus\", \"onChange\", \"options\", \"parse\", \"resource\", \"source\", \"step\", \"min\", \"max\", \"validate\", \"variant\", \"inputProps\"]);\n    var _e = useInput(__assign({ format: format,\n        onBlur: onBlur,\n        onChange: onChange,\n        onFocus: onFocus,\n        parse: parse,\n        resource: resource,\n        source: source, type: 'number', validate: validate }, rest)), id = _e.id, input = _e.input, isRequired = _e.isRequired, _f = _e.meta, error = _f.error, submitError = _f.submitError, touched = _f.touched;\n    var inputProps = __assign(__assign({}, overrideInputProps), { step: step, min: min, max: max });\n    return (React.createElement(TextField, __assign({ id: id }, input, { variant: variant, error: !!(touched && (error || submitError)), helperText: React.createElement(InputHelperText, { touched: touched, error: error || submitError, helperText: helperText }), label: React.createElement(FieldTitle, { label: label, source: source, resource: resource, isRequired: isRequired }), margin: margin, inputProps: inputProps }, options, sanitizeInputRestProps(rest))));\n};\nNumberInput.propTypes = {\n    label: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n    options: PropTypes.object,\n    resource: PropTypes.string,\n    source: PropTypes.string,\n    step: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n};\nNumberInput.defaultProps = {\n    options: {},\n    step: 'any',\n    textAlign: 'right',\n};\nexport default NumberInput;\n","export const types = [\n    'Other',\n    'Copywriting',\n    'Print project',\n    'UI Design',\n    'Website design',\n];\n\nexport const typeChoices = types.map(type => ({ id: type, name: type }));\n","import * as React from 'react';\nimport {\n    Create,\n    SimpleForm,\n    TextInput,\n    SelectInput,\n    NumberInput,\n    ReferenceInput,\n    AutocompleteInput,\n    required,\n    useRedirect,\n    useDataProvider,\n} from 'react-admin';\nimport { Dialog } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { stageChoices } from './stages';\nimport { typeChoices } from './types';\nimport { Deal } from '../types';\n\nconst useStyles = makeStyles({\n    root: {\n        width: 500,\n    },\n});\n\nexport const DealCreate = ({ open }: { open: boolean }) => {\n    const classes = useStyles();\n    const redirect = useRedirect();\n    const dataProvider = useDataProvider();\n\n    const handleClose = () => {\n        redirect('/deals');\n    };\n\n    const onSuccess = ({ data: deal }: { data: Deal }) => {\n        redirect('/deals');\n        // increase the index of all deals in the same stage as the new deal\n        dataProvider\n            .getList('deals', {\n                pagination: { page: 1, perPage: 50 },\n                sort: { field: 'id', order: 'ASC' },\n                filter: { stage: deal.stage },\n            })\n            .then(({ data: deals }) =>\n                Promise.all(\n                    deals\n                        .filter(oldDeal => oldDeal.id !== deal.id)\n                        .map(oldDeal =>\n                            dataProvider.update('deals', {\n                                id: oldDeal.id,\n                                data: { index: oldDeal.index + 1 },\n                                previousData: oldDeal,\n                            })\n                        )\n                )\n            );\n    };\n\n    return (\n        <Dialog open={open} onClose={handleClose}>\n            <Create\n                resource=\"deals\"\n                basePath=\"/deals\"\n                className={classes.root}\n                onSuccess={onSuccess}\n            >\n                <SimpleForm initialValues={{ index: 0 }}>\n                    <TextInput\n                        source=\"name\"\n                        label=\"Deal name\"\n                        fullWidth\n                        validate={[required()]}\n                    />\n                    <TextInput\n                        source=\"description\"\n                        multiline\n                        rows={3}\n                        fullWidth\n                    />\n                    <ReferenceInput\n                        source=\"company_id\"\n                        reference=\"companies\"\n                        fullWidth\n                        validate={[required()]}\n                    >\n                        <AutocompleteInput optionText=\"name\" />\n                    </ReferenceInput>\n                    <SelectInput\n                        source=\"stage\"\n                        choices={stageChoices}\n                        fullWidth\n                        validate={[required()]}\n                        defaultValue=\"opportunity\"\n                    />\n                    <SelectInput\n                        source=\"type\"\n                        choices={typeChoices}\n                        fullWidth\n                    />\n                    <NumberInput source=\"amount\" fullWidth defaultValue={0} />\n                </SimpleForm>\n            </Create>\n        </Dialog>\n    );\n};\n","import * as React from 'react';\nimport { useListContext } from 'react-admin';\nimport { Link } from '@material-ui/core';\nimport { Link as RouterLink } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles({\n    ul: {\n        listStyle: 'none',\n        padding: 0,\n        margin: 0,\n        display: 'inline-block',\n    },\n    li: {\n        display: 'inline',\n        '&:after': {\n            content: '\", \"',\n        },\n        '&:last-child:after': {\n            content: '\"\"',\n        },\n    },\n});\n\nexport const ContactList = () => {\n    const { ids, data, loaded } = useListContext();\n    const classes = useStyles();\n    if (!loaded) return <div style={{ height: '2em' }} />;\n    return (\n        <ul className={classes.ul}>\n            {ids.map(id => (\n                <li key={id} className={classes.li}>\n                    <Link\n                        component={RouterLink}\n                        to={`/contacts/${id}`}\n                        variant=\"subtitle1\"\n                    >\n                        {data[id].first_name} {data[id].last_name}\n                    </Link>\n                </li>\n            ))}\n        </ul>\n    );\n};\n","import * as React from 'react';\nimport {\n    ShowBase,\n    TextField,\n    ReferenceField,\n    ReferenceManyField,\n    ReferenceArrayField,\n    useRecordContext,\n    useRedirect,\n    Identifier,\n} from 'react-admin';\nimport {\n    Box,\n    Dialog,\n    DialogContent,\n    Typography,\n    Divider,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { format } from 'date-fns';\n\nimport { CompanyAvatar } from '../companies/CompanyAvatar';\nimport { NotesIterator } from '../notes';\nimport { ContactList } from './ContactList';\nimport { stageNames } from './stages';\n\nconst useStyles = makeStyles({\n    dialog: {\n        position: 'absolute',\n        top: 50,\n    },\n});\n\nexport const DealShow = ({ open, id }: { open: boolean; id: Identifier }) => {\n    const redirect = useRedirect();\n    const classes = useStyles();\n\n    const handleClose = () => {\n        redirect('/deals');\n    };\n\n    return (\n        <Dialog\n            open={open}\n            onClose={handleClose}\n            fullWidth\n            maxWidth=\"md\"\n            classes={{ paper: classes.dialog }}\n        >\n            <DialogContent>\n                <ShowBase resource=\"deals\" basePath=\"/deals\" id={id}>\n                    <DealShowContent />\n                </ShowBase>\n            </DialogContent>\n        </Dialog>\n    );\n};\n\nconst DealShowContent = () => {\n    const record = useRecordContext();\n    if (!record) return null;\n    return (\n        <>\n            <Box display=\"flex\">\n                <Box\n                    width={100}\n                    display=\"flex\"\n                    flexDirection=\"column\"\n                    alignItems=\"center\"\n                >\n                    <ReferenceField\n                        source=\"company_id\"\n                        reference=\"companies\"\n                        link=\"show\"\n                    >\n                        <CompanyAvatar />\n                    </ReferenceField>\n                    <ReferenceField\n                        source=\"company_id\"\n                        reference=\"companies\"\n                        link=\"show\"\n                    >\n                        <TextField\n                            source=\"name\"\n                            align=\"center\"\n                            component=\"div\"\n                        />\n                    </ReferenceField>\n                </Box>\n                <Box ml={2} flex=\"1\">\n                    <Typography variant=\"h5\">{record.name}</Typography>\n\n                    <Box display=\"flex\" mt={2}>\n                        <Box display=\"flex\" mr={5} flexDirection=\"column\">\n                            <Typography color=\"textSecondary\" variant=\"body2\">\n                                Start\n                            </Typography>\n                            <Typography variant=\"subtitle1\">\n                                {format(new Date(record.start_at), 'PP')}\n                            </Typography>\n                        </Box>\n\n                        <Box display=\"flex\" mr={5} flexDirection=\"column\">\n                            <Typography color=\"textSecondary\" variant=\"body2\">\n                                Budget\n                            </Typography>\n                            <Typography variant=\"subtitle1\">\n                                {record.amount.toLocaleString('en-US', {\n                                    notation: 'compact',\n                                    style: 'currency',\n                                    currency: 'USD',\n                                    currencyDisplay: 'narrowSymbol',\n                                    minimumSignificantDigits: 3,\n                                })}\n                            </Typography>\n                        </Box>\n\n                        <Box display=\"flex\" mr={5} flexDirection=\"column\">\n                            <Typography color=\"textSecondary\" variant=\"body2\">\n                                Type\n                            </Typography>\n                            <Typography variant=\"subtitle1\">\n                                {record.type}\n                            </Typography>\n                        </Box>\n\n                        <Box display=\"flex\" mr={5} flexDirection=\"column\">\n                            <Typography color=\"textSecondary\" variant=\"body2\">\n                                Stage\n                            </Typography>\n                            <Typography variant=\"subtitle1\">\n                                {/* @ts-ignore */}\n                                {stageNames[record.stage]}\n                            </Typography>\n                        </Box>\n                    </Box>\n\n                    <Box mt={2} mb={2}>\n                        <Box\n                            display=\"flex\"\n                            mr={5}\n                            flexDirection=\"column\"\n                            minHeight={48}\n                        >\n                            <Typography color=\"textSecondary\" variant=\"body2\">\n                                Contacts\n                            </Typography>\n                            <ReferenceArrayField\n                                source=\"contact_ids\"\n                                reference=\"contacts\"\n                            >\n                                <ContactList />\n                            </ReferenceArrayField>\n                        </Box>\n                    </Box>\n\n                    <Box mt={2} mb={2} style={{ whiteSpace: 'pre-line' }}>\n                        <Typography color=\"textSecondary\" variant=\"body2\">\n                            Description\n                        </Typography>\n                        <Typography>{record.description}</Typography>\n                    </Box>\n\n                    <Divider />\n\n                    <Box mt={2}>\n                        <ReferenceManyField\n                            target=\"deal_id\"\n                            reference=\"dealNotes\"\n                            sort={{ field: 'date', order: 'DESC' }}\n                        >\n                            <NotesIterator reference=\"deals\" />\n                        </ReferenceManyField>\n                    </Box>\n                </Box>\n            </Box>\n        </>\n    );\n};\n","import * as React from 'react';\nimport { useListFilterContext, useGetIdentity } from 'react-admin';\nimport { Switch, FormControlLabel } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        marginBottom: theme.spacing(1),\n        marginLeft: theme.spacing(1),\n    },\n}));\n\nexport const OnlyMineInput = ({ alwaysOn }: { alwaysOn: boolean }) => {\n    const {\n        filterValues,\n        displayedFilters,\n        setFilters,\n    } = useListFilterContext();\n    const { identity } = useGetIdentity();\n    const classes = useStyles();\n    const handleChange = () => {\n        const newFilterValues = { ...filterValues };\n        if (typeof filterValues.sales_id !== 'undefined') {\n            delete newFilterValues.sales_id;\n        } else {\n            newFilterValues.sales_id = identity && identity?.id;\n        }\n        setFilters(newFilterValues, displayedFilters);\n    };\n    return (\n        <div className={classes.root}>\n            <FormControlLabel\n                control={\n                    <Switch\n                        checked={typeof filterValues.sales_id !== 'undefined'}\n                        onChange={handleChange}\n                        color=\"primary\"\n                        name=\"checkedC\"\n                    />\n                }\n                label=\"Only companies I manage\"\n            />\n        </div>\n    );\n};\n\nOnlyMineInput.defaultProps = { source: 'sales_id' };\n","import * as React from 'react';\nimport {\n    CreateButton,\n    ExportButton,\n    FilterButton,\n    List,\n    ListProps,\n    SearchInput,\n    SelectInput,\n    TopToolbar,\n    useGetIdentity,\n} from 'react-admin';\nimport { Route } from 'react-router';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { DealListContent } from './DealListContent';\nimport { DealCreate } from './DealCreate';\nimport { DealShow } from './DealShow';\nimport { OnlyMineInput } from './OnlyMineInput';\nimport { typeChoices } from './types';\n\nexport const DealList = (props: ListProps) => {\n    const { identity } = useGetIdentity();\n    return identity ? (\n        <>\n            <List\n                {...props}\n                perPage={100}\n                sort={{ field: 'index', order: 'ASC' }}\n                filters={dealFilters}\n                filterDefaultValues={{ sales_id: identity && identity?.id }}\n                actions={<DealActions />}\n                pagination={false}\n                component=\"div\"\n            >\n                <DealListContent />\n            </List>\n            <Route path=\"/deals/create\">\n                {({ match }) => <DealCreate open={!!match} />}\n            </Route>\n            <Route path=\"/deals/:id/show\">\n                {({ match }) =>\n                    !!match ? (\n                        <DealShow open={!!match} id={match?.params?.id} />\n                    ) : null\n                }\n            </Route>\n        </>\n    ) : null;\n};\n\nconst dealFilters = [\n    <SearchInput source=\"q\" alwaysOn />,\n    <OnlyMineInput alwaysOn />,\n    <SelectInput source=\"type\" choices={typeChoices} />,\n];\n\nconst useActionStyles = makeStyles(theme => ({\n    createButton: {\n        marginLeft: theme.spacing(2),\n    },\n}));\nconst DealActions = () => {\n    const classes = useActionStyles();\n    return (\n        <TopToolbar>\n            <FilterButton />\n            <ExportButton />\n            <CreateButton\n                basePath=\"/deals\"\n                variant=\"contained\"\n                label=\"New Deal\"\n                className={classes.createButton}\n            />\n        </TopToolbar>\n    );\n};\n","/* eslint-disable import/no-anonymous-default-export */\nimport { DealList } from './DealList';\n\nexport default {\n    list: DealList,\n};\n","import * as React from 'react';\nimport {\n    Typography,\n    Card,\n    CardContent,\n    CardActions,\n    Button,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport HomeIcon from '@material-ui/icons/Home';\nimport CodeIcon from '@material-ui/icons/Code';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        background: `#c5dedd`,\n        color: 'rgba(0, 0, 0, 0.87)',\n        padding: '1em',\n        marginBottom: '1em',\n        marginTop: '2em',\n    },\n    actions: {\n        padding: theme.spacing(2),\n        marginTop: -theme.spacing(2),\n        marginBottom: -theme.spacing(1),\n        flexDirection: 'column',\n        '& a': {\n            marginBottom: theme.spacing(1),\n            backgroundColor: 'white',\n            marginLeft: '0 !important',\n        },\n    },\n}));\n\nexport const Welcome = () => {\n    const classes = useStyles();\n    return (\n        <Card className={classes.root}>\n            <CardContent>\n                <Typography variant=\"h5\" gutterBottom>\n                    CRM demo\n                </Typography>\n                <Typography gutterBottom>\n                    This app runs in the browser, and relies on a mock REST API.\n                    Feel free to explore and modify the data - it's local to\n                    your computer, and will reset each time you reload.\n                </Typography>\n                <Typography gutterBottom>\n                    It was built using react-admin, an open-source framework.\n                    The code for this demo is also open-source. Reading it is a\n                    great way to learn react-admin!\n                </Typography>\n            </CardContent>\n            <CardActions className={classes.actions}>\n                <Button\n                    variant=\"contained\"\n                    fullWidth\n                    href=\"https://marmelab.com/react-admin\"\n                    startIcon={<HomeIcon />}\n                >\n                    React-admin site\n                </Button>\n                <Button\n                    variant=\"contained\"\n                    fullWidth\n                    href=\"https://github.com/marmelab/react-admin/tree/master/examples/crm\"\n                    startIcon={<CodeIcon />}\n                >\n                    Source for this demo\n                </Button>\n            </CardActions>\n        </Card>\n    );\n};\n","import * as React from 'react';\nimport { useEffect, useState } from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport { Box, Link } from '@material-ui/core';\nimport AttachMoneyIcon from '@material-ui/icons/AttachMoney';\nimport { useGetList } from 'react-admin';\nimport { startOfMonth, format } from 'date-fns';\nimport { ResponsiveBar } from '@nivo/bar';\n\nimport { Deal } from '../types';\n\nconst multiplier = {\n    opportunity: 0.2,\n    'proposal-sent': 0.5,\n    'in-negociation': 0.8,\n    delayed: 0.3,\n};\n\nexport const DealsChart = () => {\n    const { data, ids, loaded } = useGetList<Deal>(\n        'deals',\n        { perPage: 100, page: 1 },\n        {\n            field: 'start_at',\n            order: 'ASC',\n        }\n    );\n    const [months, setMonths] = useState<any[]>([]);\n\n    useEffect(() => {\n        const deals = ids.map(id => data[id]);\n\n        const dealsByMonth = deals.reduce((acc, deal) => {\n            const month = startOfMonth(new Date(deal.start_at)).toISOString();\n            if (!acc[month]) {\n                acc[month] = [];\n            }\n            acc[month].push(deal);\n            return acc;\n        }, {} as any);\n\n        const amountByMonth = Object.keys(dealsByMonth).map(month => {\n            return {\n                date: format(new Date(month), 'MMM'),\n                won: dealsByMonth[month]\n                    .filter((deal: Deal) => deal.stage === 'won')\n                    .reduce((acc: number, deal: Deal) => {\n                        acc += deal.amount;\n                        return acc;\n                    }, 0),\n                pending: dealsByMonth[month]\n                    .filter(\n                        (deal: Deal) => !['won', 'lost'].includes(deal.stage)\n                    )\n                    .reduce((acc: number, deal: Deal) => {\n                        // @ts-ignore\n                        acc += deal.amount * multiplier[deal.stage];\n                        return acc;\n                    }, 0),\n                lost: dealsByMonth[month]\n                    .filter((deal: Deal) => deal.stage === 'lost')\n                    .reduce((acc: number, deal: Deal) => {\n                        acc -= deal.amount;\n                        return acc;\n                    }, 0),\n            };\n        });\n\n        setMonths(amountByMonth);\n    }, [ids, data]);\n\n    if (!loaded) return null; // FIXME return skeleton instead\n\n    const range = months.reduce(\n        (acc, month) => {\n            acc.min = Math.min(acc.min, month.lost);\n            acc.max = Math.max(acc.max, month.won + month.pending);\n            return acc;\n        },\n        { min: 0, max: 0 }\n    );\n\n    return (\n        <>\n            <Box display=\"flex\" alignItems=\"center\">\n                <Box ml={2} mr={2} display=\"flex\">\n                    <AttachMoneyIcon color=\"disabled\" fontSize=\"large\" />\n                </Box>\n                <Link\n                    underline=\"none\"\n                    variant=\"h5\"\n                    color=\"textSecondary\"\n                    component={RouterLink}\n                    to=\"/deals\"\n                >\n                    Upcoming Deal Revenue\n                </Link>\n            </Box>\n            <Box height={500}>\n                <ResponsiveBar\n                    data={months}\n                    indexBy=\"date\"\n                    keys={['won', 'pending', 'lost']}\n                    colors={['#61cdbb', '#97e3d5', '#e25c3b']}\n                    margin={{ top: 50, right: 50, bottom: 50, left: 0 }}\n                    padding={0.3}\n                    valueScale={{\n                        type: 'linear',\n                        min: range.min * 1.2,\n                        max: range.max * 1.2,\n                    }}\n                    indexScale={{ type: 'band', round: true }}\n                    enableGridX={true}\n                    enableGridY={false}\n                    enableLabel={false}\n                    axisTop={{\n                        tickSize: 0,\n                        tickPadding: 12,\n                    }}\n                    axisBottom={{\n                        legendPosition: 'middle',\n                        legendOffset: 50,\n                        tickSize: 0,\n                        tickPadding: 12,\n                    }}\n                    axisLeft={null}\n                    axisRight={{\n                        format: (v: any) => `${Math.abs(v / 1000)}k`,\n                        tickValues: 8,\n                    }}\n                    markers={\n                        [\n                            {\n                                axis: 'y',\n                                value: 0,\n                                lineStyle: { strokeOpacity: 0 },\n                                textStyle: { fill: '#2ebca6' },\n                                legend: 'Won',\n                                legendPosition: 'top-left',\n                                legendOrientation: 'vertical',\n                            },\n                            {\n                                axis: 'y',\n                                value: 0,\n                                lineStyle: {\n                                    stroke: '#f47560',\n                                    strokeWidth: 1,\n                                },\n                                textStyle: { fill: '#e25c3b' },\n                                legend: 'Lost',\n                                legendPosition: 'bottom-left',\n                                legendOrientation: 'vertical',\n                            },\n                        ] as any\n                    }\n                />\n            </Box>\n        </>\n    );\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { Avatar, List, ListItem, ListItemAvatar, ListItemIcon, ListItemSecondaryAction, ListItemText, } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport { linkToRecord, sanitizeListRestProps, useListContext, } from 'ra-core';\nimport SimpleListLoading from './SimpleListLoading';\nvar useStyles = makeStyles({\n    tertiary: { float: 'right', opacity: 0.541176 },\n}, { name: 'RaSimpleList' });\n/**\n * The <SimpleList> component renders a list of records as a material-ui <List>.\n * It is usually used as a child of react-admin's <List> and <ReferenceManyField> components.\n *\n * Also widely used on Mobile.\n *\n * Props:\n * - primaryText: function returning a React element (or some text) based on the record\n * - secondaryText: same\n * - tertiaryText: same\n * - leftAvatar: function returning a React element based on the record\n * - leftIcon: same\n * - rightAvatar: same\n * - rightIcon: same\n * - linkType: 'edit' or 'show', or a function returning 'edit' or 'show' based on the record\n * - rowStyle: function returning a style object based on (record, index)\n *\n * @example // Display all posts as a List\n * const postRowStyle = (record, index) => ({\n *     backgroundColor: record.views >= 500 ? '#efe' : 'white',\n * });\n * export const PostList = (props) => (\n *     <List {...props}>\n *         <SimpleList\n *             primaryText={record => record.title}\n *             secondaryText={record => `${record.views} views`}\n *             tertiaryText={record =>\n *                 new Date(record.published_at).toLocaleDateString()\n *             }\n *             rowStyle={postRowStyle}\n *          />\n *     </List>\n * );\n */\nvar SimpleList = function (props) {\n    var className = props.className, classesOverride = props.classes, hasBulkActions = props.hasBulkActions, leftAvatar = props.leftAvatar, leftIcon = props.leftIcon, _a = props.linkType, linkType = _a === void 0 ? 'edit' : _a, primaryText = props.primaryText, rightAvatar = props.rightAvatar, rightIcon = props.rightIcon, secondaryText = props.secondaryText, tertiaryText = props.tertiaryText, rowStyle = props.rowStyle, rest = __rest(props, [\"className\", \"classes\", \"hasBulkActions\", \"leftAvatar\", \"leftIcon\", \"linkType\", \"primaryText\", \"rightAvatar\", \"rightIcon\", \"secondaryText\", \"tertiaryText\", \"rowStyle\"]);\n    var _b = useListContext(props), basePath = _b.basePath, data = _b.data, ids = _b.ids, loaded = _b.loaded, total = _b.total;\n    var classes = useStyles(props);\n    if (loaded === false) {\n        return (React.createElement(SimpleListLoading, { classes: classes, className: className, hasLeftAvatarOrIcon: !!leftIcon || !!leftAvatar, hasRightAvatarOrIcon: !!rightIcon || !!rightAvatar, hasSecondaryText: !!secondaryText, hasTertiaryText: !!tertiaryText }));\n    }\n    var renderAvatar = function (id, avatarCallback) {\n        var avatarValue = avatarCallback(data[id], id);\n        if (typeof avatarValue === 'string' &&\n            (avatarValue.startsWith('http') || avatarValue.startsWith('data:'))) {\n            return React.createElement(Avatar, { src: avatarValue });\n        }\n        else {\n            return React.createElement(Avatar, null, avatarValue);\n        }\n    };\n    return (total > 0 && (React.createElement(List, __assign({ className: className }, sanitizeListRestProps(rest)), ids.map(function (id, rowIndex) { return (React.createElement(LinkOrNot, { linkType: linkType, basePath: basePath, id: id, key: id, record: data[id] },\n        React.createElement(ListItem, { button: !!linkType, style: rowStyle\n                ? rowStyle(data[id], rowIndex)\n                : undefined },\n            leftIcon && (React.createElement(ListItemIcon, null, leftIcon(data[id], id))),\n            leftAvatar && (React.createElement(ListItemAvatar, null, renderAvatar(id, leftAvatar))),\n            React.createElement(ListItemText, { primary: React.createElement(\"div\", null,\n                    primaryText(data[id], id),\n                    tertiaryText && (React.createElement(\"span\", { className: classes.tertiary }, tertiaryText(data[id], id)))), secondary: secondaryText && secondaryText(data[id], id) }),\n            (rightAvatar || rightIcon) && (React.createElement(ListItemSecondaryAction, null,\n                rightAvatar && (React.createElement(Avatar, null, renderAvatar(id, rightAvatar))),\n                rightIcon && (React.createElement(ListItemIcon, null, rightIcon(data[id], id)))))))); }))));\n};\nSimpleList.propTypes = {\n    className: PropTypes.string,\n    classes: PropTypes.object,\n    leftAvatar: PropTypes.func,\n    leftIcon: PropTypes.func,\n    linkType: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.bool,\n        PropTypes.func,\n    ]),\n    primaryText: PropTypes.func,\n    rightAvatar: PropTypes.func,\n    rightIcon: PropTypes.func,\n    secondaryText: PropTypes.func,\n    tertiaryText: PropTypes.func,\n    rowStyle: PropTypes.func,\n};\nvar useLinkOrNotStyles = makeStyles({\n    link: {\n        textDecoration: 'none',\n        color: 'inherit',\n    },\n}, { name: 'RaLinkOrNot' });\nvar LinkOrNot = function (_a) {\n    var classesOverride = _a.classes, linkType = _a.linkType, basePath = _a.basePath, id = _a.id, children = _a.children, record = _a.record;\n    var classes = useLinkOrNotStyles({ classes: classesOverride });\n    var link = typeof linkType === 'function' ? linkType(record, id) : linkType;\n    return link === 'edit' || link === true ? (React.createElement(Link, { to: linkToRecord(basePath, id), className: classes.link }, children)) : link === 'show' ? (React.createElement(Link, { to: linkToRecord(basePath, id) + \"/show\", className: classes.link }, children)) : (React.createElement(\"span\", null, children));\n};\nexport default SimpleList;\n","import * as React from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport { Card, Box, Link } from '@material-ui/core';\nimport ContactsIcon from '@material-ui/icons/Contacts';\nimport { useGetList, SimpleList, useGetIdentity } from 'react-admin';\nimport { formatDistance } from 'date-fns';\n\nimport { Avatar } from '../contacts/Avatar';\nimport { Contact } from '../types';\n\nexport const HotContacts = () => {\n    const { identity } = useGetIdentity();\n    const {\n        data: contactData,\n        ids: contactIds,\n        total: contactTotal,\n        loaded: contactsLoaded,\n    } = useGetList<Contact>(\n        'contacts',\n        { page: 1, perPage: 10 },\n        { field: 'last_seen', order: 'DESC' },\n        { status: 'hot', sales_id: identity?.id },\n        { enabled: Number.isInteger(identity?.id) }\n    );\n    return (\n        <>\n            <Box display=\"flex\" alignItems=\"center\" marginBottom=\"1em\">\n                <Box ml={2} mr={2} display=\"flex\">\n                    <ContactsIcon color=\"disabled\" fontSize=\"large\" />\n                </Box>\n                <Link\n                    underline=\"none\"\n                    variant=\"h5\"\n                    color=\"textSecondary\"\n                    component={RouterLink}\n                    to=\"/contacts\"\n                >\n                    Hot contacts\n                </Link>\n            </Box>\n            <Card>\n                <SimpleList<Contact>\n                    basePath=\"/contacts\"\n                    linkType=\"show\"\n                    ids={contactIds}\n                    data={contactData}\n                    total={contactTotal}\n                    loaded={contactsLoaded}\n                    primaryText={contact =>\n                        `${contact.first_name} ${contact.last_name}`\n                    }\n                    secondaryText={contact =>\n                        formatDistance(\n                            new Date(contact.last_seen),\n                            new Date(),\n                            {\n                                addSuffix: true,\n                            }\n                        )\n                    }\n                    leftAvatar={contact => <Avatar record={contact} />}\n                />\n            </Card>\n        </>\n    );\n};\n","import * as React from 'react';\nimport { Card, CardContent, Typography, Box } from '@material-ui/core';\nimport NoteIcon from '@material-ui/icons/Note';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n    useGetList,\n    useGetIdentity,\n    ReferenceField,\n    TextField,\n    FunctionField,\n} from 'react-admin';\nimport { formatDistance } from 'date-fns';\n\nimport { Contact as ContactType } from '../types';\n\nconst useStyles = makeStyles(theme => ({\n    note: {\n        marginBottom: theme.spacing(2),\n    },\n    noteText: {\n        backgroundColor: '#edf3f0',\n        padding: theme.spacing(1),\n        borderRadius: 10,\n    },\n    noteTextText: {\n        display: '-webkit-box',\n        '-webkit-line-clamp': 3,\n        '-webkit-box-orient': 'vertical',\n        overflow: 'hidden',\n    },\n}));\n\nexport const LatestNotes = () => {\n    const classes = useStyles();\n    const { identity } = useGetIdentity();\n    const {\n        data: contactNotesData,\n        ids: contactNotesIds,\n        loaded: contactNotesLoaded,\n    } = useGetList(\n        'contactNotes',\n        { page: 1, perPage: 5 },\n        { field: 'date', order: 'DESC' },\n        { sales_id: identity?.id },\n        { enabled: Number.isInteger(identity?.id) }\n    );\n    const {\n        data: dealNotesData,\n        ids: dealNotesIds,\n        loaded: dealNotesLoaded,\n    } = useGetList(\n        'dealNotes',\n        { page: 1, perPage: 5 },\n        { field: 'date', order: 'DESC' },\n        { sales_id: identity?.id },\n        { enabled: Number.isInteger(identity?.id) }\n    );\n    if (!contactNotesLoaded || !dealNotesLoaded) {\n        return null;\n    }\n    // TypeScript guards\n    if (\n        !contactNotesIds ||\n        !contactNotesData ||\n        !dealNotesIds ||\n        !dealNotesData\n    ) {\n        return null;\n    }\n\n    const allNotes = ([] as any[])\n        .concat(\n            contactNotesIds.map(id => ({\n                ...contactNotesData[id],\n                type: 'contactNote',\n            })),\n            dealNotesIds.map(id => ({ ...dealNotesData[id], type: 'dealNote' }))\n        )\n        .sort((a, b) => new Date(b.date).valueOf() - new Date(a.date).valueOf())\n        .slice(0, 5);\n\n    return (\n        <>\n            <Box display=\"flex\" alignItems=\"center\" marginBottom=\"1em\">\n                <Box ml={2} mr={2} display=\"flex\">\n                    <NoteIcon color=\"disabled\" fontSize=\"large\" />\n                </Box>\n                <Typography variant=\"h5\" color=\"textSecondary\">\n                    My Latest Notes\n                </Typography>\n            </Box>\n            <Card>\n                <CardContent>\n                    {allNotes.map(note => (\n                        <div\n                            id={`${note.type}_${note.id}`}\n                            key={`${note.type}_${note.id}`}\n                            className={classes.note}\n                        >\n                            <Typography color=\"textSecondary\" gutterBottom>\n                                on{' '}\n                                {note.type === 'dealNote' ? (\n                                    <Deal note={note} />\n                                ) : (\n                                    <Contact note={note} />\n                                )}\n                                , added{' '}\n                                {formatDistance(\n                                    new Date(note.date),\n                                    new Date(),\n                                    {\n                                        addSuffix: true,\n                                    }\n                                )}\n                            </Typography>\n                            <div className={classes.noteText}>\n                                <Typography className={classes.noteTextText}>\n                                    {note.text}\n                                </Typography>\n                            </div>\n                        </div>\n                    ))}\n                </CardContent>\n            </Card>\n        </>\n    );\n};\n\nconst Deal = ({ note }: any) => (\n    <>\n        Deal{' '}\n        <ReferenceField\n            record={note}\n            source=\"deal_id\"\n            reference=\"deals\"\n            basePath=\"/deals\"\n            link=\"show\"\n        >\n            <TextField source=\"name\" variant=\"body1\" />\n        </ReferenceField>\n    </>\n);\n\nconst Contact = ({ note }: any) => (\n    <>\n        Contact{' '}\n        <ReferenceField\n            record={note}\n            source=\"contact_id\"\n            reference=\"contacts\"\n            basePath=\"/contacts\"\n            link=\"show\"\n        >\n            <FunctionField<ContactType>\n                variant=\"body1\"\n                render={contact =>\n                    contact ? `${contact.first_name} ${contact.last_name}` : ''\n                }\n            />\n        </ReferenceField>\n    </>\n);\n","import * as React from 'react';\nimport { useEffect, useState } from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport { Card, Link, Box } from '@material-ui/core';\nimport MonetizationOnIcon from '@material-ui/icons/MonetizationOn';\nimport {\n    useGetList,\n    SimpleList,\n    useGetIdentity,\n    ReferenceField,\n    Identifier,\n} from 'react-admin';\n\nimport { CompanyAvatar } from '../companies/CompanyAvatar';\nimport { stages, stageNames } from '../deals/stages';\nimport { Deal } from '../types';\n\nexport const DealsPipeline = () => {\n    const { identity } = useGetIdentity();\n    const { data, ids: unorderedIds, total, loaded } = useGetList<Deal>(\n        'deals',\n        { page: 1, perPage: 10 },\n        { field: 'last_seen', order: 'DESC' },\n        { stage_neq: 'lost', sales_id: identity?.id },\n        { enabled: Number.isInteger(identity?.id) }\n    );\n    const [ids, setIds] = useState(unorderedIds);\n    useEffect(() => {\n        const deals = unorderedIds.map(id => data[id]);\n        const orderedIds: Identifier[] = [];\n        stages\n            .filter(stage => stage !== 'won')\n            .forEach(stage =>\n                deals\n                    .filter(deal => deal.stage === stage)\n                    .forEach(deal => orderedIds.push(deal.id))\n            );\n        setIds(orderedIds);\n    }, [unorderedIds, data]);\n    return (\n        <>\n            <Box display=\"flex\" alignItems=\"center\" marginBottom=\"1em\">\n                <Box ml={2} mr={2} display=\"flex\">\n                    <MonetizationOnIcon color=\"disabled\" fontSize=\"large\" />\n                </Box>\n                <Link\n                    underline=\"none\"\n                    variant=\"h5\"\n                    color=\"textSecondary\"\n                    component={RouterLink}\n                    to=\"/deals\"\n                >\n                    Deals Pipeline\n                </Link>\n            </Box>\n            <Card>\n                <SimpleList<Deal>\n                    basePath=\"/deals\"\n                    linkType=\"show\"\n                    ids={ids}\n                    data={data}\n                    total={total}\n                    loaded={loaded}\n                    primaryText={deal => deal.name}\n                    secondaryText={deal =>\n                        `${deal.amount.toLocaleString('en-US', {\n                            notation: 'compact',\n                            style: 'currency',\n                            currency: 'USD',\n                            currencyDisplay: 'narrowSymbol',\n                            minimumSignificantDigits: 3,\n                            // @ts-ignore\n                        })} , ${stageNames[deal.stage]}`\n                    }\n                    leftAvatar={deal => (\n                        <ReferenceField\n                            source=\"company_id\"\n                            record={deal}\n                            reference=\"companies\"\n                            resource=\"deals\"\n                            basePath=\"/deals\"\n                            link={false}\n                        >\n                            <CompanyAvatar size=\"small\" />\n                        </ReferenceField>\n                    )}\n                />\n            </Card>\n        </>\n    );\n};\n","import * as React from 'react';\nimport { Box } from '@material-ui/core';\n\nimport { Welcome } from './Welcome';\nimport { DealsChart } from './DealsChart';\nimport { HotContacts } from './HotContacts';\nimport { LatestNotes } from './LatestNotes';\nimport { DealsPipeline } from './DealsPipeline';\n\nexport const Dashboard = () => {\n    return (\n        <>\n            <Box display=\"flex\" mt=\"2em\">\n                <Box flex=\"3\" mr=\"1em\">\n                    <DealsChart />\n                </Box>\n                <Box flex=\"1\">\n                    <Welcome />\n                </Box>\n            </Box>\n            <Box display=\"flex\" mt=\"2em\">\n                <Box flex=\"1\" mr=\"1em\">\n                    <LatestNotes />\n                </Box>\n                <Box flex=\"1\" display=\"flex\">\n                    <Box flex=\"1\" mr=\"1em\">\n                        <HotContacts />\n                    </Box>\n                    <Box flex=\"1\">\n                        <DealsPipeline />\n                        {/*<Card>\n            <CardContent>\n              <Typography gutterBottom variant=\"h5\" component=\"h2\">\n                Upcoming tasks\n              </Typography>\n            </CardContent>\n          </Card>*/}\n                    </Box>\n                </Box>\n            </Box>\n        </>\n    );\n};\n","import * as React from 'react';\nimport { Admin, Resource, ListGuesser, defaultTheme } from 'react-admin';\nimport {\n    unstable_createMuiStrictModeTheme,\n    createMuiTheme,\n} from '@material-ui/core/styles';\n\nimport { dataProvider } from './dataProvider';\nimport { authProvider } from './authProvider';\nimport Layout from './Layout';\nimport contacts from './contacts';\nimport companies from './companies';\nimport deals from './deals';\nimport { Dashboard } from './dashboard/Dashboard';\n\n// FIXME MUI bug https://github.com/mui-org/material-ui/issues/13394\nconst theme =\n    process.env.NODE_ENV !== 'production'\n        ? unstable_createMuiStrictModeTheme(defaultTheme)\n        : createMuiTheme(defaultTheme);\n\nconst App = () => (\n    <Admin\n        dataProvider={dataProvider}\n        authProvider={authProvider}\n        layout={Layout}\n        dashboard={Dashboard}\n        theme={theme}\n    >\n        <Resource name=\"deals\" {...deals} />\n        <Resource name=\"contacts\" {...contacts} />\n        <Resource name=\"companies\" {...companies} />\n        <Resource name=\"contactNotes\" />\n        <Resource name=\"dealNotes\" />\n        <Resource name=\"tasks\" list={ListGuesser} />\n        <Resource name=\"sales\" list={ListGuesser} />\n        <Resource name=\"tags\" list={ListGuesser} />\n    </Admin>\n);\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n    if (onPerfEntry && onPerfEntry instanceof Function) {\n        import('web-vitals').then(\n            ({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n                getCLS(onPerfEntry);\n                getFID(onPerfEntry);\n                getFCP(onPerfEntry);\n                getLCP(onPerfEntry);\n                getTTFB(onPerfEntry);\n            }\n        );\n    }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}